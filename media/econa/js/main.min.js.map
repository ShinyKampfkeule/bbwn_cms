{"version":3,"sources":["webpack://econa-js/./node_modules/axios/index.js","webpack://econa-js/./node_modules/axios/lib/adapters/xhr.js","webpack://econa-js/./node_modules/axios/lib/axios.js","webpack://econa-js/./node_modules/axios/lib/cancel/Cancel.js","webpack://econa-js/./node_modules/axios/lib/cancel/CancelToken.js","webpack://econa-js/./node_modules/axios/lib/cancel/isCancel.js","webpack://econa-js/./node_modules/axios/lib/core/Axios.js","webpack://econa-js/./node_modules/axios/lib/core/InterceptorManager.js","webpack://econa-js/./node_modules/axios/lib/core/buildFullPath.js","webpack://econa-js/./node_modules/axios/lib/core/createError.js","webpack://econa-js/./node_modules/axios/lib/core/dispatchRequest.js","webpack://econa-js/./node_modules/axios/lib/core/enhanceError.js","webpack://econa-js/./node_modules/axios/lib/core/mergeConfig.js","webpack://econa-js/./node_modules/axios/lib/core/settle.js","webpack://econa-js/./node_modules/axios/lib/core/transformData.js","webpack://econa-js/./node_modules/axios/lib/defaults.js","webpack://econa-js/./node_modules/axios/lib/helpers/bind.js","webpack://econa-js/./node_modules/axios/lib/helpers/buildURL.js","webpack://econa-js/./node_modules/axios/lib/helpers/combineURLs.js","webpack://econa-js/./node_modules/axios/lib/helpers/cookies.js","webpack://econa-js/./node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack://econa-js/./node_modules/axios/lib/helpers/isAxiosError.js","webpack://econa-js/./node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack://econa-js/./node_modules/axios/lib/helpers/normalizeHeaderName.js","webpack://econa-js/./node_modules/axios/lib/helpers/parseHeaders.js","webpack://econa-js/./node_modules/axios/lib/helpers/spread.js","webpack://econa-js/./node_modules/axios/lib/helpers/validator.js","webpack://econa-js/./node_modules/axios/lib/utils.js","webpack://econa-js/./node_modules/cropperjs/dist/cropper.js","webpack://econa-js/webpack/bootstrap","webpack://econa-js/webpack/runtime/compat get default export","webpack://econa-js/webpack/runtime/define property getters","webpack://econa-js/webpack/runtime/hasOwnProperty shorthand","webpack://econa-js/./src/EconaArticleImages.js","webpack://econa-js/./src/index.js","webpack://econa-js/./src/EconaCustomField.js"],"names":["module","exports","utils","settle","cookies","buildURL","buildFullPath","parseHeaders","isURLSameOrigin","createError","config","Promise","resolve","reject","requestData","data","requestHeaders","headers","responseType","isFormData","request","XMLHttpRequest","auth","username","password","unescape","encodeURIComponent","Authorization","btoa","fullPath","baseURL","url","onloadend","responseHeaders","getAllResponseHeaders","response","responseText","status","statusText","open","method","toUpperCase","params","paramsSerializer","timeout","onreadystatechange","readyState","responseURL","indexOf","setTimeout","onabort","onerror","ontimeout","timeoutErrorMessage","transitional","clarifyTimeoutError","isStandardBrowserEnv","xsrfValue","withCredentials","xsrfCookieName","read","undefined","xsrfHeaderName","forEach","val","key","toLowerCase","setRequestHeader","isUndefined","onDownloadProgress","addEventListener","onUploadProgress","upload","cancelToken","promise","then","cancel","abort","send","bind","Axios","mergeConfig","createInstance","defaultConfig","context","instance","prototype","extend","axios","create","instanceConfig","defaults","Cancel","CancelToken","isCancel","all","promises","spread","isAxiosError","default","message","this","toString","__CANCEL__","executor","TypeError","resolvePromise","token","reason","throwIfRequested","source","c","value","InterceptorManager","dispatchRequest","validator","validators","interceptors","arguments","assertOptions","silentJSONParsing","boolean","forcedJSONParsing","requestInterceptorChain","synchronousRequestInterceptors","interceptor","runWhen","synchronous","unshift","fulfilled","rejected","responseInterceptorChain","push","chain","Array","apply","concat","length","shift","newConfig","onFulfilled","onRejected","error","getUri","replace","handlers","use","options","eject","id","fn","h","isAbsoluteURL","combineURLs","requestedURL","enhanceError","code","Error","transformData","throwIfCancellationRequested","call","transformRequest","merge","common","adapter","transformResponse","toJSON","name","description","number","fileName","lineNumber","columnNumber","stack","config1","config2","valueFromConfig2Keys","mergeDeepPropertiesKeys","defaultToConfig2Keys","directMergeKeys","getMergedValue","target","isPlainObject","isArray","slice","mergeDeepProperties","prop","axiosKeys","otherKeys","Object","keys","filter","validateStatus","fns","normalizeHeaderName","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","process","isArrayBuffer","isBuffer","isStream","isFile","isBlob","isArrayBufferView","buffer","isURLSearchParams","isObject","rawValue","parser","encoder","isString","JSON","parse","trim","e","stringify","stringifySafely","strictJSONParsing","maxContentLength","maxBodyLength","thisArg","args","i","encode","serializedParams","parts","v","isDate","toISOString","join","hashmarkIndex","relativeURL","write","expires","path","domain","secure","cookie","isNumber","Date","toGMTString","document","match","RegExp","decodeURIComponent","remove","now","test","payload","originURL","msie","navigator","userAgent","urlParsingNode","createElement","resolveURL","href","setAttribute","protocol","host","search","hash","hostname","port","pathname","charAt","window","location","requestURL","parsed","normalizedName","ignoreDuplicateOf","split","line","substr","callback","arr","pkg","type","thing","deprecatedWarnings","currentVerArr","version","isOlderVersion","thanVersion","pkgVersionArr","destVer","isDeprecated","formatMessage","opt","desc","opts","console","warn","schema","allowUnknown","result","getPrototypeOf","isFunction","obj","l","hasOwnProperty","constructor","FormData","ArrayBuffer","isView","pipe","URLSearchParams","product","assignValue","a","b","str","stripBOM","content","charCodeAt","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","_objectSpread2","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_typeof","Symbol","iterator","_classCallCheck","Constructor","_defineProperties","props","descriptor","configurable","writable","_toConsumableArray","_arrayLikeToArray","_arrayWithoutHoles","iter","from","_iterableToArray","o","minLen","n","_unsupportedIterableToArray","_nonIterableSpread","len","arr2","IS_BROWSER","WINDOW","IS_TOUCH_DEVICE","documentElement","HAS_POINTER_EVENT","NAMESPACE","ACTION_ALL","ACTION_CROP","ACTION_MOVE","ACTION_ZOOM","ACTION_EAST","ACTION_WEST","ACTION_SOUTH","ACTION_NORTH","ACTION_NORTH_EAST","ACTION_NORTH_WEST","ACTION_SOUTH_EAST","ACTION_SOUTH_WEST","CLASS_CROP","CLASS_DISABLED","CLASS_HIDDEN","CLASS_HIDE","CLASS_INVISIBLE","CLASS_MODAL","CLASS_MOVE","DATA_ACTION","DATA_PREVIEW","DRAG_MODE_CROP","DRAG_MODE_MOVE","DRAG_MODE_NONE","EVENT_CROP","EVENT_CROP_END","EVENT_CROP_MOVE","EVENT_CROP_START","EVENT_DBLCLICK","EVENT_POINTER_DOWN","EVENT_POINTER_MOVE","EVENT_POINTER_UP","EVENT_READY","EVENT_RESIZE","EVENT_WHEEL","EVENT_ZOOM","MIME_TYPE_JPEG","REGEXP_ACTIONS","REGEXP_DATA_URL","REGEXP_DATA_URL_JPEG","REGEXP_TAG_NAME","DEFAULTS","viewMode","dragMode","initialAspectRatio","NaN","aspectRatio","preview","responsive","restore","checkCrossOrigin","checkOrientation","modal","guides","center","highlight","background","autoCrop","autoCropArea","movable","rotatable","scalable","zoomable","zoomOnTouch","zoomOnWheel","wheelZoomRatio","cropBoxMovable","cropBoxResizable","toggleDragModeOnDblclick","minCanvasWidth","minCanvasHeight","minCropBoxWidth","minCropBoxHeight","minContainerWidth","minContainerHeight","ready","cropstart","cropmove","cropend","crop","zoom","isNaN","Number","isPositiveNumber","Infinity","_constructor","toArray","assign","_len","_key","arg","REGEXP_DECIMALS","normalizeDecimalNumber","times","Math","round","REGEXP_SUFFIX","setStyle","element","styles","style","property","addClass","elem","classList","add","className","removeClass","toggleClass","added","REGEXP_CAMEL_CASE","toParamCase","getData","dataset","getAttribute","setData","REGEXP_SPACES","onceSupported","supported","once","listener","get","set","removeEventListener","removeListener","handler","event","listeners","addListener","_handler","_element$listeners","_len2","_key2","dispatchEvent","Event","CustomEvent","detail","bubbles","cancelable","createEvent","initCustomEvent","getOffset","box","getBoundingClientRect","left","pageXOffset","clientLeft","top","pageYOffset","clientTop","REGEXP_ORIGINS","isCrossOriginURL","addTimestamp","timestamp","getTime","getTransforms","_ref","rotate","scaleX","scaleY","translateX","translateY","values","transform","WebkitTransform","msTransform","getPointer","_ref2","endOnly","pageX","pageY","end","endX","endY","startX","startY","getAdjustedSizes","_ref4","height","width","isValidWidth","isValidHeight","adjustedWidth","getSourceCanvas","image","_ref6","_ref7","_ref8","imageAspectRatio","imageNaturalWidth","naturalWidth","imageNaturalHeight","naturalHeight","_ref6$rotate","_ref6$scaleX","_ref6$scaleY","_ref8$fillColor","fillColor","_ref8$imageSmoothingE","imageSmoothingEnabled","_ref8$imageSmoothingQ","imageSmoothingQuality","_ref8$maxWidth","maxWidth","_ref8$maxHeight","maxHeight","_ref8$minWidth","minWidth","_ref8$minHeight","minHeight","canvas","getContext","maxSizes","minSizes","min","max","destMaxSizes","destMinSizes","destWidth","destHeight","fillStyle","fillRect","save","translate","PI","scale","drawImage","map","param","floor","fromCharCode","String","REGEXP_DATA_URL_HEAD","resetAndGetOrientation","arrayBuffer","orientation","dataView","DataView","littleEndian","app1Start","ifdStart","getUint8","byteLength","offset","tiffOffset","start","getStringFromCharCode","endianness","getUint16","firstIFDOffset","getUint32","_offset","_length","setUint16","render","initContainer","initCanvas","initCropBox","renderCanvas","cropped","renderCropBox","container","cropper","containerData","offsetWidth","offsetHeight","imageData","rotated","abs","canvasWidth","canvasHeight","canvasData","limited","limitCanvas","oldLeft","oldTop","initialCanvasData","sizeLimited","positionLimited","cropBoxData","_getAdjustedSizes","newCanvasLeft","newCanvasTop","minLeft","minTop","maxLeft","maxTop","changed","transformed","_getRotatedSizes","_ref5","degree","arc","sinArc","sin","cosArc","cos","newWidth","newHeight","getRotatedSizes","renderImage","limitCropBox","output","initialCropBoxData","maxCropBoxWidth","maxCropBoxHeight","face","cropBox","disabled","initPreview","crossOrigin","crossOriginUrl","alt","src","viewBox","appendChild","viewBoxImage","previews","ownerDocument","querySelectorAll","querySelector","el","img","html","innerHTML","cssText","resetPreview","removeAttribute","removeData","cropBoxWidth","cropBoxHeight","originalWidth","originalHeight","ratio","getElementsByTagName","events","onCropStart","cropStart","onWheel","wheel","passive","capture","onDblclick","dblclick","onCropMove","cropMove","onCropEnd","cropEnd","onResize","resize","unbind","ratioX","ratioY","getCanvasData","getCropBoxData","setCanvasData","setCropBoxData","setDragMode","dragBox","contains","_this","delta","preventDefault","wheeling","deltaY","wheelDelta","buttons","button","pointerType","ctrlKey","action","pointers","changedTouches","touch","identifier","pointerId","originalEvent","cropping","change","right","bottom","renderable","shiftKey","pointer","range","x","y","check","side","move","pointers2","maxRatio","pointer2","x1","y1","x2","y2","z1","sqrt","getMaxZoomRatio","p","methods","reset","initialImageData","clear","hasSameSize","isImg","replaced","uncreate","load","enable","disable","destroy","originalUrl","offsetX","offsetY","_this$canvasData","moveTo","_originalEvent","zoomTo","pivot","oldRatio","count","_ref3","getPointersCenter","rotateTo","_scaleX","_scaleY","rounded","getContainerData","getImageData","sized","widthChanged","heightChanged","getCroppedCanvas","HTMLCanvasElement","_this$getData","initialX","initialY","initialWidth","initialHeight","_options$imageSmoothi","srcWidth","srcHeight","dstX","dstY","dstWidth","dstHeight","sourceWidth","sourceHeight","srcX","srcY","setAspectRatio","mode","croppable","AnotherCropper","Cropper","tagName","reloading","sizing","init","staticProps","protoProps","toDataURL","base64","binary","uint8","atob","Uint8Array","clone","xhr","onprogress","getResponseHeader","onload","mimeType","chunks","subarray","arrayBufferToDataURL","_parseOrientation","parseOrientation","stop","parentNode","insertBefore","nextSibling","_this2","isIOSWebKit","done","build","sizingImage","body","removeChild","template","getElementsByClassName","unbuild","factory","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","d","definition","EconaArticleImages","econa","cropperContainer","cropperImage","previewImage","editButton","deleteButton","cropperButtons","aspectRatioField","uploadField","deleteField","fileField","filenameField","currentField","keyField","pathField","widthField","heightField","textContent","createModal","addEvents","disableToolbarButtons","file","files","currentValue","MutationObserver","mutations","observer","observe","subtree","attributes","econaJVersion","jQuery","on","click","mediaButton","nextElementSibling","edit","currentTarget","option","secondOption","direction","degrees","append","econaSessionToken","econaBaseUrl","success","filename","enableToolbarButtons","parseInt","auto_edit","alert","cropData","closeModal","openModal","setCropperWidth","econaPlaceholderImage","bootstrap","Modal","keyboard","backdrop","find","show","hide","screenWidth","innerWidth","screenHeight","innerHeight","EconaCustomField","contextField","valueField","validatorField","captionField","creditsField","altField","updateValue","caption","credits","textFields","fieldId","itemId","articleImages","customFields"],"mappings":";2BAAAA,EAAOC,QAAU,EAAjB,M,2BCEA,IAAIC,EAAQ,EAAQ,KAChBC,EAAS,EAAQ,IACjBC,EAAU,EAAQ,KAClBC,EAAW,EAAQ,KACnBC,EAAgB,EAAQ,IACxBC,EAAe,EAAQ,KACvBC,EAAkB,EAAQ,KAC1BC,EAAc,EAAQ,IAE1BT,EAAOC,QAAU,SAAoBS,GACnC,OAAO,IAAIC,SAAQ,SAA4BC,EAASC,GACtD,IAAIC,EAAcJ,EAAOK,KACrBC,EAAiBN,EAAOO,QACxBC,EAAeR,EAAOQ,aAEtBhB,EAAMiB,WAAWL,WACZE,EAAe,gBAGxB,IAAII,EAAU,IAAIC,eAGlB,GAAIX,EAAOY,KAAM,CACf,IAAIC,EAAWb,EAAOY,KAAKC,UAAY,GACnCC,EAAWd,EAAOY,KAAKE,SAAWC,SAASC,mBAAmBhB,EAAOY,KAAKE,WAAa,GAC3FR,EAAeW,cAAgB,SAAWC,KAAKL,EAAW,IAAMC,GAGlE,IAAIK,EAAWvB,EAAcI,EAAOoB,QAASpB,EAAOqB,KAMpD,SAASC,IACP,GAAKZ,EAAL,CAIA,IAAIa,EAAkB,0BAA2Bb,EAAUb,EAAaa,EAAQc,yBAA2B,KAGvGC,EAAW,CACbpB,KAHkBG,GAAiC,SAAjBA,GAA6C,SAAjBA,EACvCE,EAAQe,SAA/Bf,EAAQgB,aAGRC,OAAQjB,EAAQiB,OAChBC,WAAYlB,EAAQkB,WACpBrB,QAASgB,EACTvB,OAAQA,EACRU,QAASA,GAGXjB,EAAOS,EAASC,EAAQsB,GAGxBf,EAAU,MAmEZ,GA5FAA,EAAQmB,KAAK7B,EAAO8B,OAAOC,cAAepC,EAASwB,EAAUnB,EAAOgC,OAAQhC,EAAOiC,mBAAmB,GAGtGvB,EAAQwB,QAAUlC,EAAOkC,QAyBrB,cAAexB,EAEjBA,EAAQY,UAAYA,EAGpBZ,EAAQyB,mBAAqB,WACtBzB,GAAkC,IAAvBA,EAAQ0B,aAQD,IAAnB1B,EAAQiB,QAAkBjB,EAAQ2B,aAAwD,IAAzC3B,EAAQ2B,YAAYC,QAAQ,WAKjFC,WAAWjB,IAKfZ,EAAQ8B,QAAU,WACX9B,IAILP,EAAOJ,EAAY,kBAAmBC,EAAQ,eAAgBU,IAG9DA,EAAU,OAIZA,EAAQ+B,QAAU,WAGhBtC,EAAOJ,EAAY,gBAAiBC,EAAQ,KAAMU,IAGlDA,EAAU,MAIZA,EAAQgC,UAAY,WAClB,IAAIC,EAAsB,cAAgB3C,EAAOkC,QAAU,cACvDlC,EAAO2C,sBACTA,EAAsB3C,EAAO2C,qBAE/BxC,EAAOJ,EACL4C,EACA3C,EACAA,EAAO4C,cAAgB5C,EAAO4C,aAAaC,oBAAsB,YAAc,eAC/EnC,IAGFA,EAAU,MAMRlB,EAAMsD,uBAAwB,CAEhC,IAAIC,GAAa/C,EAAOgD,iBAAmBlD,EAAgBqB,KAAcnB,EAAOiD,eAC9EvD,EAAQwD,KAAKlD,EAAOiD,qBACpBE,EAEEJ,IACFzC,EAAeN,EAAOoD,gBAAkBL,GAKxC,qBAAsBrC,GACxBlB,EAAM6D,QAAQ/C,GAAgB,SAA0BgD,EAAKC,QAChC,IAAhBnD,GAAqD,iBAAtBmD,EAAIC,qBAErClD,EAAeiD,GAGtB7C,EAAQ+C,iBAAiBF,EAAKD,MAM/B9D,EAAMkE,YAAY1D,EAAOgD,mBAC5BtC,EAAQsC,kBAAoBhD,EAAOgD,iBAIjCxC,GAAiC,SAAjBA,IAClBE,EAAQF,aAAeR,EAAOQ,cAIS,mBAA9BR,EAAO2D,oBAChBjD,EAAQkD,iBAAiB,WAAY5D,EAAO2D,oBAIP,mBAA5B3D,EAAO6D,kBAAmCnD,EAAQoD,QAC3DpD,EAAQoD,OAAOF,iBAAiB,WAAY5D,EAAO6D,kBAGjD7D,EAAO+D,aAET/D,EAAO+D,YAAYC,QAAQC,MAAK,SAAoBC,GAC7CxD,IAILA,EAAQyD,QACRhE,EAAO+D,GAEPxD,EAAU,SAITN,IACHA,EAAc,MAIhBM,EAAQ0D,KAAKhE,Q,2BCxLjB,IAAIZ,EAAQ,EAAQ,KAChB6E,EAAO,EAAQ,KACfC,EAAQ,EAAQ,KAChBC,EAAc,EAAQ,KAS1B,SAASC,EAAeC,GACtB,IAAIC,EAAU,IAAIJ,EAAMG,GACpBE,EAAWN,EAAKC,EAAMM,UAAUlE,QAASgE,GAQ7C,OALAlF,EAAMqF,OAAOF,EAAUL,EAAMM,UAAWF,GAGxClF,EAAMqF,OAAOF,EAAUD,GAEhBC,EAIT,IAAIG,EAAQN,EAtBG,EAAQ,MAyBvBM,EAAMR,MAAQA,EAGdQ,EAAMC,OAAS,SAAgBC,GAC7B,OAAOR,EAAeD,EAAYO,EAAMG,SAAUD,KAIpDF,EAAMI,OAAS,EAAQ,KACvBJ,EAAMK,YAAc,EAAQ,KAC5BL,EAAMM,SAAW,EAAQ,KAGzBN,EAAMO,IAAM,SAAaC,GACvB,OAAOrF,QAAQoF,IAAIC,IAErBR,EAAMS,OAAS,EAAQ,KAGvBT,EAAMU,aAAe,EAAQ,KAE7BlG,EAAOC,QAAUuF,EAGjBxF,EAAOC,QAAQkG,QAAUX,G,qBC/CzB,SAASI,EAAOQ,GACdC,KAAKD,QAAUA,EAGjBR,EAAON,UAAUgB,SAAW,WAC1B,MAAO,UAAYD,KAAKD,QAAU,KAAOC,KAAKD,QAAU,KAG1DR,EAAON,UAAUiB,YAAa,EAE9BvG,EAAOC,QAAU2F,G,2BChBjB,IAAIA,EAAS,EAAQ,KAQrB,SAASC,EAAYW,GACnB,GAAwB,mBAAbA,EACT,MAAM,IAAIC,UAAU,gCAGtB,IAAIC,EACJL,KAAK3B,QAAU,IAAI/D,SAAQ,SAAyBC,GAClD8F,EAAiB9F,KAGnB,IAAI+F,EAAQN,KACZG,GAAS,SAAgBJ,GACnBO,EAAMC,SAKVD,EAAMC,OAAS,IAAIhB,EAAOQ,GAC1BM,EAAeC,EAAMC,YAOzBf,EAAYP,UAAUuB,iBAAmB,WACvC,GAAIR,KAAKO,OACP,MAAMP,KAAKO,QAQff,EAAYiB,OAAS,WACnB,IAAIlC,EAIJ,MAAO,CACL+B,MAJU,IAAId,GAAY,SAAkBkB,GAC5CnC,EAASmC,KAITnC,OAAQA,IAIZ5E,EAAOC,QAAU4F,G,qBCtDjB7F,EAAOC,QAAU,SAAkB+G,GACjC,SAAUA,IAASA,EAAMT,c,2BCD3B,IAAIrG,EAAQ,EAAQ,KAChBG,EAAW,EAAQ,KACnB4G,EAAqB,EAAQ,KAC7BC,EAAkB,EAAQ,KAC1BjC,EAAc,EAAQ,KACtBkC,EAAY,EAAQ,KAEpBC,EAAaD,EAAUC,WAM3B,SAASpC,EAAMU,GACbW,KAAKV,SAAWD,EAChBW,KAAKgB,aAAe,CAClBjG,QAAS,IAAI6F,EACb9E,SAAU,IAAI8E,GASlBjC,EAAMM,UAAUlE,QAAU,SAAiBV,GAGnB,iBAAXA,GACTA,EAAS4G,UAAU,IAAM,IAClBvF,IAAMuF,UAAU,GAEvB5G,EAASA,GAAU,IAGrBA,EAASuE,EAAYoB,KAAKV,SAAUjF,IAGzB8B,OACT9B,EAAO8B,OAAS9B,EAAO8B,OAAO0B,cACrBmC,KAAKV,SAASnD,OACvB9B,EAAO8B,OAAS6D,KAAKV,SAASnD,OAAO0B,cAErCxD,EAAO8B,OAAS,MAGlB,IAAIc,EAAe5C,EAAO4C,kBAELO,IAAjBP,GACF6D,EAAUI,cAAcjE,EAAc,CACpCkE,kBAAmBJ,EAAW9D,aAAa8D,EAAWK,QAAS,SAC/DC,kBAAmBN,EAAW9D,aAAa8D,EAAWK,QAAS,SAC/DlE,oBAAqB6D,EAAW9D,aAAa8D,EAAWK,QAAS,WAChE,GAIL,IAAIE,EAA0B,GAC1BC,GAAiC,EACrCvB,KAAKgB,aAAajG,QAAQ2C,SAAQ,SAAoC8D,GACjC,mBAAxBA,EAAYC,UAA0D,IAAhCD,EAAYC,QAAQpH,KAIrEkH,EAAiCA,GAAkCC,EAAYE,YAE/EJ,EAAwBK,QAAQH,EAAYI,UAAWJ,EAAYK,cAGrE,IAKIxD,EALAyD,EAA2B,GAO/B,GANA9B,KAAKgB,aAAalF,SAAS4B,SAAQ,SAAkC8D,GACnEM,EAAyBC,KAAKP,EAAYI,UAAWJ,EAAYK,cAK9DN,EAAgC,CACnC,IAAIS,EAAQ,CAACnB,OAAiBrD,GAM9B,IAJAyE,MAAMhD,UAAU0C,QAAQO,MAAMF,EAAOV,GACrCU,EAAQA,EAAMG,OAAOL,GAErBzD,EAAU/D,QAAQC,QAAQF,GACnB2H,EAAMI,QACX/D,EAAUA,EAAQC,KAAK0D,EAAMK,QAASL,EAAMK,SAG9C,OAAOhE,EAKT,IADA,IAAIiE,EAAYjI,EACTiH,EAAwBc,QAAQ,CACrC,IAAIG,EAAcjB,EAAwBe,QACtCG,EAAalB,EAAwBe,QACzC,IACEC,EAAYC,EAAYD,GACxB,MAAOG,GACPD,EAAWC,GACX,OAIJ,IACEpE,EAAUwC,EAAgByB,GAC1B,MAAOG,GACP,OAAOnI,QAAQE,OAAOiI,GAGxB,KAAOX,EAAyBM,QAC9B/D,EAAUA,EAAQC,KAAKwD,EAAyBO,QAASP,EAAyBO,SAGpF,OAAOhE,GAGTM,EAAMM,UAAUyD,OAAS,SAAgBrI,GAEvC,OADAA,EAASuE,EAAYoB,KAAKV,SAAUjF,GAC7BL,EAASK,EAAOqB,IAAKrB,EAAOgC,OAAQhC,EAAOiC,kBAAkBqG,QAAQ,MAAO,KAIrF9I,EAAM6D,QAAQ,CAAC,SAAU,MAAO,OAAQ,YAAY,SAA6BvB,GAE/EwC,EAAMM,UAAU9C,GAAU,SAAST,EAAKrB,GACtC,OAAO2F,KAAKjF,QAAQ6D,EAAYvE,GAAU,GAAI,CAC5C8B,OAAQA,EACRT,IAAKA,EACLhB,MAAOL,GAAU,IAAIK,YAK3Bb,EAAM6D,QAAQ,CAAC,OAAQ,MAAO,UAAU,SAA+BvB,GAErEwC,EAAMM,UAAU9C,GAAU,SAAST,EAAKhB,EAAML,GAC5C,OAAO2F,KAAKjF,QAAQ6D,EAAYvE,GAAU,GAAI,CAC5C8B,OAAQA,EACRT,IAAKA,EACLhB,KAAMA,SAKZf,EAAOC,QAAU+E,G,2BCjJjB,IAAI9E,EAAQ,EAAQ,KAEpB,SAAS+G,IACPZ,KAAK4C,SAAW,GAWlBhC,EAAmB3B,UAAU4D,IAAM,SAAajB,EAAWC,EAAUiB,GAOnE,OANA9C,KAAK4C,SAASb,KAAK,CACjBH,UAAWA,EACXC,SAAUA,EACVH,cAAaoB,GAAUA,EAAQpB,YAC/BD,QAASqB,EAAUA,EAAQrB,QAAU,OAEhCzB,KAAK4C,SAASR,OAAS,GAQhCxB,EAAmB3B,UAAU8D,MAAQ,SAAeC,GAC9ChD,KAAK4C,SAASI,KAChBhD,KAAK4C,SAASI,GAAM,OAYxBpC,EAAmB3B,UAAUvB,QAAU,SAAiBuF,GACtDpJ,EAAM6D,QAAQsC,KAAK4C,UAAU,SAAwBM,GACzC,OAANA,GACFD,EAAGC,OAKTvJ,EAAOC,QAAUgH,G,0BCnDjB,IAAIuC,EAAgB,EAAQ,KACxBC,EAAc,EAAQ,KAW1BzJ,EAAOC,QAAU,SAAuB6B,EAAS4H,GAC/C,OAAI5H,IAAY0H,EAAcE,GACrBD,EAAY3H,EAAS4H,GAEvBA,I,0BChBT,IAAIC,EAAe,EAAQ,KAY3B3J,EAAOC,QAAU,SAAqBmG,EAAS1F,EAAQkJ,EAAMxI,EAASe,GACpE,IAAI2G,EAAQ,IAAIe,MAAMzD,GACtB,OAAOuD,EAAab,EAAOpI,EAAQkJ,EAAMxI,EAASe,K,2BCdpD,IAAIjC,EAAQ,EAAQ,KAChB4J,EAAgB,EAAQ,KACxBhE,EAAW,EAAQ,KACnBH,EAAW,EAAQ,KAKvB,SAASoE,EAA6BrJ,GAChCA,EAAO+D,aACT/D,EAAO+D,YAAYoC,mBAUvB7G,EAAOC,QAAU,SAAyBS,GA8BxC,OA7BAqJ,EAA6BrJ,GAG7BA,EAAOO,QAAUP,EAAOO,SAAW,GAGnCP,EAAOK,KAAO+I,EAAcE,KAC1BtJ,EACAA,EAAOK,KACPL,EAAOO,QACPP,EAAOuJ,kBAITvJ,EAAOO,QAAUf,EAAMgK,MACrBxJ,EAAOO,QAAQkJ,QAAU,GACzBzJ,EAAOO,QAAQP,EAAO8B,SAAW,GACjC9B,EAAOO,SAGTf,EAAM6D,QACJ,CAAC,SAAU,MAAO,OAAQ,OAAQ,MAAO,QAAS,WAClD,SAA2BvB,UAClB9B,EAAOO,QAAQuB,OAIZ9B,EAAO0J,SAAWzE,EAASyE,SAE1B1J,GAAQiE,MAAK,SAA6BxC,GAWvD,OAVA4H,EAA6BrJ,GAG7ByB,EAASpB,KAAO+I,EAAcE,KAC5BtJ,EACAyB,EAASpB,KACToB,EAASlB,QACTP,EAAO2J,mBAGFlI,KACN,SAA4ByE,GAe7B,OAdKd,EAASc,KACZmD,EAA6BrJ,GAGzBkG,GAAUA,EAAOzE,WACnByE,EAAOzE,SAASpB,KAAO+I,EAAcE,KACnCtJ,EACAkG,EAAOzE,SAASpB,KAChB6F,EAAOzE,SAASlB,QAChBP,EAAO2J,qBAKN1J,QAAQE,OAAO+F,Q,qBCnE1B5G,EAAOC,QAAU,SAAsB6I,EAAOpI,EAAQkJ,EAAMxI,EAASe,GA4BnE,OA3BA2G,EAAMpI,OAASA,EACXkJ,IACFd,EAAMc,KAAOA,GAGfd,EAAM1H,QAAUA,EAChB0H,EAAM3G,SAAWA,EACjB2G,EAAM5C,cAAe,EAErB4C,EAAMwB,OAAS,WACb,MAAO,CAELlE,QAASC,KAAKD,QACdmE,KAAMlE,KAAKkE,KAEXC,YAAanE,KAAKmE,YAClBC,OAAQpE,KAAKoE,OAEbC,SAAUrE,KAAKqE,SACfC,WAAYtE,KAAKsE,WACjBC,aAAcvE,KAAKuE,aACnBC,MAAOxE,KAAKwE,MAEZnK,OAAQ2F,KAAK3F,OACbkJ,KAAMvD,KAAKuD,OAGRd,I,2BCtCT,IAAI5I,EAAQ,EAAQ,KAUpBF,EAAOC,QAAU,SAAqB6K,EAASC,GAE7CA,EAAUA,GAAW,GACrB,IAAIrK,EAAS,GAETsK,EAAuB,CAAC,MAAO,SAAU,QACzCC,EAA0B,CAAC,UAAW,OAAQ,QAAS,UACvDC,EAAuB,CACzB,UAAW,mBAAoB,oBAAqB,mBACpD,UAAW,iBAAkB,kBAAmB,UAAW,eAAgB,iBAC3E,iBAAkB,mBAAoB,qBAAsB,aAC5D,mBAAoB,gBAAiB,eAAgB,YAAa,YAClE,aAAc,cAAe,aAAc,oBAEzCC,EAAkB,CAAC,kBAEvB,SAASC,EAAeC,EAAQvE,GAC9B,OAAI5G,EAAMoL,cAAcD,IAAWnL,EAAMoL,cAAcxE,GAC9C5G,EAAMgK,MAAMmB,EAAQvE,GAClB5G,EAAMoL,cAAcxE,GACtB5G,EAAMgK,MAAM,GAAIpD,GACd5G,EAAMqL,QAAQzE,GAChBA,EAAO0E,QAET1E,EAGT,SAAS2E,EAAoBC,GACtBxL,EAAMkE,YAAY2G,EAAQW,IAEnBxL,EAAMkE,YAAY0G,EAAQY,MACpChL,EAAOgL,GAAQN,OAAevH,EAAWiH,EAAQY,KAFjDhL,EAAOgL,GAAQN,EAAeN,EAAQY,GAAOX,EAAQW,IAMzDxL,EAAM6D,QAAQiH,GAAsB,SAA0BU,GACvDxL,EAAMkE,YAAY2G,EAAQW,MAC7BhL,EAAOgL,GAAQN,OAAevH,EAAWkH,EAAQW,QAIrDxL,EAAM6D,QAAQkH,EAAyBQ,GAEvCvL,EAAM6D,QAAQmH,GAAsB,SAA0BQ,GACvDxL,EAAMkE,YAAY2G,EAAQW,IAEnBxL,EAAMkE,YAAY0G,EAAQY,MACpChL,EAAOgL,GAAQN,OAAevH,EAAWiH,EAAQY,KAFjDhL,EAAOgL,GAAQN,OAAevH,EAAWkH,EAAQW,OAMrDxL,EAAM6D,QAAQoH,GAAiB,SAAeO,GACxCA,KAAQX,EACVrK,EAAOgL,GAAQN,EAAeN,EAAQY,GAAOX,EAAQW,IAC5CA,KAAQZ,IACjBpK,EAAOgL,GAAQN,OAAevH,EAAWiH,EAAQY,QAIrD,IAAIC,EAAYX,EACbxC,OAAOyC,GACPzC,OAAO0C,GACP1C,OAAO2C,GAENS,EAAYC,OACbC,KAAKhB,GACLtC,OAAOqD,OAAOC,KAAKf,IACnBgB,QAAO,SAAyB9H,GAC/B,OAAmC,IAA5B0H,EAAU3I,QAAQiB,MAK7B,OAFA/D,EAAM6D,QAAQ6H,EAAWH,GAElB/K,I,0BCnFT,IAAID,EAAc,EAAQ,IAS1BT,EAAOC,QAAU,SAAgBW,EAASC,EAAQsB,GAChD,IAAI6J,EAAiB7J,EAASzB,OAAOsL,eAChC7J,EAASE,QAAW2J,IAAkBA,EAAe7J,EAASE,QAGjExB,EAAOJ,EACL,mCAAqC0B,EAASE,OAC9CF,EAASzB,OACT,KACAyB,EAASf,QACTe,IAPFvB,EAAQuB,K,2BCZZ,IAAIjC,EAAQ,EAAQ,KAChByF,EAAW,EAAQ,KAUvB3F,EAAOC,QAAU,SAAuBc,EAAME,EAASgL,GACrD,IAAI7G,EAAUiB,MAAQV,EAMtB,OAJAzF,EAAM6D,QAAQkI,GAAK,SAAmB3C,GACpCvI,EAAOuI,EAAGU,KAAK5E,EAASrE,EAAME,MAGzBF,I,2BClBT,IAAIb,EAAQ,EAAQ,KAChBgM,EAAsB,EAAQ,IAC9BvC,EAAe,EAAQ,KAEvBwC,EAAuB,CACzB,eAAgB,qCAGlB,SAASC,EAAsBnL,EAAS+F,IACjC9G,EAAMkE,YAAYnD,IAAYf,EAAMkE,YAAYnD,EAAQ,mBAC3DA,EAAQ,gBAAkB+F,GA+B9B,IA1BMoD,EA0BFzE,EAAW,CAEbrC,aAAc,CACZkE,mBAAmB,EACnBE,mBAAmB,EACnBnE,qBAAqB,GAGvB6G,UAjC8B,oBAAnB/I,gBAGmB,oBAAZgL,SAAuE,qBAA5CR,OAAOvG,UAAUgB,SAAS0D,KAAKqC,YAD1EjC,EAAU,EAAQ,MAKbA,GA4BPH,iBAAkB,CAAC,SAA0BlJ,EAAME,GAIjD,OAHAiL,EAAoBjL,EAAS,UAC7BiL,EAAoBjL,EAAS,gBAEzBf,EAAMiB,WAAWJ,IACnBb,EAAMoM,cAAcvL,IACpBb,EAAMqM,SAASxL,IACfb,EAAMsM,SAASzL,IACfb,EAAMuM,OAAO1L,IACbb,EAAMwM,OAAO3L,GAENA,EAELb,EAAMyM,kBAAkB5L,GACnBA,EAAK6L,OAEV1M,EAAM2M,kBAAkB9L,IAC1BqL,EAAsBnL,EAAS,mDACxBF,EAAKuF,YAEVpG,EAAM4M,SAAS/L,IAAUE,GAAuC,qBAA5BA,EAAQ,iBAC9CmL,EAAsBnL,EAAS,oBA9CrC,SAAyB8L,EAAUC,EAAQC,GACzC,GAAI/M,EAAMgN,SAASH,GACjB,IAEE,OADA,EAAWI,KAAKC,OAAOL,GAChB7M,EAAMmN,KAAKN,GAClB,MAAOO,GACP,GAAe,gBAAXA,EAAE/C,KACJ,MAAM+C,EAKZ,OAAO,EAAYH,KAAKI,WAAWR,GAmCxBS,CAAgBzM,IAElBA,IAGTsJ,kBAAmB,CAAC,SAA2BtJ,GAC7C,IAAIuC,EAAe+C,KAAK/C,aACpBkE,EAAoBlE,GAAgBA,EAAakE,kBACjDE,EAAoBpE,GAAgBA,EAAaoE,kBACjD+F,GAAqBjG,GAA2C,SAAtBnB,KAAKnF,aAEnD,GAAIuM,GAAsB/F,GAAqBxH,EAAMgN,SAASnM,IAASA,EAAK0H,OAC1E,IACE,OAAO0E,KAAKC,MAAMrM,GAClB,MAAOuM,GACP,GAAIG,EAAmB,CACrB,GAAe,gBAAXH,EAAE/C,KACJ,MAAMZ,EAAa2D,EAAGjH,KAAM,gBAE9B,MAAMiH,GAKZ,OAAOvM,IAOT6B,QAAS,EAETe,eAAgB,aAChBG,eAAgB,eAEhB4J,kBAAmB,EACnBC,eAAgB,EAEhB3B,eAAgB,SAAwB3J,GACtC,OAAOA,GAAU,KAAOA,EAAS,KAIrC,QAAmB,CACjB8H,OAAQ,CACN,OAAU,uCAIdjK,EAAM6D,QAAQ,CAAC,SAAU,MAAO,SAAS,SAA6BvB,GACpEmD,EAAS1E,QAAQuB,GAAU,MAG7BtC,EAAM6D,QAAQ,CAAC,OAAQ,MAAO,UAAU,SAA+BvB,GACrEmD,EAAS1E,QAAQuB,GAAUtC,EAAMgK,MAAMiC,MAGzCnM,EAAOC,QAAU0F,G,qBCnIjB3F,EAAOC,QAAU,SAAcqJ,EAAIsE,GACjC,OAAO,WAEL,IADA,IAAIC,EAAO,IAAIvF,MAAMhB,UAAUmB,QACtBqF,EAAI,EAAGA,EAAID,EAAKpF,OAAQqF,IAC/BD,EAAKC,GAAKxG,UAAUwG,GAEtB,OAAOxE,EAAGf,MAAMqF,EAASC,M,2BCN7B,IAAI3N,EAAQ,EAAQ,KAEpB,SAAS6N,EAAO/J,GACd,OAAOtC,mBAAmBsC,GACxBgF,QAAQ,QAAS,KACjBA,QAAQ,OAAQ,KAChBA,QAAQ,QAAS,KACjBA,QAAQ,OAAQ,KAChBA,QAAQ,QAAS,KACjBA,QAAQ,QAAS,KAUrBhJ,EAAOC,QAAU,SAAkB8B,EAAKW,EAAQC,GAE9C,IAAKD,EACH,OAAOX,EAGT,IAAIiM,EACJ,GAAIrL,EACFqL,EAAmBrL,EAAiBD,QAC/B,GAAIxC,EAAM2M,kBAAkBnK,GACjCsL,EAAmBtL,EAAO4D,eACrB,CACL,IAAI2H,EAAQ,GAEZ/N,EAAM6D,QAAQrB,GAAQ,SAAmBsB,EAAKC,GACxCD,UAIA9D,EAAMqL,QAAQvH,GAChBC,GAAY,KAEZD,EAAM,CAACA,GAGT9D,EAAM6D,QAAQC,GAAK,SAAoBkK,GACjChO,EAAMiO,OAAOD,GACfA,EAAIA,EAAEE,cACGlO,EAAM4M,SAASoB,KACxBA,EAAIf,KAAKI,UAAUW,IAErBD,EAAM7F,KAAK2F,EAAO9J,GAAO,IAAM8J,EAAOG,WAI1CF,EAAmBC,EAAMI,KAAK,KAGhC,GAAIL,EAAkB,CACpB,IAAIM,EAAgBvM,EAAIiB,QAAQ,MACT,IAAnBsL,IACFvM,EAAMA,EAAIyJ,MAAM,EAAG8C,IAGrBvM,KAA8B,IAAtBA,EAAIiB,QAAQ,KAAc,IAAM,KAAOgL,EAGjD,OAAOjM,I,qBC3DT/B,EAAOC,QAAU,SAAqB6B,EAASyM,GAC7C,OAAOA,EACHzM,EAAQkH,QAAQ,OAAQ,IAAM,IAAMuF,EAAYvF,QAAQ,OAAQ,IAChElH,I,2BCVN,IAAI5B,EAAQ,EAAQ,KAEpBF,EAAOC,QACLC,EAAMsD,uBAIK,CACLgL,MAAO,SAAejE,EAAMvD,EAAOyH,EAASC,EAAMC,EAAQC,GACxD,IAAIC,EAAS,GACbA,EAAOzG,KAAKmC,EAAO,IAAM7I,mBAAmBsF,IAExC9G,EAAM4O,SAASL,IACjBI,EAAOzG,KAAK,WAAa,IAAI2G,KAAKN,GAASO,eAGzC9O,EAAMgN,SAASwB,IACjBG,EAAOzG,KAAK,QAAUsG,GAGpBxO,EAAMgN,SAASyB,IACjBE,EAAOzG,KAAK,UAAYuG,IAGX,IAAXC,GACFC,EAAOzG,KAAK,UAGd6G,SAASJ,OAASA,EAAOR,KAAK,OAGhCzK,KAAM,SAAc2G,GAClB,IAAI2E,EAAQD,SAASJ,OAAOK,MAAM,IAAIC,OAAO,aAAe5E,EAAO,cACnE,OAAQ2E,EAAQE,mBAAmBF,EAAM,IAAM,MAGjDG,OAAQ,SAAgB9E,GACtBlE,KAAKmI,MAAMjE,EAAM,GAAIwE,KAAKO,MAAQ,SAO/B,CACLd,MAAO,aACP5K,KAAM,WAAkB,OAAO,MAC/ByL,OAAQ,e,qBCzChBrP,EAAOC,QAAU,SAAuB8B,GAItC,MAAO,gCAAgCwN,KAAKxN,K,qBCJ9C/B,EAAOC,QAAU,SAAsBuP,GACrC,MAA2B,iBAAZA,IAAmD,IAAzBA,EAAQtJ,e,2BCPnD,IAAIhG,EAAQ,EAAQ,KAEpBF,EAAOC,QACLC,EAAMsD,uBAIJ,WACE,IAEIiM,EAFAC,EAAO,kBAAkBH,KAAKI,UAAUC,WACxCC,EAAiBZ,SAASa,cAAc,KAS5C,SAASC,EAAWhO,GAClB,IAAIiO,EAAOjO,EAWX,OATI2N,IAEFG,EAAeI,aAAa,OAAQD,GACpCA,EAAOH,EAAeG,MAGxBH,EAAeI,aAAa,OAAQD,GAG7B,CACLA,KAAMH,EAAeG,KACrBE,SAAUL,EAAeK,SAAWL,EAAeK,SAASlH,QAAQ,KAAM,IAAM,GAChFmH,KAAMN,EAAeM,KACrBC,OAAQP,EAAeO,OAASP,EAAeO,OAAOpH,QAAQ,MAAO,IAAM,GAC3EqH,KAAMR,EAAeQ,KAAOR,EAAeQ,KAAKrH,QAAQ,KAAM,IAAM,GACpEsH,SAAUT,EAAeS,SACzBC,KAAMV,EAAeU,KACrBC,SAAiD,MAAtCX,EAAeW,SAASC,OAAO,GACxCZ,EAAeW,SACf,IAAMX,EAAeW,UAY3B,OARAf,EAAYM,EAAWW,OAAOC,SAASX,MAQhC,SAAyBY,GAC9B,IAAIC,EAAU3Q,EAAMgN,SAAS0D,GAAeb,EAAWa,GAAcA,EACrE,OAAQC,EAAOX,WAAaT,EAAUS,UAClCW,EAAOV,OAASV,EAAUU,MAhDlC,GAsDS,WACL,OAAO,I,0BC9Df,IAAIjQ,EAAQ,EAAQ,KAEpBF,EAAOC,QAAU,SAA6BgB,EAAS6P,GACrD5Q,EAAM6D,QAAQ9C,GAAS,SAAuB+F,EAAOuD,GAC/CA,IAASuG,GAAkBvG,EAAK9H,gBAAkBqO,EAAerO,gBACnExB,EAAQ6P,GAAkB9J,SACnB/F,EAAQsJ,S,2BCNrB,IAAIrK,EAAQ,EAAQ,KAIhB6Q,EAAoB,CACtB,MAAO,gBAAiB,iBAAkB,eAAgB,OAC1D,UAAW,OAAQ,OAAQ,oBAAqB,sBAChD,gBAAiB,WAAY,eAAgB,sBAC7C,UAAW,cAAe,cAgB5B/Q,EAAOC,QAAU,SAAsBgB,GACrC,IACIgD,EACAD,EACA8J,EAHA+C,EAAS,GAKb,OAAK5P,GAELf,EAAM6D,QAAQ9C,EAAQ+P,MAAM,OAAO,SAAgBC,GAKjD,GAJAnD,EAAImD,EAAKjO,QAAQ,KACjBiB,EAAM/D,EAAMmN,KAAK4D,EAAKC,OAAO,EAAGpD,IAAI5J,cACpCF,EAAM9D,EAAMmN,KAAK4D,EAAKC,OAAOpD,EAAI,IAE7B7J,EAAK,CACP,GAAI4M,EAAO5M,IAAQ8M,EAAkB/N,QAAQiB,IAAQ,EACnD,OAGA4M,EAAO5M,GADG,eAARA,GACa4M,EAAO5M,GAAO4M,EAAO5M,GAAO,IAAIuE,OAAO,CAACxE,IAEzC6M,EAAO5M,GAAO4M,EAAO5M,GAAO,KAAOD,EAAMA,MAKtD6M,GAnBgBA,I,qBCVzB7Q,EAAOC,QAAU,SAAgBkR,GAC/B,OAAO,SAAcC,GACnB,OAAOD,EAAS5I,MAAM,KAAM6I,M,2BCtBhC,IAAIC,EAAM,EAAQ,KAEdjK,EAAa,GAGjB,CAAC,SAAU,UAAW,SAAU,WAAY,SAAU,UAAUrD,SAAQ,SAASuN,EAAMxD,GACrF1G,EAAWkK,GAAQ,SAAmBC,GACpC,cAAcA,IAAUD,GAAQ,KAAOxD,EAAI,EAAI,KAAO,KAAOwD,MAIjE,IAAIE,EAAqB,GACrBC,EAAgBJ,EAAIK,QAAQV,MAAM,KAQtC,SAASW,EAAeD,EAASE,GAG/B,IAFA,IAAIC,EAAgBD,EAAcA,EAAYZ,MAAM,KAAOS,EACvDK,EAAUJ,EAAQV,MAAM,KACnBlD,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,GAAI+D,EAAc/D,GAAKgE,EAAQhE,GAC7B,OAAO,EACF,GAAI+D,EAAc/D,GAAKgE,EAAQhE,GACpC,OAAO,EAGX,OAAO,EAUT1G,EAAW9D,aAAe,SAAsB6D,EAAWuK,EAAStL,GAClE,IAAI2L,EAAeL,GAAWC,EAAeD,GAE7C,SAASM,EAAcC,EAAKC,GAC1B,MAAO,WAAab,EAAIK,QAAU,0BAA6BO,EAAM,IAAOC,GAAQ9L,EAAU,KAAOA,EAAU,IAIjH,OAAO,SAASY,EAAOiL,EAAKE,GAC1B,IAAkB,IAAdhL,EACF,MAAM,IAAI0C,MAAMmI,EAAcC,EAAK,wBAA0BP,IAc/D,OAXIK,IAAiBP,EAAmBS,KACtCT,EAAmBS,IAAO,EAE1BG,QAAQC,KACNL,EACEC,EACA,+BAAiCP,EAAU,8CAK1CvK,GAAYA,EAAUH,EAAOiL,EAAKE,KAkC7CnS,EAAOC,QAAU,CACf0R,eAAgBA,EAChBpK,cAzBF,SAAuB4B,EAASmJ,EAAQC,GACtC,GAAuB,iBAAZpJ,EACT,MAAM,IAAI1C,UAAU,6BAItB,IAFA,IAAIqF,EAAOD,OAAOC,KAAK3C,GACnB2E,EAAIhC,EAAKrD,OACNqF,KAAM,GAAG,CACd,IAAImE,EAAMnG,EAAKgC,GACX3G,EAAYmL,EAAOL,GACvB,GAAI9K,EAAJ,CACE,IAAIH,EAAQmC,EAAQ8I,GAChBO,OAAmB3O,IAAVmD,GAAuBG,EAAUH,EAAOiL,EAAK9I,GAC1D,IAAe,IAAXqJ,EACF,MAAM,IAAI/L,UAAU,UAAYwL,EAAM,YAAcO,QAIxD,IAAqB,IAAjBD,EACF,MAAM1I,MAAM,kBAAoBoI,KAQpC7K,WAAYA,I,2BCrGd,IAAIrC,EAAO,EAAQ,KAIfuB,EAAWuF,OAAOvG,UAAUgB,SAQhC,SAASiF,EAAQvH,GACf,MAA8B,mBAAvBsC,EAAS0D,KAAKhG,GASvB,SAASI,EAAYJ,GACnB,YAAsB,IAARA,EA4EhB,SAAS8I,EAAS9I,GAChB,OAAe,OAARA,GAA+B,iBAARA,EAShC,SAASsH,EAActH,GACrB,GAA2B,oBAAvBsC,EAAS0D,KAAKhG,GAChB,OAAO,EAGT,IAAIsB,EAAYuG,OAAO4G,eAAezO,GACtC,OAAqB,OAAdsB,GAAsBA,IAAcuG,OAAOvG,UAuCpD,SAASoN,EAAW1O,GAClB,MAA8B,sBAAvBsC,EAAS0D,KAAKhG,GAwEvB,SAASD,EAAQ4O,EAAKrJ,GAEpB,GAAIqJ,QAUJ,GALmB,iBAARA,IAETA,EAAM,CAACA,IAGLpH,EAAQoH,GAEV,IAAK,IAAI7E,EAAI,EAAG8E,EAAID,EAAIlK,OAAQqF,EAAI8E,EAAG9E,IACrCxE,EAAGU,KAAK,KAAM2I,EAAI7E,GAAIA,EAAG6E,QAI3B,IAAK,IAAI1O,KAAO0O,EACV9G,OAAOvG,UAAUuN,eAAe7I,KAAK2I,EAAK1O,IAC5CqF,EAAGU,KAAK,KAAM2I,EAAI1O,GAAMA,EAAK0O,GA2ErC3S,EAAOC,QAAU,CACfsL,QAASA,EACTe,cA1RF,SAAuBtI,GACrB,MAA8B,yBAAvBsC,EAAS0D,KAAKhG,IA0RrBuI,SAtSF,SAAkBvI,GAChB,OAAe,OAARA,IAAiBI,EAAYJ,IAA4B,OAApBA,EAAI8O,cAAyB1O,EAAYJ,EAAI8O,cAChD,mBAA7B9O,EAAI8O,YAAYvG,UAA2BvI,EAAI8O,YAAYvG,SAASvI,IAqShF7C,WAlRF,SAAoB6C,GAClB,MAA4B,oBAAb+O,UAA8B/O,aAAe+O,UAkR5DpG,kBAzQF,SAA2B3I,GAOzB,MAL4B,oBAAhBgP,aAAiCA,YAAkB,OACpDA,YAAYC,OAAOjP,GAEnB,GAAUA,EAAU,QAAMA,EAAI4I,kBAAkBoG,aAqQ3D9F,SA1PF,SAAkBlJ,GAChB,MAAsB,iBAARA,GA0Pd8K,SAjPF,SAAkB9K,GAChB,MAAsB,iBAARA,GAiPd8I,SAAUA,EACVxB,cAAeA,EACflH,YAAaA,EACb+J,OAlNF,SAAgBnK,GACd,MAA8B,kBAAvBsC,EAAS0D,KAAKhG,IAkNrByI,OAzMF,SAAgBzI,GACd,MAA8B,kBAAvBsC,EAAS0D,KAAKhG,IAyMrB0I,OAhMF,SAAgB1I,GACd,MAA8B,kBAAvBsC,EAAS0D,KAAKhG,IAgMrB0O,WAAYA,EACZlG,SA9KF,SAAkBxI,GAChB,OAAO8I,EAAS9I,IAAQ0O,EAAW1O,EAAIkP,OA8KvCrG,kBArKF,SAA2B7I,GACzB,MAAkC,oBAApBmP,iBAAmCnP,aAAemP,iBAqKhE3P,qBAzIF,WACE,OAAyB,oBAAdmM,WAAoD,gBAAtBA,UAAUyD,SACY,iBAAtBzD,UAAUyD,SACY,OAAtBzD,UAAUyD,UAI/B,oBAAX1C,QACa,oBAAbzB,UAkITlL,QAASA,EACTmG,MAvEF,SAASA,IACP,IAAIsI,EAAS,GACb,SAASa,EAAYrP,EAAKC,GACpBqH,EAAckH,EAAOvO,KAASqH,EAActH,GAC9CwO,EAAOvO,GAAOiG,EAAMsI,EAAOvO,GAAMD,GACxBsH,EAActH,GACvBwO,EAAOvO,GAAOiG,EAAM,GAAIlG,GACfuH,EAAQvH,GACjBwO,EAAOvO,GAAOD,EAAIwH,QAElBgH,EAAOvO,GAAOD,EAIlB,IAAK,IAAI8J,EAAI,EAAG8E,EAAItL,UAAUmB,OAAQqF,EAAI8E,EAAG9E,IAC3C/J,EAAQuD,UAAUwG,GAAIuF,GAExB,OAAOb,GAuDPjN,OA5CF,SAAgB+N,EAAGC,EAAG3F,GAQpB,OAPA7J,EAAQwP,GAAG,SAAqBvP,EAAKC,GAEjCqP,EAAErP,GADA2J,GAA0B,mBAAR5J,EACXe,EAAKf,EAAK4J,GAEV5J,KAGNsP,GAqCPjG,KAhKF,SAAcmG,GACZ,OAAOA,EAAInG,KAAOmG,EAAInG,OAASmG,EAAIxK,QAAQ,aAAc,KAgKzDyK,SA7BF,SAAkBC,GAIhB,OAH8B,QAA1BA,EAAQC,WAAW,KACrBD,EAAUA,EAAQlI,MAAM,IAEnBkI,K,s+DCvTwD1T,EAAOC,QAGhE,WAAe,aAErB,SAAS2T,EAAQC,EAAQC,GACvB,IAAIhI,EAAOD,OAAOC,KAAK+H,GAEvB,GAAIhI,OAAOkI,sBAAuB,CAChC,IAAIC,EAAUnI,OAAOkI,sBAAsBF,GAEvCC,IACFE,EAAUA,EAAQjI,QAAO,SAAUkI,GACjC,OAAOpI,OAAOqI,yBAAyBL,EAAQI,GAAKE,eAIxDrI,EAAK1D,KAAKG,MAAMuD,EAAMkI,GAGxB,OAAOlI,EAGT,SAASsI,EAAe/I,GACtB,IAAK,IAAIyC,EAAI,EAAGA,EAAIxG,UAAUmB,OAAQqF,IAAK,CACzC,IAAIhH,EAAyB,MAAhBQ,UAAUwG,GAAaxG,UAAUwG,GAAK,GAE/CA,EAAI,EACN8F,EAAQ/H,OAAO/E,IAAS,GAAM/C,SAAQ,SAAUE,GAC9CoQ,EAAgBhJ,EAAQpH,EAAK6C,EAAO7C,OAE7B4H,OAAOyI,0BAChBzI,OAAO0I,iBAAiBlJ,EAAQQ,OAAOyI,0BAA0BxN,IAEjE8M,EAAQ/H,OAAO/E,IAAS/C,SAAQ,SAAUE,GACxC4H,OAAO2I,eAAenJ,EAAQpH,EAAK4H,OAAOqI,yBAAyBpN,EAAQ7C,OAKjF,OAAOoH,EAGT,SAASoJ,EAAQ9B,GAaf,OATE8B,EADoB,mBAAXC,QAAoD,iBAApBA,OAAOC,SACtC,SAAUhC,GAClB,cAAcA,GAGN,SAAUA,GAClB,OAAOA,GAAyB,mBAAX+B,QAAyB/B,EAAIG,cAAgB4B,QAAU/B,IAAQ+B,OAAOpP,UAAY,gBAAkBqN,IAI9GA,GAGjB,SAASiC,EAAgBvP,EAAUwP,GACjC,KAAMxP,aAAoBwP,GACxB,MAAM,IAAIpO,UAAU,qCAIxB,SAASqO,EAAkBzJ,EAAQ0J,GACjC,IAAK,IAAIjH,EAAI,EAAGA,EAAIiH,EAAMtM,OAAQqF,IAAK,CACrC,IAAIkH,EAAaD,EAAMjH,GACvBkH,EAAWb,WAAaa,EAAWb,aAAc,EACjDa,EAAWC,cAAe,EACtB,UAAWD,IAAYA,EAAWE,UAAW,GACjDrJ,OAAO2I,eAAenJ,EAAQ2J,EAAW/Q,IAAK+Q,IAUlD,SAASX,EAAgB1B,EAAK1O,EAAK+C,GAYjC,OAXI/C,KAAO0O,EACT9G,OAAO2I,eAAe7B,EAAK1O,EAAK,CAC9B+C,MAAOA,EACPmN,YAAY,EACZc,cAAc,EACdC,UAAU,IAGZvC,EAAI1O,GAAO+C,EAGN2L,EAGT,SAASwC,EAAmB/D,GAC1B,OAGF,SAA4BA,GAC1B,GAAI9I,MAAMiD,QAAQ6F,GAAM,OAAOgE,EAAkBhE,GAJ1CiE,CAAmBjE,IAO5B,SAA0BkE,GACxB,GAAsB,oBAAXZ,QAAmD,MAAzBY,EAAKZ,OAAOC,WAA2C,MAAtBW,EAAK,cAAuB,OAAOhN,MAAMiN,KAAKD,GARlFE,CAAiBpE,IAWrD,SAAqCqE,EAAGC,GACtC,GAAKD,EAAL,CACA,GAAiB,iBAANA,EAAgB,OAAOL,EAAkBK,EAAGC,GACvD,IAAIC,EAAI9J,OAAOvG,UAAUgB,SAAS0D,KAAKyL,GAAGjK,MAAM,GAAI,GAEpD,MADU,WAANmK,GAAkBF,EAAE3C,cAAa6C,EAAIF,EAAE3C,YAAYvI,MAC7C,QAANoL,GAAqB,QAANA,EAAoBrN,MAAMiN,KAAKE,GACxC,cAANE,GAAqB,2CAA2CpG,KAAKoG,GAAWP,EAAkBK,EAAGC,QAAzG,GAjB2DE,CAA4BxE,IA4BzF,WACE,MAAM,IAAI3K,UAAU,wIA7B2EoP,GAoBjG,SAAST,EAAkBhE,EAAK0E,IACnB,MAAPA,GAAeA,EAAM1E,EAAI3I,UAAQqN,EAAM1E,EAAI3I,QAE/C,IAAK,IAAIqF,EAAI,EAAGiI,EAAO,IAAIzN,MAAMwN,GAAMhI,EAAIgI,EAAKhI,IAAKiI,EAAKjI,GAAKsD,EAAItD,GAEnE,OAAOiI,EAOT,IAAIC,EAA+B,oBAAXtF,aAAqD,IAApBA,OAAOzB,SAC5DgH,EAASD,EAAatF,OAAS,GAC/BwF,KAAkBF,IAAcC,EAAOhH,SAASkH,kBAAkB,iBAAkBF,EAAOhH,SAASkH,gBACpGC,IAAoBJ,GAAa,iBAAkBC,EACnDI,EAAY,UAEZC,EAAa,MACbC,EAAc,OACdC,EAAc,OACdC,EAAc,OACdC,EAAc,IACdC,EAAc,IACdC,EAAe,IACfC,EAAe,IACfC,EAAoB,KACpBC,EAAoB,KACpBC,EAAoB,KACpBC,EAAoB,KAEpBC,EAAa,GAAG1O,OAAO6N,EAAW,SAClCc,EAAiB,GAAG3O,OAAO6N,EAAW,aACtCe,EAAe,GAAG5O,OAAO6N,EAAW,WACpCgB,EAAa,GAAG7O,OAAO6N,EAAW,SAClCiB,EAAkB,GAAG9O,OAAO6N,EAAW,cACvCkB,EAAc,GAAG/O,OAAO6N,EAAW,UACnCmB,EAAa,GAAGhP,OAAO6N,EAAW,SAElCoB,EAAc,GAAGjP,OAAO6N,EAAW,UACnCqB,EAAe,GAAGlP,OAAO6N,EAAW,WAEpCsB,EAAiB,OACjBC,EAAiB,OACjBC,EAAiB,OAEjBC,EAAa,OACbC,EAAiB,UACjBC,EAAkB,WAClBC,EAAmB,YACnBC,EAAiB,WAIjBC,EAAqB/B,EAAoB,cAHrBF,EAAkB,aAAe,YAIrDkC,EAAqBhC,EAAoB,cAHtBF,EAAkB,YAAc,YAInDmC,EAAmBjC,EAAoB,0BAHrBF,EAAkB,uBAAyB,UAI7DoC,EAAc,QACdC,EAAe,SACfC,EAAc,QACdC,EAAa,OAEbC,EAAiB,aAEjBC,EAAiB,2CACjBC,EAAkB,SAClBC,EAAuB,4BACvBC,EAAkB,gBAMlBC,GAAW,CAEbC,SAAU,EAGVC,SAAUtB,EAGVuB,mBAAoBC,IAEpBC,YAAaD,IAEbpY,KAAM,KAENsY,QAAS,GAETC,YAAY,EAEZC,SAAS,EAETC,kBAAkB,EAElBC,kBAAkB,EAElBC,OAAO,EAEPC,QAAQ,EAERC,QAAQ,EAERC,WAAW,EAEXC,YAAY,EAEZC,UAAU,EAEVC,aAAc,GAEdC,SAAS,EAETC,WAAW,EAEXC,UAAU,EAEVC,UAAU,EAEVC,aAAa,EAEbC,aAAa,EAEbC,eAAgB,GAEhBC,gBAAgB,EAEhBC,kBAAkB,EAElBC,0BAA0B,EAE1BC,eAAgB,EAChBC,gBAAiB,EACjBC,gBAAiB,EACjBC,iBAAkB,EAClBC,kBAjEwB,IAkExBC,mBAjEyB,IAmEzBC,MAAO,KACPC,UAAW,KACXC,SAAU,KACVC,QAAS,KACTC,KAAM,KACNC,KAAM,MASJC,GAAQC,OAAOD,OAAStF,EAAOsF,MAOnC,SAASzM,GAAS9H,GAChB,MAAwB,iBAAVA,IAAuBuU,GAAMvU,GAQ7C,IAAIyU,GAAmB,SAA0BzU,GAC/C,OAAOA,EAAQ,GAAKA,EAAQ0U,KAQ9B,SAAStX,GAAY4C,GACnB,YAAwB,IAAVA,EAQhB,SAAS8F,GAAS9F,GAChB,MAA0B,WAAnByN,EAAQzN,IAAiC,OAAVA,EAExC,IAAI6L,GAAiBhH,OAAOvG,UAAUuN,eAOtC,SAASvH,GAActE,GACrB,IAAK8F,GAAS9F,GACZ,OAAO,EAGT,IACE,IAAI2U,EAAe3U,EAAM8L,YACrBxN,EAAYqW,EAAarW,UAC7B,OAAOqW,GAAgBrW,GAAauN,GAAe7I,KAAK1E,EAAW,iBACnE,MAAOwD,GACP,OAAO,GASX,SAAS4J,GAAW1L,GAClB,MAAwB,mBAAVA,EAEhB,IAAIwE,GAAQlD,MAAMhD,UAAUkG,MAO5B,SAASoQ,GAAQ5U,GACf,OAAOsB,MAAMiN,KAAOjN,MAAMiN,KAAKvO,GAASwE,GAAMxB,KAAKhD,GASrD,SAASjD,GAAQhD,EAAMoQ,GAerB,OAdIpQ,GAAQ2R,GAAWvB,KACjB7I,MAAMiD,QAAQxK,IAAS+N,GAAS/N,EAAK0H,QAGrCmT,GAAQ7a,GAAMgD,SAAQ,SAAUiD,EAAO/C,GACrCkN,EAASnH,KAAKjJ,EAAMiG,EAAO/C,EAAKlD,MAEzB+L,GAAS/L,IACpB8K,OAAOC,KAAK/K,GAAMgD,SAAQ,SAAUE,GAClCkN,EAASnH,KAAKjJ,EAAMA,EAAKkD,GAAMA,EAAKlD,OAKnCA,EAST,IAAI8a,GAAShQ,OAAOgQ,QAAU,SAAgBxQ,GAC5C,IAAK,IAAIyQ,EAAOxU,UAAUmB,OAAQoF,EAAO,IAAIvF,MAAMwT,EAAO,EAAIA,EAAO,EAAI,GAAIC,EAAO,EAAGA,EAAOD,EAAMC,IAClGlO,EAAKkO,EAAO,GAAKzU,UAAUyU,GAa7B,OAVIjP,GAASzB,IAAWwC,EAAKpF,OAAS,GACpCoF,EAAK9J,SAAQ,SAAUiY,GACjBlP,GAASkP,IACXnQ,OAAOC,KAAKkQ,GAAKjY,SAAQ,SAAUE,GACjCoH,EAAOpH,GAAO+X,EAAI/X,SAMnBoH,GAEL4Q,GAAkB,uBAStB,SAASC,GAAuBlV,GAC9B,IAAImV,EAAQ7U,UAAUmB,OAAS,QAAsB5E,IAAjByD,UAAU,GAAmBA,UAAU,GAAK,KAChF,OAAO2U,GAAgB1M,KAAKvI,GAASoV,KAAKC,MAAMrV,EAAQmV,GAASA,EAAQnV,EAE3E,IAAIsV,GAAgB,+CAOpB,SAASC,GAASC,EAASC,GACzB,IAAIC,EAAQF,EAAQE,MACpB3Y,GAAQ0Y,GAAQ,SAAUzV,EAAO2V,GAC3BL,GAAc/M,KAAKoN,IAAa7N,GAAS9H,KAC3CA,EAAQ,GAAGwB,OAAOxB,EAAO,OAG3B0V,EAAMC,GAAY3V,KAmBtB,SAAS4V,GAASJ,EAASxV,GACzB,GAAKA,EAIL,GAAI8H,GAAS0N,EAAQ/T,QACnB1E,GAAQyY,GAAS,SAAUK,GACzBD,GAASC,EAAM7V,WAKnB,GAAIwV,EAAQM,UACVN,EAAQM,UAAUC,IAAI/V,OADxB,CAKA,IAAIgW,EAAYR,EAAQQ,UAAU3P,OAE7B2P,EAEMA,EAAUha,QAAQgE,GAAS,IACpCwV,EAAQQ,UAAY,GAAGxU,OAAOwU,EAAW,KAAKxU,OAAOxB,IAFrDwV,EAAQQ,UAAYhW,GAWxB,SAASiW,GAAYT,EAASxV,GACvBA,IAID8H,GAAS0N,EAAQ/T,QACnB1E,GAAQyY,GAAS,SAAUK,GACzBI,GAAYJ,EAAM7V,MAKlBwV,EAAQM,UACVN,EAAQM,UAAUzN,OAAOrI,GAIvBwV,EAAQQ,UAAUha,QAAQgE,IAAU,IACtCwV,EAAQQ,UAAYR,EAAQQ,UAAUhU,QAAQhC,EAAO,MAUzD,SAASkW,GAAYV,EAASxV,EAAOmW,GAC9BnW,IAID8H,GAAS0N,EAAQ/T,QACnB1E,GAAQyY,GAAS,SAAUK,GACzBK,GAAYL,EAAM7V,EAAOmW,MAMzBA,EACFP,GAASJ,EAASxV,GAElBiW,GAAYT,EAASxV,IAGzB,IAAIoW,GAAoB,oBAOxB,SAASC,GAAYrW,GACnB,OAAOA,EAAMgC,QAAQoU,GAAmB,SAASlZ,cASnD,SAASoZ,GAAQd,EAASjS,GACxB,OAAIuC,GAAS0P,EAAQjS,IACZiS,EAAQjS,GAGbiS,EAAQe,QACHf,EAAQe,QAAQhT,GAGlBiS,EAAQgB,aAAa,QAAQhV,OAAO6U,GAAY9S,KASzD,SAASkT,GAAQjB,EAASjS,EAAMxJ,GAC1B+L,GAAS/L,GACXyb,EAAQjS,GAAQxJ,EACPyb,EAAQe,QACjBf,EAAQe,QAAQhT,GAAQxJ,EAExByb,EAAQvM,aAAa,QAAQzH,OAAO6U,GAAY9S,IAAQxJ,GA2B5D,IAAI2c,GAAgB,QAEhBC,GAAgB,WAClB,IAAIC,GAAY,EAEhB,GAAI5H,EAAY,CACd,IAAI6H,GAAO,EAEPC,EAAW,aAEX3U,EAAU0C,OAAO2I,eAAe,GAAI,OAAQ,CAC9CuJ,IAAK,WAEH,OADAH,GAAY,EACLC,GAQTG,IAAK,SAAahX,GAChB6W,EAAO7W,KAGXiP,EAAO3R,iBAAiB,OAAQwZ,EAAU3U,GAC1C8M,EAAOgI,oBAAoB,OAAQH,EAAU3U,GAG/C,OAAOyU,EA3BW,GAsCpB,SAASM,GAAe1B,EAASlL,EAAMwM,GACrC,IAAI3U,EAAU7B,UAAUmB,OAAS,QAAsB5E,IAAjByD,UAAU,GAAmBA,UAAU,GAAK,GAC9E6W,EAAUL,EACdxM,EAAKjE,OAAO2D,MAAM0M,IAAe3Z,SAAQ,SAAUqa,GACjD,IAAKT,GAAe,CAClB,IAAIU,EAAY7B,EAAQ6B,UAEpBA,GAAaA,EAAUD,IAAUC,EAAUD,GAAON,KACpDK,EAAUE,EAAUD,GAAON,UACpBO,EAAUD,GAAON,GAEqB,IAAzCjS,OAAOC,KAAKuS,EAAUD,IAAQ3V,eACzB4V,EAAUD,GAGmB,IAAlCvS,OAAOC,KAAKuS,GAAW5V,eAClB+T,EAAQ6B,WAKrB7B,EAAQyB,oBAAoBG,EAAOD,EAAShV,MAWhD,SAASmV,GAAY9B,EAASlL,EAAMwM,GAClC,IAAI3U,EAAU7B,UAAUmB,OAAS,QAAsB5E,IAAjByD,UAAU,GAAmBA,UAAU,GAAK,GAC9EiX,EAAWT,EACfxM,EAAKjE,OAAO2D,MAAM0M,IAAe3Z,SAAQ,SAAUqa,GACjD,GAAIjV,EAAQ0U,OAASF,GAAe,CAClC,IAAIa,EAAqBhC,EAAQ6B,UAC7BA,OAAmC,IAAvBG,EAAgC,GAAKA,EAErDD,EAAW,kBACFF,EAAUD,GAAON,GACxBtB,EAAQyB,oBAAoBG,EAAOG,EAAUpV,GAE7C,IAAK,IAAIsV,EAAQnX,UAAUmB,OAAQoF,EAAO,IAAIvF,MAAMmW,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpF7Q,EAAK6Q,GAASpX,UAAUoX,GAG1BZ,EAASvV,MAAMiU,EAAS3O,IAGrBwQ,EAAUD,KACbC,EAAUD,GAAS,IAGjBC,EAAUD,GAAON,IACnBtB,EAAQyB,oBAAoBG,EAAOC,EAAUD,GAAON,GAAW3U,GAGjEkV,EAAUD,GAAON,GAAYS,EAC7B/B,EAAQ6B,UAAYA,EAGtB7B,EAAQlY,iBAAiB8Z,EAAOG,EAAUpV,MAW9C,SAASwV,GAAcnC,EAASlL,EAAMvQ,GACpC,IAAIqd,EAaJ,OAXI1L,GAAWkM,QAAUlM,GAAWmM,aAClCT,EAAQ,IAAIS,YAAYvN,EAAM,CAC5BwN,OAAQ/d,EACRge,SAAS,EACTC,YAAY,KAGdZ,EAAQnP,SAASgQ,YAAY,gBACvBC,gBAAgB5N,GAAM,GAAM,EAAMvQ,GAGnCyb,EAAQmC,cAAcP,GAQ/B,SAASe,GAAU3C,GACjB,IAAI4C,EAAM5C,EAAQ6C,wBAClB,MAAO,CACLC,KAAMF,EAAIE,MAAQ5O,OAAO6O,YAActQ,SAASkH,gBAAgBqJ,YAChEC,IAAKL,EAAIK,KAAO/O,OAAOgP,YAAczQ,SAASkH,gBAAgBwJ,YAGlE,IAAIhP,GAAWsF,EAAOtF,SAClBiP,GAAiB,gCAOrB,SAASC,GAAiB9d,GACxB,IAAIkM,EAAQlM,EAAImN,MAAM0Q,IACtB,OAAiB,OAAV3R,IAAmBA,EAAM,KAAO0C,GAAST,UAAYjC,EAAM,KAAO0C,GAASL,UAAYrC,EAAM,KAAO0C,GAASJ,MAQtH,SAASuP,GAAa/d,GACpB,IAAIge,EAAY,aAAavX,QAAO,IAAIuG,MAAOiR,WAC/C,OAAOje,IAA6B,IAAtBA,EAAIiB,QAAQ,KAAc,IAAM,KAAO+c,EAQvD,SAASE,GAAcC,GACrB,IAAIC,EAASD,EAAKC,OACdC,EAASF,EAAKE,OACdC,EAASH,EAAKG,OACdC,EAAaJ,EAAKI,WAClBC,EAAaL,EAAKK,WAClBC,EAAS,GAET1R,GAASwR,IAA8B,IAAfA,GAC1BE,EAAOpY,KAAK,cAAcI,OAAO8X,EAAY,QAG3CxR,GAASyR,IAA8B,IAAfA,GAC1BC,EAAOpY,KAAK,cAAcI,OAAO+X,EAAY,QAI3CzR,GAASqR,IAAsB,IAAXA,GACtBK,EAAOpY,KAAK,UAAUI,OAAO2X,EAAQ,SAGnCrR,GAASsR,IAAsB,IAAXA,GACtBI,EAAOpY,KAAK,UAAUI,OAAO4X,EAAQ,MAGnCtR,GAASuR,IAAsB,IAAXA,GACtBG,EAAOpY,KAAK,UAAUI,OAAO6X,EAAQ,MAGvC,IAAII,EAAYD,EAAO/X,OAAS+X,EAAOnS,KAAK,KAAO,OACnD,MAAO,CACLqS,gBAAiBD,EACjBE,YAAaF,EACbA,UAAWA,GAsCf,SAASG,GAAWC,EAAOC,GACzB,IAAIC,EAAQF,EAAME,MACdC,EAAQH,EAAMG,MACdC,EAAM,CACRC,KAAMH,EACNI,KAAMH,GAER,OAAOF,EAAUG,EAAM7M,EAAe,CACpCgN,OAAQL,EACRM,OAAQL,GACPC,GAiCL,SAASK,GAAiBC,GAExB,IAAInI,EAAcmI,EAAMnI,YACpBoI,EAASD,EAAMC,OACfC,EAAQF,EAAME,MACdnQ,EAAOhK,UAAUmB,OAAS,QAAsB5E,IAAjByD,UAAU,GAAmBA,UAAU,GAAK,UAC3Eoa,EAAejG,GAAiBgG,GAChCE,EAAgBlG,GAAiB+F,GAErC,GAAIE,GAAgBC,EAAe,CACjC,IAAIC,EAAgBJ,EAASpI,EAEhB,YAAT9H,GAAsBsQ,EAAgBH,GAAkB,UAATnQ,GAAoBsQ,EAAgBH,EACrFD,EAASC,EAAQrI,EAEjBqI,EAAQD,EAASpI,OAEVsI,EACTF,EAASC,EAAQrI,EACRuI,IACTF,EAAQD,EAASpI,GAGnB,MAAO,CACLqI,MAAOA,EACPD,OAAQA,GA4CZ,SAASK,GAAgBC,EAAOC,EAAOC,EAAOC,GAC5C,IAAIC,EAAmBH,EAAM3I,YACzB+I,EAAoBJ,EAAMK,aAC1BC,EAAqBN,EAAMO,cAC3BC,EAAeR,EAAM5B,OACrBA,OAA0B,IAAjBoC,EAA0B,EAAIA,EACvCC,EAAeT,EAAM3B,OACrBA,OAA0B,IAAjBoC,EAA0B,EAAIA,EACvCC,EAAeV,EAAM1B,OACrBA,OAA0B,IAAjBoC,EAA0B,EAAIA,EACvCrJ,EAAc4I,EAAM5I,YACpBgJ,EAAeJ,EAAMI,aACrBE,EAAgBN,EAAMM,cACtBI,EAAkBT,EAAMU,UACxBA,OAAgC,IAApBD,EAA6B,cAAgBA,EACzDE,EAAwBX,EAAMY,sBAC9BA,OAAkD,IAA1BD,GAA0CA,EAClEE,EAAwBb,EAAMc,sBAC9BA,OAAkD,IAA1BD,EAAmC,MAAQA,EACnEE,EAAiBf,EAAMgB,SACvBA,OAA8B,IAAnBD,EAA4BtH,IAAWsH,EAClDE,EAAkBjB,EAAMkB,UACxBA,OAAgC,IAApBD,EAA6BxH,IAAWwH,EACpDE,EAAiBnB,EAAMoB,SACvBA,OAA8B,IAAnBD,EAA4B,EAAIA,EAC3CE,EAAkBrB,EAAMsB,UACxBA,OAAgC,IAApBD,EAA6B,EAAIA,EAC7CE,EAASvU,SAASa,cAAc,UAChC1K,EAAUoe,EAAOC,WAAW,MAC5BC,EAAWpC,GAAiB,CAC9BlI,YAAaA,EACbqI,MAAOwB,EACPzB,OAAQ2B,IAENQ,EAAWrC,GAAiB,CAC9BlI,YAAaA,EACbqI,MAAO4B,EACP7B,OAAQ+B,GACP,SACC9B,EAAQrF,KAAKwH,IAAIF,EAASjC,MAAOrF,KAAKyH,IAAIF,EAASlC,MAAOW,IAC1DZ,EAASpF,KAAKwH,IAAIF,EAASlC,OAAQpF,KAAKyH,IAAIF,EAASnC,OAAQc,IAG7DwB,EAAexC,GAAiB,CAClClI,YAAa8I,EACbT,MAAOwB,EACPzB,OAAQ2B,IAENY,EAAezC,GAAiB,CAClClI,YAAa8I,EACbT,MAAO4B,EACP7B,OAAQ+B,GACP,SACCS,EAAY5H,KAAKwH,IAAIE,EAAarC,MAAOrF,KAAKyH,IAAIE,EAAatC,MAAOU,IACtE8B,EAAa7H,KAAKwH,IAAIE,EAAatC,OAAQpF,KAAKyH,IAAIE,EAAavC,OAAQa,IACzE3f,EAAS,EAAEshB,EAAY,GAAIC,EAAa,EAAGD,EAAWC,GAe1D,OAdAT,EAAO/B,MAAQvF,GAAuBuF,GACtC+B,EAAOhC,OAAStF,GAAuBsF,GACvCpc,EAAQ8e,UAAYvB,EACpBvd,EAAQ+e,SAAS,EAAG,EAAG1C,EAAOD,GAC9Bpc,EAAQgf,OACRhf,EAAQif,UAAU5C,EAAQ,EAAGD,EAAS,GACtCpc,EAAQ+a,OAAOA,EAAS/D,KAAKkI,GAAK,KAClClf,EAAQmf,MAAMnE,EAAQC,GACtBjb,EAAQyd,sBAAwBA,EAChCzd,EAAQ2d,sBAAwBA,EAChC3d,EAAQof,UAAUjc,MAAMnD,EAAS,CAAC0c,GAAOtZ,OAAO2M,EAAmBzS,EAAO+hB,KAAI,SAAUC,GACtF,OAAOtI,KAAKuI,MAAMzI,GAAuBwI,UAE3Ctf,EAAQmU,UACDiK,EAET,IAAIoB,GAAeC,OAAOD,aAmB1B,IAAIE,GAAuB,YA6C3B,SAASC,GAAuBC,GAC9B,IACIC,EADAC,EAAW,IAAIC,SAASH,GAG5B,IACE,IAAII,EACAC,EACAC,EAEJ,GAA6B,MAAzBJ,EAASK,SAAS,IAAwC,MAAzBL,EAASK,SAAS,GAIrD,IAHA,IAAI9c,EAASyc,EAASM,WAClBC,EAAS,EAENA,EAAS,EAAIhd,GAAQ,CAC1B,GAAkC,MAA9Byc,EAASK,SAASE,IAAsD,MAAlCP,EAASK,SAASE,EAAS,GAAa,CAChFJ,EAAYI,EACZ,MAGFA,GAAU,EAId,GAAIJ,EAAW,CACb,IACIK,EAAaL,EAAY,GAE7B,GAAuD,SAlF7D,SAA+BH,EAAUS,EAAOld,GAC9C,IAAI+K,EAAM,GACV/K,GAAUkd,EAEV,IAAK,IAAI7X,EAAI6X,EAAO7X,EAAIrF,EAAQqF,GAAK,EACnC0F,GAAOoR,GAAaM,EAASK,SAASzX,IAGxC,OAAO0F,EA0ECoS,CAAsBV,EAHTG,EAAY,EAGmB,GAAe,CAC7D,IAAIQ,EAAaX,EAASY,UAAUJ,GAGpC,KAFAN,EAA8B,QAAfS,IAEoB,QAAfA,IAGyC,KAArDX,EAASY,UAAUJ,EAAa,EAAGN,GAA0B,CAC/D,IAAIW,EAAiBb,EAASc,UAAUN,EAAa,EAAGN,GAEpDW,GAAkB,IACpBT,EAAWI,EAAaK,KAOpC,GAAIT,EAAU,CACZ,IAEIW,EAEAnY,EAJAoY,EAAUhB,EAASY,UAAUR,EAAUF,GAM3C,IAAKtX,EAAI,EAAGA,EAAIoY,EAASpY,GAAK,EAG5B,GAFAmY,EAAUX,EAAe,GAAJxX,EAAS,EAEoB,MAA9CoX,EAASY,UAAUG,EAASb,GAE9B,CAEEa,GAAW,EAEXhB,EAAcC,EAASY,UAAUG,EAASb,GAE1CF,EAASiB,UAAUF,EAAS,EAAGb,GAC/B,QAIR,MAAOtc,GACPmc,EAAc,EAGhB,OAAOA,EA2DT,IAAImB,GAAS,CACXA,OAAQ,WACN/f,KAAKggB,gBACLhgB,KAAKigB,aACLjgB,KAAKkgB,cACLlgB,KAAKmgB,eAEDngB,KAAKogB,SACPpgB,KAAKqgB,iBAGTL,cAAe,WACb,IAAI7J,EAAUnW,KAAKmW,QACfrT,EAAU9C,KAAK8C,QACfwd,EAAYtgB,KAAKsgB,UACjBC,EAAUvgB,KAAKugB,QACfvD,EAAW7H,OAAOrS,EAAQ4R,mBAC1BwI,EAAY/H,OAAOrS,EAAQ6R,oBAC/B4B,GAASgK,EAASxP,GAClB6F,GAAYT,EAASpF,GACrB,IAAIyP,EAAgB,CAClBpF,MAAOrF,KAAKyH,IAAI8C,EAAUG,YAAazD,GAAY,EAAIA,EAhhCnC,KAihCpB7B,OAAQpF,KAAKyH,IAAI8C,EAAUI,aAAcxD,GAAa,EAAIA,EAhhCrC,MAkhCvBld,KAAKwgB,cAAgBA,EACrBtK,GAASqK,EAAS,CAChBnF,MAAOoF,EAAcpF,MACrBD,OAAQqF,EAAcrF,SAExB5E,GAASJ,EAASpF,GAClB6F,GAAY2J,EAASxP,IAGvBkP,WAAY,WACV,IAAIO,EAAgBxgB,KAAKwgB,cACrBG,EAAY3gB,KAAK2gB,UACjBhO,EAAW3S,KAAK8C,QAAQ6P,SACxBiO,EAAU7K,KAAK8K,IAAIF,EAAU7G,QAAU,KAAQ,GAC/CiC,EAAe6E,EAAUD,EAAU1E,cAAgB0E,EAAU5E,aAC7DE,EAAgB2E,EAAUD,EAAU5E,aAAe4E,EAAU1E,cAC7DlJ,EAAcgJ,EAAeE,EAC7B6E,EAAcN,EAAcpF,MAC5B2F,EAAeP,EAAcrF,OAE7BqF,EAAcrF,OAASpI,EAAcyN,EAAcpF,MACpC,IAAbzI,EACFmO,EAAcN,EAAcrF,OAASpI,EAErCgO,EAAeP,EAAcpF,MAAQrI,EAEjB,IAAbJ,EACToO,EAAeP,EAAcpF,MAAQrI,EAErC+N,EAAcN,EAAcrF,OAASpI,EAGvC,IAAIiO,EAAa,CACfjO,YAAaA,EACbgJ,aAAcA,EACdE,cAAeA,EACfb,MAAO0F,EACP3F,OAAQ4F,GAEV/gB,KAAKghB,WAAaA,EAClBhhB,KAAKihB,QAAuB,IAAbtO,GAA+B,IAAbA,EACjC3S,KAAKkhB,aAAY,GAAM,GACvBF,EAAW5F,MAAQrF,KAAKwH,IAAIxH,KAAKyH,IAAIwD,EAAW5F,MAAO4F,EAAWhE,UAAWgE,EAAWpE,UACxFoE,EAAW7F,OAASpF,KAAKwH,IAAIxH,KAAKyH,IAAIwD,EAAW7F,OAAQ6F,EAAW9D,WAAY8D,EAAWlE,WAC3FkE,EAAW/H,MAAQuH,EAAcpF,MAAQ4F,EAAW5F,OAAS,EAC7D4F,EAAW5H,KAAOoH,EAAcrF,OAAS6F,EAAW7F,QAAU,EAC9D6F,EAAWG,QAAUH,EAAW/H,KAChC+H,EAAWI,OAASJ,EAAW5H,IAC/BpZ,KAAKqhB,kBAAoB7L,GAAO,GAAIwL,IAEtCE,YAAa,SAAqBI,EAAaC,GAC7C,IAAIze,EAAU9C,KAAK8C,QACf0d,EAAgBxgB,KAAKwgB,cACrBQ,EAAahhB,KAAKghB,WAClBQ,EAAcxhB,KAAKwhB,YACnB7O,EAAW7P,EAAQ6P,SACnBI,EAAciO,EAAWjO,YACzBqN,EAAUpgB,KAAKogB,SAAWoB,EAE9B,GAAIF,EAAa,CACf,IAAIhN,EAAiBa,OAAOrS,EAAQwR,iBAAmB,EACnDC,EAAkBY,OAAOrS,EAAQyR,kBAAoB,EAErD5B,EAAW,GACb2B,EAAiByB,KAAKyH,IAAIlJ,EAAgBkM,EAAcpF,OACxD7G,EAAkBwB,KAAKyH,IAAIjJ,EAAiBiM,EAAcrF,QAEzC,IAAbxI,IACE4B,EAAkBxB,EAAcuB,EAClCA,EAAiBC,EAAkBxB,EAEnCwB,EAAkBD,EAAiBvB,IAG9BJ,EAAW,IAChB2B,EACFA,EAAiByB,KAAKyH,IAAIlJ,EAAgB8L,EAAUoB,EAAYpG,MAAQ,GAC/D7G,EACTA,EAAkBwB,KAAKyH,IAAIjJ,EAAiB6L,EAAUoB,EAAYrG,OAAS,GAClEiF,IACT9L,EAAiBkN,EAAYpG,OAC7B7G,EAAkBiN,EAAYrG,QAERpI,EAAcuB,EAClCA,EAAiBC,EAAkBxB,EAEnCwB,EAAkBD,EAAiBvB,IAKzC,IAAI0O,EAAoBxG,GAAiB,CACvClI,YAAaA,EACbqI,MAAO9G,EACP6G,OAAQ5G,IAGVD,EAAiBmN,EAAkBrG,MACnC7G,EAAkBkN,EAAkBtG,OACpC6F,EAAWhE,SAAW1I,EACtB0M,EAAW9D,UAAY3I,EACvByM,EAAWpE,SAAWvH,IACtB2L,EAAWlE,UAAYzH,IAGzB,GAAIkM,EACF,GAAI5O,GAAYyN,EAAU,EAAI,GAAI,CAChC,IAAIsB,EAAgBlB,EAAcpF,MAAQ4F,EAAW5F,MACjDuG,EAAenB,EAAcrF,OAAS6F,EAAW7F,OACrD6F,EAAWY,QAAU7L,KAAKwH,IAAI,EAAGmE,GACjCV,EAAWa,OAAS9L,KAAKwH,IAAI,EAAGoE,GAChCX,EAAWc,QAAU/L,KAAKyH,IAAI,EAAGkE,GACjCV,EAAWe,OAAShM,KAAKyH,IAAI,EAAGmE,GAE5BvB,GAAWpgB,KAAKihB,UAClBD,EAAWY,QAAU7L,KAAKwH,IAAIiE,EAAYvI,KAAMuI,EAAYvI,MAAQuI,EAAYpG,MAAQ4F,EAAW5F,QACnG4F,EAAWa,OAAS9L,KAAKwH,IAAIiE,EAAYpI,IAAKoI,EAAYpI,KAAOoI,EAAYrG,OAAS6F,EAAW7F,SACjG6F,EAAWc,QAAUN,EAAYvI,KACjC+H,EAAWe,OAASP,EAAYpI,IAEf,IAAbzG,IACEqO,EAAW5F,OAASoF,EAAcpF,QACpC4F,EAAWY,QAAU7L,KAAKwH,IAAI,EAAGmE,GACjCV,EAAWc,QAAU/L,KAAKyH,IAAI,EAAGkE,IAG/BV,EAAW7F,QAAUqF,EAAcrF,SACrC6F,EAAWa,OAAS9L,KAAKwH,IAAI,EAAGoE,GAChCX,EAAWe,OAAShM,KAAKyH,IAAI,EAAGmE,WAKtCX,EAAWY,SAAWZ,EAAW5F,MACjC4F,EAAWa,QAAUb,EAAW7F,OAChC6F,EAAWc,QAAUtB,EAAcpF,MACnC4F,EAAWe,OAASvB,EAAcrF,QAIxCgF,aAAc,SAAsB6B,EAASC,GAC3C,IAAIjB,EAAahhB,KAAKghB,WAClBL,EAAY3gB,KAAK2gB,UAErB,GAAIsB,EAAa,CACf,IAAIC,EAvdV,SAAyBC,GACvB,IAAI/G,EAAQ+G,EAAM/G,MACdD,EAASgH,EAAMhH,OACfiH,EAASD,EAAMC,OAGnB,GAAe,KAFfA,EAASrM,KAAK8K,IAAIuB,GAAU,KAG1B,MAAO,CACLhH,MAAOD,EACPA,OAAQC,GAIZ,IAAIiH,EAAMD,EAAS,GAAKrM,KAAKkI,GAAK,IAC9BqE,EAASvM,KAAKwM,IAAIF,GAClBG,EAASzM,KAAK0M,IAAIJ,GAClBK,EAAWtH,EAAQoH,EAASrH,EAASmH,EACrCK,EAAYvH,EAAQkH,EAASnH,EAASqH,EAC1C,OAAOJ,EAAS,GAAK,CACnBhH,MAAOuH,EACPxH,OAAQuH,GACN,CACFtH,MAAOsH,EACPvH,OAAQwH,GAgciBC,CAAgB,CACrCxH,MAAOuF,EAAU5E,aAAehG,KAAK8K,IAAIF,EAAU5G,QAAU,GAC7DoB,OAAQwF,EAAU1E,cAAgBlG,KAAK8K,IAAIF,EAAU3G,QAAU,GAC/DoI,OAAQzB,EAAU7G,QAAU,IAE1BiC,EAAemG,EAAiB9G,MAChCa,EAAgBiG,EAAiB/G,OAEjCC,EAAQ4F,EAAW5F,OAASW,EAAeiF,EAAWjF,cACtDZ,EAAS6F,EAAW7F,QAAUc,EAAgB+E,EAAW/E,eAC7D+E,EAAW/H,OAASmC,EAAQ4F,EAAW5F,OAAS,EAChD4F,EAAW5H,MAAQ+B,EAAS6F,EAAW7F,QAAU,EACjD6F,EAAW5F,MAAQA,EACnB4F,EAAW7F,OAASA,EACpB6F,EAAWjO,YAAcgJ,EAAeE,EACxC+E,EAAWjF,aAAeA,EAC1BiF,EAAW/E,cAAgBA,EAC3Bjc,KAAKkhB,aAAY,GAAM,IAGrBF,EAAW5F,MAAQ4F,EAAWpE,UAAYoE,EAAW5F,MAAQ4F,EAAWhE,YAC1EgE,EAAW/H,KAAO+H,EAAWG,UAG3BH,EAAW7F,OAAS6F,EAAWlE,WAAakE,EAAW7F,OAAS6F,EAAW9D,aAC7E8D,EAAW5H,IAAM4H,EAAWI,QAG9BJ,EAAW5F,MAAQrF,KAAKwH,IAAIxH,KAAKyH,IAAIwD,EAAW5F,MAAO4F,EAAWhE,UAAWgE,EAAWpE,UACxFoE,EAAW7F,OAASpF,KAAKwH,IAAIxH,KAAKyH,IAAIwD,EAAW7F,OAAQ6F,EAAW9D,WAAY8D,EAAWlE,WAC3F9c,KAAKkhB,aAAY,GAAO,GACxBF,EAAW/H,KAAOlD,KAAKwH,IAAIxH,KAAKyH,IAAIwD,EAAW/H,KAAM+H,EAAWY,SAAUZ,EAAWc,SACrFd,EAAW5H,IAAMrD,KAAKwH,IAAIxH,KAAKyH,IAAIwD,EAAW5H,IAAK4H,EAAWa,QAASb,EAAWe,QAClFf,EAAWG,QAAUH,EAAW/H,KAChC+H,EAAWI,OAASJ,EAAW5H,IAC/BlD,GAASlW,KAAKmd,OAAQ3H,GAAO,CAC3B4F,MAAO4F,EAAW5F,MAClBD,OAAQ6F,EAAW7F,QAClBvB,GAAc,CACfK,WAAY+G,EAAW/H,KACvBiB,WAAY8G,EAAW5H,QAEzBpZ,KAAK6iB,YAAYb,GAEbhiB,KAAKogB,SAAWpgB,KAAKihB,SACvBjhB,KAAK8iB,cAAa,GAAM,IAG5BD,YAAa,SAAqBb,GAChC,IAAIhB,EAAahhB,KAAKghB,WAClBL,EAAY3gB,KAAK2gB,UACjBvF,EAAQuF,EAAU5E,cAAgBiF,EAAW5F,MAAQ4F,EAAWjF,cAChEZ,EAASwF,EAAU1E,eAAiB+E,EAAW7F,OAAS6F,EAAW/E,eACvEzG,GAAOmL,EAAW,CAChBvF,MAAOA,EACPD,OAAQA,EACRlC,MAAO+H,EAAW5F,MAAQA,GAAS,EACnChC,KAAM4H,EAAW7F,OAASA,GAAU,IAEtCjF,GAASlW,KAAKyb,MAAOjG,GAAO,CAC1B4F,MAAOuF,EAAUvF,MACjBD,OAAQwF,EAAUxF,QACjBvB,GAAcpE,GAAO,CACtByE,WAAY0G,EAAU1H,KACtBiB,WAAYyG,EAAUvH,KACrBuH,MAECqB,GACFhiB,KAAK+iB,UAGT7C,YAAa,WACX,IAAIpd,EAAU9C,KAAK8C,QACfke,EAAahhB,KAAKghB,WAClBjO,EAAcjQ,EAAQiQ,aAAejQ,EAAQ+P,mBAC7Cc,EAAewB,OAAOrS,EAAQ6Q,eAAiB,GAC/C6N,EAAc,CAChBpG,MAAO4F,EAAW5F,MAClBD,OAAQ6F,EAAW7F,QAGjBpI,IACEiO,EAAW7F,OAASpI,EAAciO,EAAW5F,MAC/CoG,EAAYrG,OAASqG,EAAYpG,MAAQrI,EAEzCyO,EAAYpG,MAAQoG,EAAYrG,OAASpI,GAI7C/S,KAAKwhB,YAAcA,EACnBxhB,KAAK8iB,cAAa,GAAM,GAExBtB,EAAYpG,MAAQrF,KAAKwH,IAAIxH,KAAKyH,IAAIgE,EAAYpG,MAAOoG,EAAYxE,UAAWwE,EAAY5E,UAC5F4E,EAAYrG,OAASpF,KAAKwH,IAAIxH,KAAKyH,IAAIgE,EAAYrG,OAAQqG,EAAYtE,WAAYsE,EAAY1E,WAE/F0E,EAAYpG,MAAQrF,KAAKyH,IAAIgE,EAAYxE,SAAUwE,EAAYpG,MAAQzH,GACvE6N,EAAYrG,OAASpF,KAAKyH,IAAIgE,EAAYtE,UAAWsE,EAAYrG,OAASxH,GAC1E6N,EAAYvI,KAAO+H,EAAW/H,MAAQ+H,EAAW5F,MAAQoG,EAAYpG,OAAS,EAC9EoG,EAAYpI,IAAM4H,EAAW5H,KAAO4H,EAAW7F,OAASqG,EAAYrG,QAAU,EAC9EqG,EAAYL,QAAUK,EAAYvI,KAClCuI,EAAYJ,OAASI,EAAYpI,IACjCpZ,KAAKgjB,mBAAqBxN,GAAO,GAAIgM,IAEvCsB,aAAc,SAAsBxB,EAAaC,GAC/C,IAAIze,EAAU9C,KAAK8C,QACf0d,EAAgBxgB,KAAKwgB,cACrBQ,EAAahhB,KAAKghB,WAClBQ,EAAcxhB,KAAKwhB,YACnBP,EAAUjhB,KAAKihB,QACflO,EAAcjQ,EAAQiQ,YAE1B,GAAIuO,EAAa,CACf,IAAI9M,EAAkBW,OAAOrS,EAAQ0R,kBAAoB,EACrDC,EAAmBU,OAAOrS,EAAQ2R,mBAAqB,EACvDwO,EAAkBhC,EAAUlL,KAAKwH,IAAIiD,EAAcpF,MAAO4F,EAAW5F,MAAO4F,EAAW5F,MAAQ4F,EAAW/H,KAAMuH,EAAcpF,MAAQ4F,EAAW/H,MAAQuH,EAAcpF,MACvK8H,EAAmBjC,EAAUlL,KAAKwH,IAAIiD,EAAcrF,OAAQ6F,EAAW7F,OAAQ6F,EAAW7F,OAAS6F,EAAW5H,IAAKoH,EAAcrF,OAAS6F,EAAW5H,KAAOoH,EAAcrF,OAE9K3G,EAAkBuB,KAAKwH,IAAI/I,EAAiBgM,EAAcpF,OAC1D3G,EAAmBsB,KAAKwH,IAAI9I,EAAkB+L,EAAcrF,QAExDpI,IACEyB,GAAmBC,EACjBA,EAAmB1B,EAAcyB,EACnCC,EAAmBD,EAAkBzB,EAErCyB,EAAkBC,EAAmB1B,EAE9ByB,EACTC,EAAmBD,EAAkBzB,EAC5B0B,IACTD,EAAkBC,EAAmB1B,GAGnCmQ,EAAmBnQ,EAAckQ,EACnCC,EAAmBD,EAAkBlQ,EAErCkQ,EAAkBC,EAAmBnQ,GAKzCyO,EAAYxE,SAAWjH,KAAKwH,IAAI/I,EAAiByO,GACjDzB,EAAYtE,UAAYnH,KAAKwH,IAAI9I,EAAkByO,GACnD1B,EAAY5E,SAAWqG,EACvBzB,EAAY1E,UAAYoG,EAGtB3B,IACEN,GACFO,EAAYI,QAAU7L,KAAKyH,IAAI,EAAGwD,EAAW/H,MAC7CuI,EAAYK,OAAS9L,KAAKyH,IAAI,EAAGwD,EAAW5H,KAC5CoI,EAAYM,QAAU/L,KAAKwH,IAAIiD,EAAcpF,MAAO4F,EAAW/H,KAAO+H,EAAW5F,OAASoG,EAAYpG,MACtGoG,EAAYO,OAAShM,KAAKwH,IAAIiD,EAAcrF,OAAQ6F,EAAW5H,IAAM4H,EAAW7F,QAAUqG,EAAYrG,SAEtGqG,EAAYI,QAAU,EACtBJ,EAAYK,OAAS,EACrBL,EAAYM,QAAUtB,EAAcpF,MAAQoG,EAAYpG,MACxDoG,EAAYO,OAASvB,EAAcrF,OAASqG,EAAYrG,UAI9DkF,cAAe,WACb,IAAIvd,EAAU9C,KAAK8C,QACf0d,EAAgBxgB,KAAKwgB,cACrBgB,EAAcxhB,KAAKwhB,aAEnBA,EAAYpG,MAAQoG,EAAY5E,UAAY4E,EAAYpG,MAAQoG,EAAYxE,YAC9EwE,EAAYvI,KAAOuI,EAAYL,UAG7BK,EAAYrG,OAASqG,EAAY1E,WAAa0E,EAAYrG,OAASqG,EAAYtE,aACjFsE,EAAYpI,IAAMoI,EAAYJ,QAGhCI,EAAYpG,MAAQrF,KAAKwH,IAAIxH,KAAKyH,IAAIgE,EAAYpG,MAAOoG,EAAYxE,UAAWwE,EAAY5E,UAC5F4E,EAAYrG,OAASpF,KAAKwH,IAAIxH,KAAKyH,IAAIgE,EAAYrG,OAAQqG,EAAYtE,WAAYsE,EAAY1E,WAC/F9c,KAAK8iB,cAAa,GAAO,GACzBtB,EAAYvI,KAAOlD,KAAKwH,IAAIxH,KAAKyH,IAAIgE,EAAYvI,KAAMuI,EAAYI,SAAUJ,EAAYM,SACzFN,EAAYpI,IAAMrD,KAAKwH,IAAIxH,KAAKyH,IAAIgE,EAAYpI,IAAKoI,EAAYK,QAASL,EAAYO,QACtFP,EAAYL,QAAUK,EAAYvI,KAClCuI,EAAYJ,OAASI,EAAYpI,IAE7BtW,EAAQ8Q,SAAW9Q,EAAQqR,gBAE7BiD,GAAQpX,KAAKmjB,KAAM/R,EAAaoQ,EAAYpG,OAASoF,EAAcpF,OAASoG,EAAYrG,QAAUqF,EAAcrF,OAAShL,EAAcF,GAGzIiG,GAASlW,KAAKojB,QAAS5N,GAAO,CAC5B4F,MAAOoG,EAAYpG,MACnBD,OAAQqG,EAAYrG,QACnBvB,GAAc,CACfK,WAAYuH,EAAYvI,KACxBiB,WAAYsH,EAAYpI,QAGtBpZ,KAAKogB,SAAWpgB,KAAKihB,SACvBjhB,KAAKkhB,aAAY,GAAM,GAGpBlhB,KAAKqjB,UACRrjB,KAAK+iB,UAGTA,OAAQ,WACN/iB,KAAKgT,UACLsF,GAActY,KAAKmW,QAAS1E,EAAYzR,KAAKiX,aAI7CjE,GAAU,CACZsQ,YAAa,WACX,IAAInN,EAAUnW,KAAKmW,QACfoN,EAAcvjB,KAAKujB,YACnBvQ,EAAUhT,KAAK8C,QAAQkQ,QACvBtX,EAAM6nB,EAAcvjB,KAAKwjB,eAAiBxjB,KAAKtE,IAC/C+nB,EAAMtN,EAAQsN,KAAO,uBACrBhI,EAAQ7S,SAASa,cAAc,OAWnC,GATI8Z,IACF9H,EAAM8H,YAAcA,GAGtB9H,EAAMiI,IAAMhoB,EACZ+f,EAAMgI,IAAMA,EACZzjB,KAAK2jB,QAAQC,YAAYnI,GACzBzb,KAAK6jB,aAAepI,EAEfzI,EAAL,CAIA,IAAI8Q,EAAW9Q,EAEQ,iBAAZA,EACT8Q,EAAW3N,EAAQ4N,cAAcC,iBAAiBhR,GACzCA,EAAQiR,gBACjBH,EAAW,CAAC9Q,IAGdhT,KAAK8jB,SAAWA,EAChBpmB,GAAQomB,GAAU,SAAUI,GAC1B,IAAIC,EAAMvb,SAASa,cAAc,OAEjC2N,GAAQ8M,EAAI7S,EAAc,CACxB+J,MAAO8I,EAAGzD,YACVtF,OAAQ+I,EAAGxD,aACX0D,KAAMF,EAAGG,YAGPd,IACFY,EAAIZ,YAAcA,GAGpBY,EAAIT,IAAMhoB,EACVyoB,EAAIV,IAAMA,EAQVU,EAAI9N,MAAMiO,QAAU,0KACpBJ,EAAGG,UAAY,GACfH,EAAGN,YAAYO,QAGnBI,aAAc,WACZ7mB,GAAQsC,KAAK8jB,UAAU,SAAU3N,GAC/B,IAAIzb,EAAOuc,GAAQd,EAAS9E,GAC5B6E,GAASC,EAAS,CAChBiF,MAAO1gB,EAAK0gB,MACZD,OAAQzgB,EAAKygB,SAEfhF,EAAQkO,UAAY3pB,EAAK0pB,KA1jC/B,SAAoBjO,EAASjS,GAC3B,GAAIuC,GAAS0P,EAAQjS,IACnB,WACSiS,EAAQjS,GACf,MAAOzB,GACP0T,EAAQjS,QAAQ1G,OAEb,GAAI2Y,EAAQe,QAEjB,WACSf,EAAQe,QAAQhT,GACvB,MAAOzB,GACP0T,EAAQe,QAAQhT,QAAQ1G,OAG1B2Y,EAAQqO,gBAAgB,QAAQriB,OAAO6U,GAAY9S,KA4iCjDugB,CAAWtO,EAAS9E,OAGxB2B,QAAS,WACP,IAAI2N,EAAY3gB,KAAK2gB,UACjBK,EAAahhB,KAAKghB,WAClBQ,EAAcxhB,KAAKwhB,YACnBkD,EAAelD,EAAYpG,MAC3BuJ,EAAgBnD,EAAYrG,OAC5BC,EAAQuF,EAAUvF,MAClBD,EAASwF,EAAUxF,OACnBlC,EAAOuI,EAAYvI,KAAO+H,EAAW/H,KAAO0H,EAAU1H,KACtDG,EAAMoI,EAAYpI,IAAM4H,EAAW5H,IAAMuH,EAAUvH,IAElDpZ,KAAKogB,UAAWpgB,KAAKqjB,WAI1BnN,GAASlW,KAAK6jB,aAAcrO,GAAO,CACjC4F,MAAOA,EACPD,OAAQA,GACPvB,GAAcpE,GAAO,CACtByE,YAAahB,EACbiB,YAAad,GACZuH,MACHjjB,GAAQsC,KAAK8jB,UAAU,SAAU3N,GAC/B,IAAIzb,EAAOuc,GAAQd,EAAS9E,GACxBuT,EAAgBlqB,EAAK0gB,MACrByJ,EAAiBnqB,EAAKygB,OACtBuH,EAAWkC,EACXjC,EAAYkC,EACZC,EAAQ,EAERJ,IAEF/B,EAAYgC,GADZG,EAAQF,EAAgBF,IAItBC,GAAiBhC,EAAYkC,IAE/BnC,EAAWgC,GADXI,EAAQD,EAAiBF,GAEzBhC,EAAYkC,GAGd3O,GAASC,EAAS,CAChBiF,MAAOsH,EACPvH,OAAQwH,IAEVzM,GAASC,EAAQ4O,qBAAqB,OAAO,GAAIvP,GAAO,CACtD4F,MAAOA,EAAQ0J,EACf3J,OAAQA,EAAS2J,GAChBlL,GAAcpE,GAAO,CACtByE,YAAahB,EAAO6L,EACpB5K,YAAad,EAAM0L,GAClBnE,YAKLqE,GAAS,CACXtmB,KAAM,WACJ,IAAIyX,EAAUnW,KAAKmW,QACfrT,EAAU9C,KAAK8C,QACfyd,EAAUvgB,KAAKugB,QAEflU,GAAWvJ,EAAQ+R,YACrBoD,GAAY9B,EAASvE,EAAkB9O,EAAQ+R,WAG7CxI,GAAWvJ,EAAQgS,WACrBmD,GAAY9B,EAASxE,EAAiB7O,EAAQgS,UAG5CzI,GAAWvJ,EAAQiS,UACrBkD,GAAY9B,EAASzE,EAAgB5O,EAAQiS,SAG3C1I,GAAWvJ,EAAQkS,OACrBiD,GAAY9B,EAAS1E,EAAY3O,EAAQkS,MAGvC3I,GAAWvJ,EAAQmS,OACrBgD,GAAY9B,EAAS/D,EAAYtP,EAAQmS,MAG3CgD,GAAYsI,EAASzO,EAAoB9R,KAAKilB,YAAcjlB,KAAKklB,UAAUxmB,KAAKsB,OAE5E8C,EAAQiR,UAAYjR,EAAQmR,aAC9BgE,GAAYsI,EAASpO,EAAanS,KAAKmlB,QAAUnlB,KAAKolB,MAAM1mB,KAAKsB,MAAO,CACtEqlB,SAAS,EACTC,SAAS,IAITxiB,EAAQuR,0BACV4D,GAAYsI,EAAS1O,EAAgB7R,KAAKulB,WAAavlB,KAAKwlB,SAAS9mB,KAAKsB,OAG5EiY,GAAY9B,EAAQ4N,cAAehS,EAAoB/R,KAAKylB,WAAazlB,KAAK0lB,SAAShnB,KAAKsB,OAC5FiY,GAAY9B,EAAQ4N,cAAe/R,EAAkBhS,KAAK2lB,UAAY3lB,KAAK4lB,QAAQlnB,KAAKsB,OAEpF8C,EAAQmQ,YACVgF,GAAY5N,OAAQ6H,EAAclS,KAAK6lB,SAAW7lB,KAAK8lB,OAAOpnB,KAAKsB,QAGvE+lB,OAAQ,WACN,IAAI5P,EAAUnW,KAAKmW,QACfrT,EAAU9C,KAAK8C,QACfyd,EAAUvgB,KAAKugB,QAEflU,GAAWvJ,EAAQ+R,YACrBgD,GAAe1B,EAASvE,EAAkB9O,EAAQ+R,WAGhDxI,GAAWvJ,EAAQgS,WACrB+C,GAAe1B,EAASxE,EAAiB7O,EAAQgS,UAG/CzI,GAAWvJ,EAAQiS,UACrB8C,GAAe1B,EAASzE,EAAgB5O,EAAQiS,SAG9C1I,GAAWvJ,EAAQkS,OACrB6C,GAAe1B,EAAS1E,EAAY3O,EAAQkS,MAG1C3I,GAAWvJ,EAAQmS,OACrB4C,GAAe1B,EAAS/D,EAAYtP,EAAQmS,MAG9C4C,GAAe0I,EAASzO,EAAoB9R,KAAKilB,aAE7CniB,EAAQiR,UAAYjR,EAAQmR,aAC9B4D,GAAe0I,EAASpO,EAAanS,KAAKmlB,QAAS,CACjDE,SAAS,EACTC,SAAS,IAITxiB,EAAQuR,0BACVwD,GAAe0I,EAAS1O,EAAgB7R,KAAKulB,YAG/C1N,GAAe1B,EAAQ4N,cAAehS,EAAoB/R,KAAKylB,YAC/D5N,GAAe1B,EAAQ4N,cAAe/R,EAAkBhS,KAAK2lB,WAEzD7iB,EAAQmQ,YACV4E,GAAexN,OAAQ6H,EAAclS,KAAK6lB,YAK5CjjB,GAAW,CACbkjB,OAAQ,WACN,IAAI9lB,KAAKqjB,SAAT,CAIA,IAQMrC,EACAQ,EATF1e,EAAU9C,KAAK8C,QACfwd,EAAYtgB,KAAKsgB,UACjBE,EAAgBxgB,KAAKwgB,cACrBwF,EAAS1F,EAAUG,YAAcD,EAAcpF,MAC/C6K,EAAS3F,EAAUI,aAAeF,EAAcrF,OAChD2J,EAAQ/O,KAAK8K,IAAImF,EAAS,GAAKjQ,KAAK8K,IAAIoF,EAAS,GAAKD,EAASC,EAErD,IAAVnB,IAIEhiB,EAAQoQ,UACV8N,EAAahhB,KAAKkmB,gBAClB1E,EAAcxhB,KAAKmmB,kBAGrBnmB,KAAK+f,SAEDjd,EAAQoQ,UACVlT,KAAKomB,cAAc1oB,GAAQsjB,GAAY,SAAU1R,EAAG7H,GAClDuZ,EAAWvZ,GAAK6H,EAAIwV,MAEtB9kB,KAAKqmB,eAAe3oB,GAAQ8jB,GAAa,SAAUlS,EAAG7H,GACpD+Z,EAAY/Z,GAAK6H,EAAIwV,UAK7BU,SAAU,WA93CZ,IAAkBrP,EAASxV,EA+3CnBX,KAAKqjB,UAAYrjB,KAAK8C,QAAQ8P,WAAapB,GAI/CxR,KAAKsmB,aAn4CSnQ,EAm4CYnW,KAAKumB,QAn4CR5lB,EAm4CiBkQ,GAl4CnCsF,EAAQM,UAAYN,EAAQM,UAAU+P,SAAS7lB,GAASwV,EAAQQ,UAAUha,QAAQgE,IAAU,GAk4C3C4Q,EAAiBD,KAEzE8T,MAAO,SAAerN,GACpB,IAAI0O,EAAQzmB,KAER8kB,EAAQ3P,OAAOnV,KAAK8C,QAAQoR,iBAAmB,GAC/CwS,EAAQ,EAER1mB,KAAKqjB,WAITtL,EAAM4O,iBAEF3mB,KAAK4mB,WAIT5mB,KAAK4mB,UAAW,EAChBhqB,YAAW,WACT6pB,EAAMG,UAAW,IAChB,IAEC7O,EAAM8O,OACRH,EAAQ3O,EAAM8O,OAAS,EAAI,GAAK,EACvB9O,EAAM+O,WACfJ,GAAS3O,EAAM+O,WAAa,IACnB/O,EAAMU,SACfiO,EAAQ3O,EAAMU,OAAS,EAAI,GAAK,GAGlCzY,KAAKiV,MAAMyR,EAAQ5B,EAAO/M,MAE5BmN,UAAW,SAAmBnN,GAC5B,IAAIgP,EAAUhP,EAAMgP,QAChBC,EAASjP,EAAMiP,OAEnB,KAAIhnB,KAAKqjB,WACU,cAAftL,EAAM9M,MAAuC,gBAAf8M,EAAM9M,MAAgD,UAAtB8M,EAAMkP,eACxExe,GAASse,IAAwB,IAAZA,GAAiBte,GAASue,IAAsB,IAAXA,GACvDjP,EAAMmP,UAHT,CAOA,IAEIC,EAFArkB,EAAU9C,KAAK8C,QACfskB,EAAWpnB,KAAKonB,SAGhBrP,EAAMsP,eAER3pB,GAAQqa,EAAMsP,gBAAgB,SAAUC,GACtCF,EAASE,EAAMC,YAAchN,GAAW+M,MAI1CF,EAASrP,EAAMyP,WAAa,GAAKjN,GAAWxC,GAI5CoP,EADE3hB,OAAOC,KAAK2hB,GAAUhlB,OAAS,GAAKU,EAAQiR,UAAYjR,EAAQkR,YACzD5D,EAEA6G,GAAQc,EAAM/S,OAAQoM,GAG5BkB,EAAepJ,KAAKie,KAOlB,IAHH7O,GAActY,KAAKmW,QAASvE,EAAkB,CAChD6V,cAAe1P,EACfoP,OAAQA,MAMVpP,EAAM4O,iBACN3mB,KAAKmnB,OAASA,EACdnnB,KAAK0nB,UAAW,EAEZP,IAAWjX,IACblQ,KAAK0nB,UAAW,EAChBnR,GAASvW,KAAKumB,QAASrV,OAG3BwU,SAAU,SAAkB3N,GAC1B,IAAIoP,EAASnnB,KAAKmnB,OAElB,IAAInnB,KAAKqjB,UAAa8D,EAAtB,CAIA,IAAIC,EAAWpnB,KAAKonB,SACpBrP,EAAM4O,kBAKC,IAHHrO,GAActY,KAAKmW,QAASxE,EAAiB,CAC/C8V,cAAe1P,EACfoP,OAAQA,MAKNpP,EAAMsP,eACR3pB,GAAQqa,EAAMsP,gBAAgB,SAAUC,GAEtC9R,GAAO4R,EAASE,EAAMC,aAAe,GAAIhN,GAAW+M,GAAO,OAG7D9R,GAAO4R,EAASrP,EAAMyP,WAAa,IAAM,GAAIjN,GAAWxC,GAAO,IAGjE/X,KAAK2nB,OAAO5P,MAEd6N,QAAS,SAAiB7N,GACxB,IAAI/X,KAAKqjB,SAAT,CAIA,IAAI8D,EAASnnB,KAAKmnB,OACdC,EAAWpnB,KAAKonB,SAEhBrP,EAAMsP,eACR3pB,GAAQqa,EAAMsP,gBAAgB,SAAUC,UAC/BF,EAASE,EAAMC,sBAGjBH,EAASrP,EAAMyP,WAAa,GAGhCL,IAILpP,EAAM4O,iBAEDnhB,OAAOC,KAAK2hB,GAAUhlB,SACzBpC,KAAKmnB,OAAS,IAGZnnB,KAAK0nB,WACP1nB,KAAK0nB,UAAW,EAChB7Q,GAAY7W,KAAKumB,QAASrV,EAAalR,KAAKogB,SAAWpgB,KAAK8C,QAAQuQ,QAGtEiF,GAActY,KAAKmW,QAASzE,EAAgB,CAC1C+V,cAAe1P,EACfoP,OAAQA,QAKVQ,GAAS,CACXA,OAAQ,SAAgB5P,GACtB,IAkBIqH,EAlBAtc,EAAU9C,KAAK8C,QACfke,EAAahhB,KAAKghB,WAClBR,EAAgBxgB,KAAKwgB,cACrBgB,EAAcxhB,KAAKwhB,YACnB4F,EAAWpnB,KAAKonB,SAChBD,EAASnnB,KAAKmnB,OACdpU,EAAcjQ,EAAQiQ,YACtBkG,EAAOuI,EAAYvI,KACnBG,EAAMoI,EAAYpI,IAClBgC,EAAQoG,EAAYpG,MACpBD,EAASqG,EAAYrG,OACrByM,EAAQ3O,EAAOmC,EACfyM,EAASzO,EAAM+B,EACfyG,EAAU,EACVC,EAAS,EACTjF,EAAW4D,EAAcpF,MACzB0B,EAAY0D,EAAcrF,OAC1B2M,GAAa,GAGZ/U,GAAegF,EAAMgQ,WACxBhV,EAAcqI,GAASD,EAASC,EAAQD,EAAS,GAG/Cnb,KAAKihB,UACPW,EAAUJ,EAAYI,QACtBC,EAASL,EAAYK,OACrBjF,EAAWgF,EAAU7L,KAAKwH,IAAIiD,EAAcpF,MAAO4F,EAAW5F,MAAO4F,EAAW/H,KAAO+H,EAAW5F,OAClG0B,EAAY+E,EAAS9L,KAAKwH,IAAIiD,EAAcrF,OAAQ6F,EAAW7F,OAAQ6F,EAAW5H,IAAM4H,EAAW7F,SAGrG,IAAI6M,EAAUZ,EAAS5hB,OAAOC,KAAK2hB,GAAU,IACzCa,EAAQ,CACVC,EAAGF,EAAQnN,KAAOmN,EAAQjN,OAC1BoN,EAAGH,EAAQlN,KAAOkN,EAAQhN,QAGxBoN,EAAQ,SAAeC,GACzB,OAAQA,GACN,KAAKhY,EACCuX,EAAQK,EAAMC,EAAItL,IACpBqL,EAAMC,EAAItL,EAAWgL,GAGvB,MAEF,KAAKtX,EACC2I,EAAOgP,EAAMC,EAAItG,IACnBqG,EAAMC,EAAItG,EAAU3I,GAGtB,MAEF,KAAKzI,EACC4I,EAAM6O,EAAME,EAAItG,IAClBoG,EAAME,EAAItG,EAASzI,GAGrB,MAEF,KAAK7I,EACCsX,EAASI,EAAME,EAAIrL,IACrBmL,EAAME,EAAIrL,EAAY+K,KAO9B,OAAQV,GAEN,KAAKlX,EACHgJ,GAAQgP,EAAMC,EACd9O,GAAO6O,EAAME,EACb,MAGF,KAAK9X,EACH,GAAI4X,EAAMC,GAAK,IAAMN,GAAShL,GAAY7J,IAAgBqG,GAAOyI,GAAUgG,GAAU/K,IAAa,CAChGgL,GAAa,EACb,MAGFM,EAAM/X,IACN+K,GAAS6M,EAAMC,GAEH,IACVf,EAAS7W,EAET2I,GADAmC,GAASA,GAIPrI,IACFoI,EAASC,EAAQrI,EACjBqG,IAAQoI,EAAYrG,OAASA,GAAU,GAGzC,MAEF,KAAK3K,EACH,GAAIyX,EAAME,GAAK,IAAM/O,GAAOyI,GAAU9O,IAAgBkG,GAAQ2I,GAAWgG,GAAShL,IAAY,CAC5FkL,GAAa,EACb,MAGFM,EAAM5X,GACN2K,GAAU8M,EAAME,EAChB/O,GAAO6O,EAAME,EAEThN,EAAS,IACXgM,EAAS5W,EAET6I,GADA+B,GAAUA,GAIRpI,IACFqI,EAAQD,EAASpI,EACjBkG,IAASuI,EAAYpG,MAAQA,GAAS,GAGxC,MAEF,KAAK9K,EACH,GAAI2X,EAAMC,GAAK,IAAMjP,GAAQ2I,GAAW7O,IAAgBqG,GAAOyI,GAAUgG,GAAU/K,IAAa,CAC9FgL,GAAa,EACb,MAGFM,EAAM9X,GACN8K,GAAS6M,EAAMC,EACfjP,GAAQgP,EAAMC,EAEV9M,EAAQ,IACV+L,EAAS9W,EAET4I,GADAmC,GAASA,GAIPrI,IACFoI,EAASC,EAAQrI,EACjBqG,IAAQoI,EAAYrG,OAASA,GAAU,GAGzC,MAEF,KAAK5K,EACH,GAAI0X,EAAME,GAAK,IAAMN,GAAU/K,GAAa/J,IAAgBkG,GAAQ2I,GAAWgG,GAAShL,IAAY,CAClGkL,GAAa,EACb,MAGFM,EAAM7X,IACN4K,GAAU8M,EAAME,GAEH,IACXhB,EAAS3W,EAET4I,GADA+B,GAAUA,GAIRpI,IACFqI,EAAQD,EAASpI,EACjBkG,IAASuI,EAAYpG,MAAQA,GAAS,GAGxC,MAEF,KAAK3K,EACH,GAAIsC,EAAa,CACf,GAAIkV,EAAME,GAAK,IAAM/O,GAAOyI,GAAU+F,GAAShL,GAAW,CACxDkL,GAAa,EACb,MAGFM,EAAM5X,GACN2K,GAAU8M,EAAME,EAChB/O,GAAO6O,EAAME,EACb/M,EAAQD,EAASpI,OAEjBqV,EAAM5X,GACN4X,EAAM/X,GAEF4X,EAAMC,GAAK,EACTN,EAAQhL,EACVxB,GAAS6M,EAAMC,EACND,EAAME,GAAK,GAAK/O,GAAOyI,IAChCiG,GAAa,GAGf1M,GAAS6M,EAAMC,EAGbD,EAAME,GAAK,EACT/O,EAAMyI,IACR1G,GAAU8M,EAAME,EAChB/O,GAAO6O,EAAME,IAGfhN,GAAU8M,EAAME,EAChB/O,GAAO6O,EAAME,GAIb/M,EAAQ,GAAKD,EAAS,GACxBgM,EAASvW,EAGTwI,GAFA+B,GAAUA,EAGVlC,GAFAmC,GAASA,GAGAA,EAAQ,GACjB+L,EAASzW,EAETuI,GADAmC,GAASA,GAEAD,EAAS,IAClBgM,EAASxW,EAETyI,GADA+B,GAAUA,GAIZ,MAEF,KAAKzK,EACH,GAAIqC,EAAa,CACf,GAAIkV,EAAME,GAAK,IAAM/O,GAAOyI,GAAU5I,GAAQ2I,GAAU,CACtDkG,GAAa,EACb,MAGFM,EAAM5X,GACN2K,GAAU8M,EAAME,EAChB/O,GAAO6O,EAAME,EACb/M,EAAQD,EAASpI,EACjBkG,GAAQuI,EAAYpG,MAAQA,OAE5BgN,EAAM5X,GACN4X,EAAM9X,GAEF2X,EAAMC,GAAK,EACTjP,EAAO2I,GACTxG,GAAS6M,EAAMC,EACfjP,GAAQgP,EAAMC,GACLD,EAAME,GAAK,GAAK/O,GAAOyI,IAChCiG,GAAa,IAGf1M,GAAS6M,EAAMC,EACfjP,GAAQgP,EAAMC,GAGZD,EAAME,GAAK,EACT/O,EAAMyI,IACR1G,GAAU8M,EAAME,EAChB/O,GAAO6O,EAAME,IAGfhN,GAAU8M,EAAME,EAChB/O,GAAO6O,EAAME,GAIb/M,EAAQ,GAAKD,EAAS,GACxBgM,EAASxW,EAGTyI,GAFA+B,GAAUA,EAGVlC,GAFAmC,GAASA,GAGAA,EAAQ,GACjB+L,EAAS1W,EAETwI,GADAmC,GAASA,GAEAD,EAAS,IAClBgM,EAASvW,EAETwI,GADA+B,GAAUA,GAIZ,MAEF,KAAKvK,EACH,GAAImC,EAAa,CACf,GAAIkV,EAAMC,GAAK,IAAMjP,GAAQ2I,GAAWiG,GAAU/K,GAAY,CAC5DgL,GAAa,EACb,MAGFM,EAAM9X,GACN8K,GAAS6M,EAAMC,EACfjP,GAAQgP,EAAMC,EACd/M,EAASC,EAAQrI,OAEjBqV,EAAM7X,GACN6X,EAAM9X,GAEF2X,EAAMC,GAAK,EACTjP,EAAO2I,GACTxG,GAAS6M,EAAMC,EACfjP,GAAQgP,EAAMC,GACLD,EAAME,GAAK,GAAKN,GAAU/K,IACnCgL,GAAa,IAGf1M,GAAS6M,EAAMC,EACfjP,GAAQgP,EAAMC,GAGZD,EAAME,GAAK,EACTN,EAAS/K,IACX3B,GAAU8M,EAAME,GAGlBhN,GAAU8M,EAAME,EAIhB/M,EAAQ,GAAKD,EAAS,GACxBgM,EAAS1W,EAGT2I,GAFA+B,GAAUA,EAGVlC,GAFAmC,GAASA,GAGAA,EAAQ,GACjB+L,EAASxW,EAETsI,GADAmC,GAASA,GAEAD,EAAS,IAClBgM,EAASzW,EAET0I,GADA+B,GAAUA,GAIZ,MAEF,KAAKxK,EACH,GAAIoC,EAAa,CACf,GAAIkV,EAAMC,GAAK,IAAMN,GAAShL,GAAYiL,GAAU/K,GAAY,CAC9DgL,GAAa,EACb,MAGFM,EAAM/X,GAEN8K,GADAC,GAAS6M,EAAMC,GACEnV,OAEjBqV,EAAM7X,GACN6X,EAAM/X,GAEF4X,EAAMC,GAAK,EACTN,EAAQhL,EACVxB,GAAS6M,EAAMC,EACND,EAAME,GAAK,GAAKN,GAAU/K,IACnCgL,GAAa,GAGf1M,GAAS6M,EAAMC,EAGbD,EAAME,GAAK,EACTN,EAAS/K,IACX3B,GAAU8M,EAAME,GAGlBhN,GAAU8M,EAAME,EAIhB/M,EAAQ,GAAKD,EAAS,GACxBgM,EAASzW,EAGT0I,GAFA+B,GAAUA,EAGVlC,GAFAmC,GAASA,GAGAA,EAAQ,GACjB+L,EAASvW,EAETqI,GADAmC,GAASA,GAEAD,EAAS,IAClBgM,EAAS1W,EAET2I,GADA+B,GAAUA,GAIZ,MAGF,KAAKhL,EACHnQ,KAAKsoB,KAAKL,EAAMC,EAAGD,EAAME,GACzBL,GAAa,EACb,MAGF,KAAK1X,EACHpQ,KAAKiV,KAnjDb,SAAyBmS,GACvB,IAAImB,EAAYxa,EAAe,GAAIqZ,GAE/BoB,EAAW,EAiBf,OAhBA9qB,GAAQ0pB,GAAU,SAAUY,EAASR,UAC5Be,EAAUf,GACjB9pB,GAAQ6qB,GAAW,SAAUE,GAC3B,IAAIC,EAAK3S,KAAK8K,IAAImH,EAAQjN,OAAS0N,EAAS1N,QACxC4N,EAAK5S,KAAK8K,IAAImH,EAAQhN,OAASyN,EAASzN,QACxC4N,EAAK7S,KAAK8K,IAAImH,EAAQnN,KAAO4N,EAAS5N,MACtCgO,EAAK9S,KAAK8K,IAAImH,EAAQlN,KAAO2N,EAAS3N,MACtCgO,EAAK/S,KAAKgT,KAAKL,EAAKA,EAAKC,EAAKA,GAE9B7D,GADK/O,KAAKgT,KAAKH,EAAKA,EAAKC,EAAKA,GAChBC,GAAMA,EAEpB/S,KAAK8K,IAAIiE,GAAS/O,KAAK8K,IAAI2H,KAC7BA,EAAW1D,SAIV0D,EA+hDSQ,CAAgB5B,GAAWrP,GACrC+P,GAAa,EACb,MAGF,KAAK5X,EACH,IAAK+X,EAAMC,IAAMD,EAAME,EAAG,CACxBL,GAAa,EACb,MAGF1I,EAAStG,GAAU9Y,KAAKugB,SACxBtH,EAAO+O,EAAQjN,OAASqE,EAAOnG,KAC/BG,EAAM4O,EAAQhN,OAASoE,EAAOhG,IAC9BgC,EAAQoG,EAAYxE,SACpB7B,EAASqG,EAAYtE,UAEjB+K,EAAMC,EAAI,EACZf,EAASc,EAAME,EAAI,EAAIxX,EAAoBF,EAClCwX,EAAMC,EAAI,IACnBjP,GAAQmC,EACR+L,EAASc,EAAME,EAAI,EAAIvX,EAAoBF,GAGzCuX,EAAME,EAAI,IACZ/O,GAAO+B,GAIJnb,KAAKogB,UACRxJ,GAAY5W,KAAKojB,QAASrS,GAC1B/Q,KAAKogB,SAAU,EAEXpgB,KAAKihB,SACPjhB,KAAK8iB,cAAa,GAAM,IAO5BgF,IACFtG,EAAYpG,MAAQA,EACpBoG,EAAYrG,OAASA,EACrBqG,EAAYvI,KAAOA,EACnBuI,EAAYpI,IAAMA,EAClBpZ,KAAKmnB,OAASA,EACdnnB,KAAKqgB,iBAIP3iB,GAAQ0pB,GAAU,SAAU6B,GAC1BA,EAAElO,OAASkO,EAAEpO,KACboO,EAAEjO,OAASiO,EAAEnO,UAKfoO,GAAU,CAEZlU,KAAM,WAaJ,OAZIhV,KAAK4U,OAAU5U,KAAKogB,SAAYpgB,KAAKqjB,WACvCrjB,KAAKogB,SAAU,EACfpgB,KAAK8iB,cAAa,GAAM,GAEpB9iB,KAAK8C,QAAQuQ,OACfkD,GAASvW,KAAKumB,QAASrV,GAGzB0F,GAAY5W,KAAKojB,QAASrS,GAC1B/Q,KAAKqmB,eAAermB,KAAKgjB,qBAGpBhjB,MAGTmpB,MAAO,WAYL,OAXInpB,KAAK4U,QAAU5U,KAAKqjB,WACtBrjB,KAAK2gB,UAAYnL,GAAO,GAAIxV,KAAKopB,kBACjCppB,KAAKghB,WAAaxL,GAAO,GAAIxV,KAAKqhB,mBAClCrhB,KAAKwhB,YAAchM,GAAO,GAAIxV,KAAKgjB,oBACnChjB,KAAKmgB,eAEDngB,KAAKogB,SACPpgB,KAAKqgB,iBAIFrgB,MAGTqpB,MAAO,WAiBL,OAhBIrpB,KAAKogB,UAAYpgB,KAAKqjB,WACxB7N,GAAOxV,KAAKwhB,YAAa,CACvBvI,KAAM,EACNG,IAAK,EACLgC,MAAO,EACPD,OAAQ,IAEVnb,KAAKogB,SAAU,EACfpgB,KAAKqgB,gBACLrgB,KAAKkhB,aAAY,GAAM,GAEvBlhB,KAAKmgB,eACLvJ,GAAY5W,KAAKumB,QAASrV,GAC1BqF,GAASvW,KAAKojB,QAASrS,IAGlB/Q,MAST2C,QAAS,SAAiBjH,GACxB,IAAI4tB,EAAcroB,UAAUmB,OAAS,QAAsB5E,IAAjByD,UAAU,IAAmBA,UAAU,GA4BjF,OA1BKjB,KAAKqjB,UAAY3nB,IAChBsE,KAAKupB,QACPvpB,KAAKmW,QAAQuN,IAAMhoB,GAGjB4tB,GACFtpB,KAAKtE,IAAMA,EACXsE,KAAKyb,MAAMiI,IAAMhoB,EAEbsE,KAAK4U,QACP5U,KAAK6jB,aAAaH,IAAMhoB,EACxBgC,GAAQsC,KAAK8jB,UAAU,SAAU3N,GAC/BA,EAAQ4O,qBAAqB,OAAO,GAAGrB,IAAMhoB,QAI7CsE,KAAKupB,QACPvpB,KAAKwpB,UAAW,GAGlBxpB,KAAK8C,QAAQpI,KAAO,KACpBsF,KAAKypB,WACLzpB,KAAK0pB,KAAKhuB,KAIPsE,MAGT2pB,OAAQ,WAMN,OALI3pB,KAAK4U,OAAS5U,KAAKqjB,WACrBrjB,KAAKqjB,UAAW,EAChBzM,GAAY5W,KAAKugB,QAASzP,IAGrB9Q,MAGT4pB,QAAS,WAMP,OALI5pB,KAAK4U,QAAU5U,KAAKqjB,WACtBrjB,KAAKqjB,UAAW,EAChB9M,GAASvW,KAAKugB,QAASzP,IAGlB9Q,MAOT6pB,QAAS,WACP,IAAI1T,EAAUnW,KAAKmW,QAEnB,OAAKA,EAAiB,SAItBA,EAAiB,aAAI3Y,EAEjBwC,KAAKupB,OAASvpB,KAAKwpB,WACrBrT,EAAQuN,IAAM1jB,KAAK8pB,aAGrB9pB,KAAKypB,WACEzpB,MAVEA,MAmBXsoB,KAAM,SAAcyB,GAClB,IAAIC,EAAU/oB,UAAUmB,OAAS,QAAsB5E,IAAjByD,UAAU,GAAmBA,UAAU,GAAK8oB,EAC9EE,EAAmBjqB,KAAKghB,WACxB/H,EAAOgR,EAAiBhR,KACxBG,EAAM6Q,EAAiB7Q,IAC3B,OAAOpZ,KAAKkqB,OAAOnsB,GAAYgsB,GAAWA,EAAU9Q,EAAO9D,OAAO4U,GAAUhsB,GAAYisB,GAAWA,EAAU5Q,EAAMjE,OAAO6U,KAS5HE,OAAQ,SAAgBhC,GACtB,IAAIC,EAAIlnB,UAAUmB,OAAS,QAAsB5E,IAAjByD,UAAU,GAAmBA,UAAU,GAAKinB,EACxElH,EAAahhB,KAAKghB,WAClBgB,GAAU,EAoBd,OAnBAkG,EAAI/S,OAAO+S,GACXC,EAAIhT,OAAOgT,GAEPnoB,KAAK4U,QAAU5U,KAAKqjB,UAAYrjB,KAAK8C,QAAQ8Q,UAC3CnL,GAASyf,KACXlH,EAAW/H,KAAOiP,EAClBlG,GAAU,GAGRvZ,GAAS0f,KACXnH,EAAW5H,IAAM+O,EACjBnG,GAAU,GAGRA,GACFhiB,KAAKmgB,cAAa,IAIfngB,MASTiV,KAAM,SAAc6P,EAAOqF,GACzB,IAAInJ,EAAahhB,KAAKghB,WAStB,OALE8D,GAHFA,EAAQ3P,OAAO2P,IAEH,EACF,GAAK,EAAIA,GAET,EAAIA,EAGP9kB,KAAKoqB,OAAOpJ,EAAW5F,MAAQ0J,EAAQ9D,EAAWjF,aAAc,KAAMoO,IAU/EC,OAAQ,SAAgBtF,EAAOuF,EAAOF,GACpC,IAAIrnB,EAAU9C,KAAK8C,QACfke,EAAahhB,KAAKghB,WAClB5F,EAAQ4F,EAAW5F,MACnBD,EAAS6F,EAAW7F,OACpBY,EAAeiF,EAAWjF,aAC1BE,EAAgB+E,EAAW/E,cAG/B,IAFA6I,EAAQ3P,OAAO2P,KAEF,GAAK9kB,KAAK4U,QAAU5U,KAAKqjB,UAAYvgB,EAAQiR,SAAU,CAClE,IAAI2O,EAAW3G,EAAe+I,EAC1BnC,EAAY1G,EAAgB6I,EAEhC,IAIO,IAJHxM,GAActY,KAAKmW,QAAS/D,EAAY,CAC1C0S,MAAOA,EACPwF,SAAUlP,EAAQW,EAClB0L,cAAe0C,IAEf,OAAOnqB,KAGT,GAAImqB,EAAgB,CAClB,IAAI/C,EAAWpnB,KAAKonB,SAChBhI,EAAStG,GAAU9Y,KAAKugB,SACxBhN,EAAS6T,GAAY5hB,OAAOC,KAAK2hB,GAAUhlB,OAhyDvD,SAA2BglB,GACzB,IAAI1M,EAAQ,EACRC,EAAQ,EACR4P,EAAQ,EAUZ,OATA7sB,GAAQ0pB,GAAU,SAAUoD,GAC1B,IAAIzP,EAASyP,EAAMzP,OACfC,EAASwP,EAAMxP,OACnBN,GAASK,EACTJ,GAASK,EACTuP,GAAS,KAIJ,CACL7P,MAHFA,GAAS6P,EAIP5P,MAHFA,GAAS4P,GAoxDqDE,CAAkBrD,GAAY,CACpF1M,MAAOyP,EAAezP,MACtBC,MAAOwP,EAAexP,OAGxBqG,EAAW/H,OAASyJ,EAAWtH,KAAW7H,EAAOmH,MAAQ0E,EAAOnG,KAAO+H,EAAW/H,MAAQmC,GAC1F4F,EAAW5H,MAAQuJ,EAAYxH,KAAY5H,EAAOoH,MAAQyE,EAAOhG,IAAM4H,EAAW5H,KAAO+B,QAChFlW,GAAcolB,IAAU5hB,GAAS4hB,EAAMnC,IAAMzf,GAAS4hB,EAAMlC,IACrEnH,EAAW/H,OAASyJ,EAAWtH,KAAWiP,EAAMnC,EAAIlH,EAAW/H,MAAQmC,GACvE4F,EAAW5H,MAAQuJ,EAAYxH,KAAYkP,EAAMlC,EAAInH,EAAW5H,KAAO+B,KAGvE6F,EAAW/H,OAASyJ,EAAWtH,GAAS,EACxC4F,EAAW5H,MAAQuJ,EAAYxH,GAAU,GAG3C6F,EAAW5F,MAAQsH,EACnB1B,EAAW7F,OAASwH,EACpB3iB,KAAKmgB,cAAa,GAGpB,OAAOngB,MAQT8Z,OAAQ,SAAgBsI,GACtB,OAAOpiB,KAAK0qB,UAAU1qB,KAAK2gB,UAAU7G,QAAU,GAAK3E,OAAOiN,KAQ7DsI,SAAU,SAAkBtI,GAQ1B,OALI3Z,GAFJ2Z,EAASjN,OAAOiN,KAEQpiB,KAAK4U,QAAU5U,KAAKqjB,UAAYrjB,KAAK8C,QAAQ+Q,YACnE7T,KAAK2gB,UAAU7G,OAASsI,EAAS,IACjCpiB,KAAKmgB,cAAa,GAAM,IAGnBngB,MAQT+Z,OAAQ,SAAgB4Q,GACtB,IAAI3Q,EAASha,KAAK2gB,UAAU3G,OAC5B,OAAOha,KAAKke,MAAMyM,EAASliB,GAASuR,GAAUA,EAAS,IAQzDA,OAAQ,SAAgB4Q,GACtB,IAAI7Q,EAAS/Z,KAAK2gB,UAAU5G,OAC5B,OAAO/Z,KAAKke,MAAMzV,GAASsR,GAAUA,EAAS,EAAG6Q,IASnD1M,MAAO,SAAenE,GACpB,IAAIC,EAAS/Y,UAAUmB,OAAS,QAAsB5E,IAAjByD,UAAU,GAAmBA,UAAU,GAAK8Y,EAC7E4G,EAAY3gB,KAAK2gB,UACjBsB,GAAc,EAoBlB,OAnBAlI,EAAS5E,OAAO4E,GAChBC,EAAS7E,OAAO6E,GAEZha,KAAK4U,QAAU5U,KAAKqjB,UAAYrjB,KAAK8C,QAAQgR,WAC3CrL,GAASsR,KACX4G,EAAU5G,OAASA,EACnBkI,GAAc,GAGZxZ,GAASuR,KACX2G,EAAU3G,OAASA,EACnBiI,GAAc,GAGZA,GACFjiB,KAAKmgB,cAAa,GAAM,IAIrBngB,MAQTiX,QAAS,WACP,IAKIvc,EALAmwB,EAAU5pB,UAAUmB,OAAS,QAAsB5E,IAAjByD,UAAU,IAAmBA,UAAU,GACzE6B,EAAU9C,KAAK8C,QACf6d,EAAY3gB,KAAK2gB,UACjBK,EAAahhB,KAAKghB,WAClBQ,EAAcxhB,KAAKwhB,YAGvB,GAAIxhB,KAAK4U,OAAS5U,KAAKogB,QAAS,CAC9B1lB,EAAO,CACLwtB,EAAG1G,EAAYvI,KAAO+H,EAAW/H,KACjCkP,EAAG3G,EAAYpI,IAAM4H,EAAW5H,IAChCgC,MAAOoG,EAAYpG,MACnBD,OAAQqG,EAAYrG,QAEtB,IAAI2J,EAAQnE,EAAUvF,MAAQuF,EAAU5E,aAKxC,GAJAre,GAAQhD,GAAM,SAAU4U,EAAG7H,GACzB/M,EAAK+M,GAAK6H,EAAIwV,KAGZ+F,EAAS,CAGX,IAAIhD,EAAS9R,KAAKC,MAAMtb,EAAKytB,EAAIztB,EAAKygB,QAClCyM,EAAQ7R,KAAKC,MAAMtb,EAAKwtB,EAAIxtB,EAAK0gB,OACrC1gB,EAAKwtB,EAAInS,KAAKC,MAAMtb,EAAKwtB,GACzBxtB,EAAKytB,EAAIpS,KAAKC,MAAMtb,EAAKytB,GACzBztB,EAAK0gB,MAAQwM,EAAQltB,EAAKwtB,EAC1BxtB,EAAKygB,OAAS0M,EAASntB,EAAKytB,QAG9BztB,EAAO,CACLwtB,EAAG,EACHC,EAAG,EACH/M,MAAO,EACPD,OAAQ,GAaZ,OATIrY,EAAQ+Q,YACVnZ,EAAKof,OAAS6G,EAAU7G,QAAU,GAGhChX,EAAQgR,WACVpZ,EAAKqf,OAAS4G,EAAU5G,QAAU,EAClCrf,EAAKsf,OAAS2G,EAAU3G,QAAU,GAG7Btf,GAQT0c,QAAS,SAAiB1c,GACxB,IAAIoI,EAAU9C,KAAK8C,QACf6d,EAAY3gB,KAAK2gB,UACjBK,EAAahhB,KAAKghB,WAClBQ,EAAc,GAElB,GAAIxhB,KAAK4U,QAAU5U,KAAKqjB,UAAYpe,GAAcvK,GAAO,CACvD,IAAIunB,GAAc,EAEdnf,EAAQ+Q,WACNpL,GAAS/N,EAAKof,SAAWpf,EAAKof,SAAW6G,EAAU7G,SACrD6G,EAAU7G,OAASpf,EAAKof,OACxBmI,GAAc,GAIdnf,EAAQgR,WACNrL,GAAS/N,EAAKqf,SAAWrf,EAAKqf,SAAW4G,EAAU5G,SACrD4G,EAAU5G,OAASrf,EAAKqf,OACxBkI,GAAc,GAGZxZ,GAAS/N,EAAKsf,SAAWtf,EAAKsf,SAAW2G,EAAU3G,SACrD2G,EAAU3G,OAAStf,EAAKsf,OACxBiI,GAAc,IAIdA,GACFjiB,KAAKmgB,cAAa,GAAM,GAG1B,IAAI2E,EAAQnE,EAAUvF,MAAQuF,EAAU5E,aAEpCtT,GAAS/N,EAAKwtB,KAChB1G,EAAYvI,KAAOve,EAAKwtB,EAAIpD,EAAQ9D,EAAW/H,MAG7CxQ,GAAS/N,EAAKytB,KAChB3G,EAAYpI,IAAM1e,EAAKytB,EAAIrD,EAAQ9D,EAAW5H,KAG5C3Q,GAAS/N,EAAK0gB,SAChBoG,EAAYpG,MAAQ1gB,EAAK0gB,MAAQ0J,GAG/Brc,GAAS/N,EAAKygB,UAChBqG,EAAYrG,OAASzgB,EAAKygB,OAAS2J,GAGrC9kB,KAAKqmB,eAAe7E,GAGtB,OAAOxhB,MAOT8qB,iBAAkB,WAChB,OAAO9qB,KAAK4U,MAAQY,GAAO,GAAIxV,KAAKwgB,eAAiB,IAOvDuK,aAAc,WACZ,OAAO/qB,KAAKgrB,MAAQxV,GAAO,GAAIxV,KAAK2gB,WAAa,IAOnDuF,cAAe,WACb,IAAIlF,EAAahhB,KAAKghB,WAClBtmB,EAAO,GAQX,OANIsF,KAAK4U,OACPlX,GAAQ,CAAC,OAAQ,MAAO,QAAS,SAAU,eAAgB,kBAAkB,SAAU4R,GACrF5U,EAAK4U,GAAK0R,EAAW1R,MAIlB5U,GAQT0rB,cAAe,SAAuB1rB,GACpC,IAAIsmB,EAAahhB,KAAKghB,WAClBjO,EAAciO,EAAWjO,YAsB7B,OApBI/S,KAAK4U,QAAU5U,KAAKqjB,UAAYpe,GAAcvK,KAC5C+N,GAAS/N,EAAKue,QAChB+H,EAAW/H,KAAOve,EAAKue,MAGrBxQ,GAAS/N,EAAK0e,OAChB4H,EAAW5H,IAAM1e,EAAK0e,KAGpB3Q,GAAS/N,EAAK0gB,QAChB4F,EAAW5F,MAAQ1gB,EAAK0gB,MACxB4F,EAAW7F,OAASzgB,EAAK0gB,MAAQrI,GACxBtK,GAAS/N,EAAKygB,UACvB6F,EAAW7F,OAASzgB,EAAKygB,OACzB6F,EAAW5F,MAAQ1gB,EAAKygB,OAASpI,GAGnC/S,KAAKmgB,cAAa,IAGbngB,MAOTmmB,eAAgB,WACd,IACIzrB,EADA8mB,EAAcxhB,KAAKwhB,YAYvB,OATIxhB,KAAK4U,OAAS5U,KAAKogB,UACrB1lB,EAAO,CACLue,KAAMuI,EAAYvI,KAClBG,IAAKoI,EAAYpI,IACjBgC,MAAOoG,EAAYpG,MACnBD,OAAQqG,EAAYrG,SAIjBzgB,GAAQ,IAQjB2rB,eAAgB,SAAwB3rB,GACtC,IAEIuwB,EACAC,EAHA1J,EAAcxhB,KAAKwhB,YACnBzO,EAAc/S,KAAK8C,QAAQiQ,YAkC/B,OA9BI/S,KAAK4U,OAAS5U,KAAKogB,UAAYpgB,KAAKqjB,UAAYpe,GAAcvK,KAC5D+N,GAAS/N,EAAKue,QAChBuI,EAAYvI,KAAOve,EAAKue,MAGtBxQ,GAAS/N,EAAK0e,OAChBoI,EAAYpI,IAAM1e,EAAK0e,KAGrB3Q,GAAS/N,EAAK0gB,QAAU1gB,EAAK0gB,QAAUoG,EAAYpG,QACrD6P,GAAe,EACfzJ,EAAYpG,MAAQ1gB,EAAK0gB,OAGvB3S,GAAS/N,EAAKygB,SAAWzgB,EAAKygB,SAAWqG,EAAYrG,SACvD+P,GAAgB,EAChB1J,EAAYrG,OAASzgB,EAAKygB,QAGxBpI,IACEkY,EACFzJ,EAAYrG,OAASqG,EAAYpG,MAAQrI,EAChCmY,IACT1J,EAAYpG,MAAQoG,EAAYrG,OAASpI,IAI7C/S,KAAKqgB,iBAGArgB,MAQTmrB,iBAAkB,WAChB,IAAIroB,EAAU7B,UAAUmB,OAAS,QAAsB5E,IAAjByD,UAAU,GAAmBA,UAAU,GAAK,GAElF,IAAKjB,KAAK4U,QAAUvK,OAAO+gB,kBACzB,OAAO,KAGT,IAAIpK,EAAahhB,KAAKghB,WAClBvgB,EAAS+a,GAAgBxb,KAAKyb,MAAOzb,KAAK2gB,UAAWK,EAAYle,GAErE,IAAK9C,KAAKogB,QACR,OAAO3f,EAGT,IAAI4qB,EAAgBrrB,KAAKiX,UACrBqU,EAAWD,EAAcnD,EACzBqD,EAAWF,EAAclD,EACzBqD,EAAeH,EAAcjQ,MAC7BqQ,EAAgBJ,EAAclQ,OAE9B2J,EAAQrkB,EAAO2a,MAAQrF,KAAKuI,MAAM0C,EAAWjF,cAEnC,IAAV+I,IACFwG,GAAYxG,EACZyG,GAAYzG,EACZ0G,GAAgB1G,EAChB2G,GAAiB3G,GAGnB,IAAI/R,EAAcyY,EAAeC,EAC7BpO,EAAWpC,GAAiB,CAC9BlI,YAAaA,EACbqI,MAAOtY,EAAQ8Z,UAAYvH,IAC3B8F,OAAQrY,EAAQga,WAAazH,MAE3BiI,EAAWrC,GAAiB,CAC9BlI,YAAaA,EACbqI,MAAOtY,EAAQka,UAAY,EAC3B7B,OAAQrY,EAAQoa,WAAa,GAC5B,SAECuE,EAAoBxG,GAAiB,CACvClI,YAAaA,EACbqI,MAAOtY,EAAQsY,QAAoB,IAAV0J,EAAcrkB,EAAO2a,MAAQoQ,GACtDrQ,OAAQrY,EAAQqY,SAAqB,IAAV2J,EAAcrkB,EAAO0a,OAASsQ,KAEvDrQ,EAAQqG,EAAkBrG,MAC1BD,EAASsG,EAAkBtG,OAE/BC,EAAQrF,KAAKwH,IAAIF,EAASjC,MAAOrF,KAAKyH,IAAIF,EAASlC,MAAOA,IAC1DD,EAASpF,KAAKwH,IAAIF,EAASlC,OAAQpF,KAAKyH,IAAIF,EAASnC,OAAQA,IAC7D,IAAIgC,EAASvU,SAASa,cAAc,UAChC1K,EAAUoe,EAAOC,WAAW,MAChCD,EAAO/B,MAAQvF,GAAuBuF,GACtC+B,EAAOhC,OAAStF,GAAuBsF,GACvCpc,EAAQ8e,UAAY/a,EAAQwZ,WAAa,cACzCvd,EAAQ+e,SAAS,EAAG,EAAG1C,EAAOD,GAC9B,IAAIuQ,EAAwB5oB,EAAQ0Z,sBAChCA,OAAkD,IAA1BkP,GAA0CA,EAClEhP,EAAwB5Z,EAAQ4Z,sBACpC3d,EAAQyd,sBAAwBA,EAE5BE,IACF3d,EAAQ2d,sBAAwBA,GAIlC,IAKIiP,EACAC,EAEAC,EACAC,EACAC,EACAC,EAXAC,EAAcxrB,EAAO2a,MACrB8Q,EAAezrB,EAAO0a,OAEtBgR,EAAOb,EACPc,EAAOb,EASPY,IAASX,GAAgBW,EAAOF,GAClCE,EAAO,EACPR,EAAW,EACXE,EAAO,EACPE,EAAW,GACFI,GAAQ,GACjBN,GAAQM,EACRA,EAAO,EAEPJ,EADAJ,EAAW5V,KAAKwH,IAAI0O,EAAaT,EAAeW,IAEvCA,GAAQF,IACjBJ,EAAO,EAEPE,EADAJ,EAAW5V,KAAKwH,IAAIiO,EAAcS,EAAcE,IAI9CR,GAAY,GAAKS,IAASX,GAAiBW,EAAOF,GACpDE,EAAO,EACPR,EAAY,EACZE,EAAO,EACPE,EAAY,GACHI,GAAQ,GACjBN,GAAQM,EACRA,EAAO,EAEPJ,EADAJ,EAAY7V,KAAKwH,IAAI2O,EAAcT,EAAgBW,IAE1CA,GAAQF,IACjBJ,EAAO,EAEPE,EADAJ,EAAY7V,KAAKwH,IAAIkO,EAAeS,EAAeE,IAIrD,IAAI/vB,EAAS,CAAC8vB,EAAMC,EAAMT,EAAUC,GAEpC,GAAIG,EAAW,GAAKC,EAAY,EAAG,CACjC,IAAI9N,EAAQ9C,EAAQoQ,EACpBnvB,EAAO0F,KAAK8pB,EAAO3N,EAAO4N,EAAO5N,EAAO6N,EAAW7N,EAAO8N,EAAY9N,GAQxE,OAHAnf,EAAQof,UAAUjc,MAAMnD,EAAS,CAAC0B,GAAQ0B,OAAO2M,EAAmBzS,EAAO+hB,KAAI,SAAUC,GACvF,OAAOtI,KAAKuI,MAAMzI,GAAuBwI,UAEpClB,GAQTkP,eAAgB,SAAwBtZ,GACtC,IAAIjQ,EAAU9C,KAAK8C,QAenB,OAbK9C,KAAKqjB,UAAatlB,GAAYgV,KAEjCjQ,EAAQiQ,YAAcgD,KAAKyH,IAAI,EAAGzK,IAAgBD,IAE9C9S,KAAK4U,QACP5U,KAAKkgB,cAEDlgB,KAAKogB,SACPpgB,KAAKqgB,kBAKJrgB,MAQTsmB,YAAa,SAAqBgG,GAChC,IAAIxpB,EAAU9C,KAAK8C,QACfyjB,EAAUvmB,KAAKumB,QACfpD,EAAOnjB,KAAKmjB,KAEhB,GAAInjB,KAAK4U,QAAU5U,KAAKqjB,SAAU,CAChC,IAAIkJ,EAAYD,IAAShb,EACrBsC,EAAU9Q,EAAQ8Q,SAAW0Y,IAAS/a,EAC1C+a,EAAOC,GAAa3Y,EAAU0Y,EAAO9a,EACrC1O,EAAQ8P,SAAW0Z,EACnBlV,GAAQmP,EAASnV,EAAakb,GAC9BzV,GAAY0P,EAAS1V,EAAY0b,GACjC1V,GAAY0P,EAASpV,EAAYyC,GAE5B9Q,EAAQqR,iBAEXiD,GAAQ+L,EAAM/R,EAAakb,GAC3BzV,GAAYsM,EAAMtS,EAAY0b,GAC9B1V,GAAYsM,EAAMhS,EAAYyC,IAIlC,OAAO5T,OAIPwsB,GAAiB5c,EAAO6c,QAExBA,GAAuB,WAMzB,SAASA,EAAQtW,GACf,IAAIrT,EAAU7B,UAAUmB,OAAS,QAAsB5E,IAAjByD,UAAU,GAAmBA,UAAU,GAAK,GAIlF,GAFAsN,EAAgBvO,KAAMysB,IAEjBtW,IAAY1D,EAAgBvJ,KAAKiN,EAAQuW,SAC5C,MAAM,IAAIlpB,MAAM,4EAGlBxD,KAAKmW,QAAUA,EACfnW,KAAK8C,QAAU0S,GAAO,GAAI9C,GAAUzN,GAAcnC,IAAYA,GAC9D9C,KAAKogB,SAAU,EACfpgB,KAAKqjB,UAAW,EAChBrjB,KAAKonB,SAAW,GAChBpnB,KAAK4U,OAAQ,EACb5U,KAAK2sB,WAAY,EACjB3sB,KAAKwpB,UAAW,EAChBxpB,KAAKgrB,OAAQ,EACbhrB,KAAK4sB,QAAS,EACd5sB,KAAK6sB,OA8XP,OAj9GoBre,EAslGPie,EAtlGgCK,EA+7GzC,CAAC,CACHlvB,IAAK,aACL+C,MAAO,WAEL,OADA0J,OAAOoiB,QAAUD,GACVC,IAOR,CACD7uB,IAAK,cACL+C,MAAO,SAAqBmC,GAC1B0S,GAAO9C,GAAUzN,GAAcnC,IAAYA,OA78GdiqB,EAslGX,CAAC,CACrBnvB,IAAK,OACL+C,MAAO,WACL,IAEIjF,EAFAya,EAAUnW,KAAKmW,QACfuW,EAAUvW,EAAQuW,QAAQ7uB,cAG9B,IAAIsY,EAAiB,QAArB,CAMA,GAFAA,EAAiB,QAAInW,KAEL,QAAZ0sB,EAAmB,CAMrB,GALA1sB,KAAKupB,OAAQ,EAEb7tB,EAAMya,EAAQgB,aAAa,QAAU,GACrCnX,KAAK8pB,YAAcpuB,GAEdA,EACH,OAIFA,EAAMya,EAAQuN,QACO,WAAZgJ,GAAwBriB,OAAO+gB,oBACxC1vB,EAAMya,EAAQ6W,aAGhBhtB,KAAK0pB,KAAKhuB,MAEX,CACDkC,IAAK,OACL+C,MAAO,SAAcjF,GACnB,IArrEAuxB,EACAC,EACAvO,EACAwO,EAkrEI1G,EAAQzmB,KAEZ,GAAKtE,EAAL,CAIAsE,KAAKtE,IAAMA,EACXsE,KAAK2gB,UAAY,GACjB,IAAIxK,EAAUnW,KAAKmW,QACfrT,EAAU9C,KAAK8C,QAOnB,GALKA,EAAQ+Q,WAAc/Q,EAAQgR,WACjChR,EAAQsQ,kBAAmB,GAIxBtQ,EAAQsQ,kBAAqB/I,OAAOsC,YAMzC,GAAI4F,EAAgBrJ,KAAKxN,GAEnB8W,EAAqBtJ,KAAKxN,GAC5BsE,KAAKzC,MA9sET0vB,EA8sEmCvxB,EA9sElBiH,QAAQ8b,GAAsB,IAC/CyO,EAASE,KAAKH,GACdtO,EAAc,IAAIhS,YAAYugB,EAAO9qB,QAEzC1E,GADIyvB,EAAQ,IAAIE,WAAW1O,IACZ,SAAUhe,EAAO8G,GAC9B0lB,EAAM1lB,GAAKylB,EAAO5f,WAAW7F,MAExBkX,IA2sEC3e,KAAKstB,YAPT,CAeA,IAAIC,EAAM,IAAIvyB,eACVsyB,EAAQttB,KAAKstB,MAAM5uB,KAAKsB,MAC5BA,KAAK2sB,WAAY,EACjB3sB,KAAKutB,IAAMA,EAKXA,EAAI1wB,QAAUywB,EACdC,EAAIzwB,QAAUwwB,EACdC,EAAIxwB,UAAYuwB,EAEhBC,EAAIC,WAAa,WAEXD,EAAIE,kBAAkB,kBAAoBpb,GAC5Ckb,EAAI/uB,SAIR+uB,EAAIG,OAAS,WACXjH,EAAMlpB,KAAKgwB,EAAIzxB,WAGjByxB,EAAI5xB,UAAY,WACd8qB,EAAMkG,WAAY,EAClBlG,EAAM8G,IAAM,MAIVzqB,EAAQqQ,kBAAoBqG,GAAiB9d,IAAQya,EAAQoN,cAC/D7nB,EAAM+d,GAAa/d,IAIrB6xB,EAAIrxB,KAAK,MAAOR,GAAK,GACrB6xB,EAAI1yB,aAAe,cACnB0yB,EAAIlwB,gBAA0C,oBAAxB8Y,EAAQoN,YAC9BgK,EAAI9uB,YAzDFuB,KAAKstB,WA2DR,CACD1vB,IAAK,OACL+C,MAAO,SAAcge,GACnB,IAAI7b,EAAU9C,KAAK8C,QACf6d,EAAY3gB,KAAK2gB,UAGjB/B,EAAcF,GAAuBC,GACrC7E,EAAS,EACTC,EAAS,EACTC,EAAS,EAEb,GAAI4E,EAAc,EAAG,CAEnB5e,KAAKtE,IA/vEb,SAA8BijB,EAAagP,GAMzC,IALA,IAAIC,EAAS,GAGTT,EAAQ,IAAIE,WAAW1O,GAEpBwO,EAAM/qB,OAAS,GAGpBwrB,EAAO7rB,KAAKwc,GAAarc,MAAM,KAAMqT,GAAQ4X,EAAMU,SAAS,EAN9C,SAOdV,EAAQA,EAAMU,SAPA,MAUhB,MAAO,QAAQ1rB,OAAOwrB,EAAU,YAAYxrB,OAAO5G,KAAKqyB,EAAO5lB,KAAK,MAkvEnD8lB,CAAqBnP,EAAatM,GAE7C,IAAI0b,EA5pEZ,SAA0BnP,GACxB,IAAI9E,EAAS,EACTC,EAAS,EACTC,EAAS,EAEb,OAAQ4E,GAEN,KAAK,EACH7E,GAAU,EACV,MAGF,KAAK,EACHD,GAAU,IACV,MAGF,KAAK,EACHE,GAAU,EACV,MAGF,KAAK,EACHF,EAAS,GACTE,GAAU,EACV,MAGF,KAAK,EACHF,EAAS,GACT,MAGF,KAAK,EACHA,EAAS,GACTC,GAAU,EACV,MAGF,KAAK,EACHD,GAAU,GAId,MAAO,CACLA,OAAQA,EACRC,OAAQA,EACRC,OAAQA,GA6mEoBgU,CAAiBpP,GAEzC9E,EAASiU,EAAkBjU,OAC3BC,EAASgU,EAAkBhU,OAC3BC,EAAS+T,EAAkB/T,OAGzBlX,EAAQ+Q,YACV8M,EAAU7G,OAASA,GAGjBhX,EAAQgR,WACV6M,EAAU5G,OAASA,EACnB4G,EAAU3G,OAASA,GAGrBha,KAAKstB,UAEN,CACD1vB,IAAK,QACL+C,MAAO,WACL,IAAIwV,EAAUnW,KAAKmW,QACfza,EAAMsE,KAAKtE,IACX6nB,EAAcpN,EAAQoN,YACtBC,EAAiB9nB,EAEjBsE,KAAK8C,QAAQqQ,kBAAoBqG,GAAiB9d,KAC/C6nB,IACHA,EAAc,aAIhBC,EAAiB/J,GAAa/d,IAGhCsE,KAAKujB,YAAcA,EACnBvjB,KAAKwjB,eAAiBA,EACtB,IAAI/H,EAAQ7S,SAASa,cAAc,OAE/B8Z,IACF9H,EAAM8H,YAAcA,GAGtB9H,EAAMiI,IAAMF,GAAkB9nB,EAC9B+f,EAAMgI,IAAMtN,EAAQsN,KAAO,oBAC3BzjB,KAAKyb,MAAQA,EACbA,EAAMiS,OAAS1tB,KAAKsf,MAAM5gB,KAAKsB,MAC/Byb,EAAM3e,QAAUkD,KAAKiuB,KAAKvvB,KAAKsB,MAC/BuW,GAASkF,EAAOzK,GAChBmF,EAAQ+X,WAAWC,aAAa1S,EAAOtF,EAAQiY,eAEhD,CACDxwB,IAAK,QACL+C,MAAO,WACL,IAAI0tB,EAASruB,KAETyb,EAAQzb,KAAKyb,MACjBA,EAAMiS,OAAS,KACfjS,EAAM3e,QAAU,KAChBkD,KAAK4sB,QAAS,EAGd,IAAI0B,EAAc1e,EAAOtG,WAAa,sCAAsCJ,KAAK0G,EAAOtG,UAAUC,WAE9FglB,EAAO,SAAcxS,EAAcE,GACrCzG,GAAO6Y,EAAO1N,UAAW,CACvB5E,aAAcA,EACdE,cAAeA,EACflJ,YAAagJ,EAAeE,IAE9BoS,EAAOjF,iBAAmB5T,GAAO,GAAI6Y,EAAO1N,WAC5C0N,EAAOzB,QAAS,EAChByB,EAAOrD,OAAQ,EAEfqD,EAAOG,SAIT,IAAI/S,EAAMM,cAAiBuS,EAA3B,CAKA,IAAIG,EAAc7lB,SAASa,cAAc,OACrCilB,EAAO9lB,SAAS8lB,MAAQ9lB,SAASkH,gBACrC9P,KAAKyuB,YAAcA,EAEnBA,EAAYf,OAAS,WACnBa,EAAKE,EAAYrT,MAAOqT,EAAYtT,QAE/BmT,GACHI,EAAKC,YAAYF,IAIrBA,EAAY/K,IAAMjI,EAAMiI,IAGnB4K,IACHG,EAAYpY,MAAMiO,QAAU,uJAC5BoK,EAAK9K,YAAY6K,SArBjBF,EAAK9S,EAAMM,aAAcN,EAAMQ,iBAwBlC,CACDre,IAAK,OACL+C,MAAO,WACL,IAAI8a,EAAQzb,KAAKyb,MACjBA,EAAMiS,OAAS,KACfjS,EAAM3e,QAAU,KAChB2e,EAAMyS,WAAWS,YAAYlT,GAC7Bzb,KAAKyb,MAAQ,OAEd,CACD7d,IAAK,QACL+C,MAAO,WACL,GAAKX,KAAKgrB,QAAShrB,KAAK4U,MAAxB,CAIA,IAAIuB,EAAUnW,KAAKmW,QACfrT,EAAU9C,KAAK8C,QACf2Y,EAAQzb,KAAKyb,MAEb6E,EAAYnK,EAAQ+X,WACpBU,EAAWhmB,SAASa,cAAc,OACtCmlB,EAASvK,UArpGA,orCAspGT,IAAI9D,EAAUqO,EAAS3K,cAAc,IAAI9hB,OAAO6N,EAAW,eACvDmN,EAASoD,EAAQ0D,cAAc,IAAI9hB,OAAO6N,EAAW,YACrDuW,EAAUhG,EAAQ0D,cAAc,IAAI9hB,OAAO6N,EAAW,cACtDoT,EAAU7C,EAAQ0D,cAAc,IAAI9hB,OAAO6N,EAAW,cACtDmT,EAAOC,EAAQa,cAAc,IAAI9hB,OAAO6N,EAAW,UACvDhQ,KAAKsgB,UAAYA,EACjBtgB,KAAKugB,QAAUA,EACfvgB,KAAKmd,OAASA,EACdnd,KAAKumB,QAAUA,EACfvmB,KAAKojB,QAAUA,EACfpjB,KAAK2jB,QAAUpD,EAAQ0D,cAAc,IAAI9hB,OAAO6N,EAAW,cAC3DhQ,KAAKmjB,KAAOA,EACZhG,EAAOyG,YAAYnI,GAEnBlF,GAASJ,EAASpF,GAElBuP,EAAU6N,aAAa5N,EAASpK,EAAQiY,aAEnCpuB,KAAKupB,OACR3S,GAAY6E,EAAOzK,GAGrBhR,KAAKsjB,cACLtjB,KAAKtB,OACLoE,EAAQ+P,mBAAqBkD,KAAKyH,IAAI,EAAG1a,EAAQ+P,qBAAuBC,IACxEhQ,EAAQiQ,YAAcgD,KAAKyH,IAAI,EAAG1a,EAAQiQ,cAAgBD,IAC1DhQ,EAAQ6P,SAAWoD,KAAKyH,IAAI,EAAGzH,KAAKwH,IAAI,EAAGxH,KAAKC,MAAMlT,EAAQ6P,aAAe,EAC7E4D,GAAS6M,EAASrS,GAEbjO,EAAQwQ,QACXiD,GAAS6M,EAAQyL,uBAAuB,GAAG1sB,OAAO6N,EAAW,YAAae,GAGvEjO,EAAQyQ,QACXgD,GAAS6M,EAAQyL,uBAAuB,GAAG1sB,OAAO6N,EAAW,YAAae,GAGxEjO,EAAQ2Q,YACV8C,GAASgK,EAAS,GAAGpe,OAAO6N,EAAW,QAGpClN,EAAQ0Q,WACX+C,GAAS4M,EAAMlS,GAGbnO,EAAQqR,iBACVoC,GAAS4M,EAAMhS,GACfiG,GAAQ+L,EAAM/R,EAAanB,IAGxBnN,EAAQsR,mBACXmC,GAAS6M,EAAQyL,uBAAuB,GAAG1sB,OAAO6N,EAAW,UAAWe,GACxEwF,GAAS6M,EAAQyL,uBAAuB,GAAG1sB,OAAO6N,EAAW,WAAYe,IAG3E/Q,KAAK+f,SACL/f,KAAK4U,OAAQ,EACb5U,KAAKsmB,YAAYxjB,EAAQ8P,UAErB9P,EAAQ4Q,UACV1T,KAAKgV,OAGPhV,KAAKoX,QAAQtU,EAAQpI,MAEjB2R,GAAWvJ,EAAQ8R,QACrBqD,GAAY9B,EAASlE,EAAanP,EAAQ8R,MAAO,CAC/C4C,MAAM,IAIVc,GAAcnC,EAASlE,MAExB,CACDrU,IAAK,UACL+C,MAAO,WACAX,KAAK4U,QAIV5U,KAAK4U,OAAQ,EACb5U,KAAK+lB,SACL/lB,KAAKukB,eACLvkB,KAAKugB,QAAQ2N,WAAWS,YAAY3uB,KAAKugB,SACzC3J,GAAY5W,KAAKmW,QAASpF,MAE3B,CACDnT,IAAK,WACL+C,MAAO,WACDX,KAAK4U,OACP5U,KAAK8uB,UACL9uB,KAAK4U,OAAQ,EACb5U,KAAKogB,SAAU,GACNpgB,KAAK4sB,QACd5sB,KAAKyuB,YAAYf,OAAS,KAC1B1tB,KAAK4sB,QAAS,EACd5sB,KAAKgrB,OAAQ,GACJhrB,KAAK2sB,WACd3sB,KAAKutB,IAAI1wB,QAAU,KACnBmD,KAAKutB,IAAI/uB,SACAwB,KAAKyb,OACdzb,KAAKiuB,YAt7GKxf,EAAkBD,EAAYvP,UAAW8tB,GACrDD,GAAare,EAAkBD,EAAase,GA+8GzCL,EAj9GT,IAAsBje,EAAaue,EAAYD,EA0jGpB,GA4Z3B,OAFAtX,GAAOiX,GAAQxtB,UAAW8gB,GAAQ/M,GAASgS,GAAQpiB,GAAU+kB,GAAQuB,IAE9DuD,GAjiHyEsC,KCV9EC,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqB1xB,IAAjB2xB,EACH,OAAOA,EAAav1B,QAGrB,IAAID,EAASq1B,EAAyBE,GAAY,CAGjDt1B,QAAS,IAOV,OAHAw1B,EAAoBF,GAAUvrB,KAAKhK,EAAOC,QAASD,EAAQA,EAAOC,QAASq1B,GAGpEt1B,EAAOC,QCpBfq1B,EAAoB3f,EAAK3V,IACxB,IAAI01B,EAAS11B,GAAUA,EAAO21B,WAC7B,IAAO31B,EAAiB,QACxB,IAAM,EAEP,OADAs1B,EAAoBM,EAAEF,EAAQ,CAAEpiB,EAAGoiB,IAC5BA,GCLRJ,EAAoBM,EAAI,CAAC31B,EAAS41B,KACjC,IAAI,IAAI5xB,KAAO4xB,EACXP,EAAoB7f,EAAEogB,EAAY5xB,KAASqxB,EAAoB7f,EAAExV,EAASgE,IAC5E4H,OAAO2I,eAAevU,EAASgE,EAAK,CAAEkQ,YAAY,EAAM4J,IAAK8X,EAAW5xB,MCJ3EqxB,EAAoB7f,EAAI,CAAC9C,EAAKjH,IAAUG,OAAOvG,UAAUuN,eAAe7I,KAAK2I,EAAKjH,G,qOCG5EoqB,E,WAEJ,WAAY3sB,I,4FAAS,SAEnB9C,KAAK3D,OAASmJ,OAAOgQ,OAAO,GADX,GACyB1S,GAAW,IAErD9C,KAAKsgB,UAAYtgB,KAAK3D,OAAOikB,UAC7BtgB,KAAK0vB,MAAQ1vB,KAAKsgB,UAAU2D,cAAc,oBAC1CjkB,KAAK2vB,iBAAmB3vB,KAAKsgB,UAAU2D,cAAc,4BACrDjkB,KAAK4vB,aAAe5vB,KAAKsgB,UAAU2D,cAAc,wBACjDjkB,KAAK6vB,aAAe7vB,KAAKsgB,UAAU2D,cAAc,wBACjDjkB,KAAK8vB,WAAa9vB,KAAKsgB,UAAU2D,cAAc,uCAC/CjkB,KAAK+vB,aAAe/vB,KAAKsgB,UAAU2D,cAAc,yCACjDjkB,KAAKgwB,eAAiBhwB,KAAKsgB,UAAU2D,cAAc,0BAEnDjkB,KAAKiwB,iBAAmBjwB,KAAKsgB,UAAU2D,cAAc,6BACrDjkB,KAAKkwB,YAAclwB,KAAKsgB,UAAU2D,cAAc,uBAChDjkB,KAAKmwB,YAAcnwB,KAAKsgB,UAAU2D,cAAc,uBAChDjkB,KAAKowB,UAAYpwB,KAAKsgB,UAAU2D,cAAc,qBAC9CjkB,KAAKqwB,cAAgBrwB,KAAKsgB,UAAU2D,cAAc,yBAClDjkB,KAAKswB,aAAetwB,KAAKsgB,UAAU2D,cAAc,wBACjDjkB,KAAKuwB,SAAWvwB,KAAKsgB,UAAU2D,cAAc,oBAC7CjkB,KAAKwwB,UAAYxwB,KAAKsgB,UAAU2D,cAAc,qBAC9CjkB,KAAKywB,WAAazwB,KAAKsgB,UAAU2D,cAAc,sBAC/CjkB,KAAK0wB,YAAc1wB,KAAKsgB,UAAU2D,cAAc,uBAEhDjkB,KAAK8C,QAAUgE,KAAKC,MAAM/G,KAAKsgB,UAAU2D,cAAc,iBAAiB0M,aAExE3wB,KAAKugB,QAAU,KACfvgB,KAAKqT,MAAQ,KACbrT,KAAKob,MAAQpb,KAAKywB,WAAW9vB,MAC7BX,KAAKmb,OAASnb,KAAK0wB,YAAY/vB,MAE/BX,KAAKsf,Q,0CAIP,WACEtf,KAAK4wB,cACL5wB,KAAK6wB,YACA7wB,KAAKswB,aAAa3vB,OACrBX,KAAK8wB,0B,uBAKT,WAAY,WAGV9wB,KAAKowB,UAAUnyB,iBAAiB,UAAU,WACxC,EAAKE,OAAO,CACV4yB,KAAM,EAAKX,UAAUY,MAAM,QAK/B,IAAIC,EAAejxB,KAAKwwB,UAAU7vB,MAC9B,qBAAsB0J,QACP,IAAI6mB,kBAAiB,SAACC,EAAWC,GAChD/mB,OAAOzN,YAAW,WAChB,GAAIq0B,IAAiB,EAAKT,UAAU7vB,OAAS,EAAK6vB,UAAU7vB,MAAO,CACjEswB,EAAe,EAAKT,UAAU7vB,MAC9B,IAAI0H,EAAO,EAAKmoB,UAAU7vB,MAC1B,IAA2B,IAAvB0H,EAAK1L,QAAQ,KAAa,CAC5B,IAAMiL,EAAQS,EAAKsC,MAAM,KACzBtC,EAAOT,EAAM,GAEf,EAAKzJ,OAAO,CACVkK,KAAMA,OAGT,QAEIgpB,QAAQrxB,KAAKsgB,UAAW,CAC/BgR,SAAS,EACTC,YAAY,IAMM,MAAlBC,cAEFC,OAAOzxB,KAAKiwB,kBAAkByB,GAAG,UAAU,WACrC,EAAKnR,SACP,EAAKA,QAAQ8L,eAAe,EAAK4D,iBAAiBtvB,UAKtDX,KAAKiwB,iBAAiBhyB,iBAAiB,UAAU,WAC3C,EAAKsiB,SACP,EAAKA,QAAQ8L,eAAe,EAAK4D,iBAAiBtvB,UAMxDX,KAAKsgB,UAAU2D,cAAc,0BAA0BhmB,iBAAiB,SAAS,SAAC8Z,GAChFA,EAAM4O,iBACN,EAAKyJ,UAAUuB,WAIjB,IAAMC,EAAc5xB,KAAKsgB,UAAU2D,cAAc,iCAC7C2N,GACFA,EAAY3zB,iBAAiB,SAAS,SAAC8Z,GACrCA,EAAM4O,iBACN,EAAK6J,UAAUqB,mBAAmBF,WAKtC3xB,KAAKsgB,UAAU2D,cAAc,wBAAwBhmB,iBAAiB,SAAS,SAAC8Z,GAC9EA,EAAM4O,iBACN,EAAKmL,UAIP9xB,KAAKsgB,UAAU2D,cAAc,0BAA0BhmB,iBAAiB,SAAS,SAAC8Z,GAChFA,EAAM4O,iBACN,EAAI,YAIN3mB,KAAKsgB,UAAU2D,cAAc,yBAAyBhmB,iBAAiB,SAAS,SAAC8Z,GAC/EA,EAAM4O,iBACN,EAAKzkB,WAIPlC,KAAKsgB,UAAU2D,cAAc,0BAA0BhmB,iBAAiB,SAAS,SAAC8Z,GAChFA,EAAM4O,iBACN,EAAKpoB,YAKP,IADA,IAAMwoB,EAAU/mB,KAAKgwB,eAAehM,iBAAiB,iBAC5Cvc,EAAI,EAAGA,EAAIsf,EAAQ3kB,OAAQqF,IAClCsf,EAAQtf,GAAGxJ,iBAAiB,SAAS,SAAC8Z,GAEpCA,EAAM4O,iBAEN,IAAMK,EAASjP,EAAMga,cACf51B,EAAS6qB,EAAO9P,QAAQ/a,OAC1B61B,EAAShL,EAAO9P,QAAQ8a,OACxBC,EAAejL,EAAO9P,QAAQ+a,aAC9BC,EAAYlL,EAAO9P,QAAQgb,UAC3BC,EAAU,EAAK7R,UAAU2D,cAAc,mCAAmCtjB,MAE9E,IAAIqmB,EAAO3D,WAAY2D,EAAOvQ,UAAU+P,SAAS,aAI7C,EAAKjG,SAAWpkB,EAAQ,CAE1B,IAAMzB,EAAO,EAAK6lB,QAAQtJ,UAEX,WAAX9a,KAEmB,IAAjBzB,EAAKqf,SAAkC,IAAjBrf,EAAKsf,SAC7BkY,EAA0B,SAAdA,EAAuB,QAAU,QAI7CF,EADgB,SAAdE,EACO,IAAMC,EAENA,GAKE,WAAXh2B,IAAwC,IAAjBzB,EAAKqf,SAC9BiY,EAAS,GAEI,WAAX71B,IAAwC,IAAjBzB,EAAKsf,SAC9BgY,EAAS,GAGX,EAAKzR,QAAQpkB,GAAQ61B,EAAQC,S,oBAQrC,YAGG,WAFDlB,EAEC,EAFDA,KACA1oB,EACC,EADDA,KAGArI,KAAK0vB,MAAMjZ,UAAUC,IAAI,iBAEzB,IAAMhc,EAAO,IAAIgS,SAEbqkB,GACFr2B,EAAK03B,OAAOpyB,KAAKowB,UAAUlsB,KAAM6sB,GAE/B1oB,GACF3N,EAAK03B,OAAO,OAAQ/pB,GAGtB3N,EAAK03B,OAAO,WAAYpyB,KAAKuwB,SAAS5vB,OACtCjG,EAAK03B,OAAO,cAAepyB,KAAKkwB,YAAYvvB,OAC5CjG,EAAK03B,OAAOC,kBAAmB,GAE/BlzB,IAAM,CACJhD,OAAQ,OACRT,IAAK42B,aAAe,mFACpB53B,KAAMA,IACL4D,MAAK,SAACxC,GACP,IAA8B,IAA1BA,EAASpB,KAAK63B,QAAkB,CAClC,IAAM9W,EAAQ3f,EAASpB,KAAKA,KAAK,GAEjC,EAAKk1B,aAAahmB,aAAa,MAAO6R,EAAMzI,QAAU,MAAQtK,KAAKO,OACnE,EAAK4mB,aAAajmB,aAAa,MAAO6R,EAAMzI,QAAU,MAAQtK,KAAKO,OAEnE,EAAKknB,YAAYxvB,MAAQ,GACzB,EAAK0vB,cAAc1vB,MAAQ8a,EAAM+W,SACjC,EAAKtC,YAAYvvB,MAAQ8a,EAAMtd,OAC/B,EAAKid,MAAQK,EAAML,MACnB,EAAKD,OAASM,EAAMN,OAGpB,EAAKsX,uBAEYC,SAAS,EAAK5vB,QAAQ6vB,UAAW,KAEhDtoB,OAAOzN,YAAW,WAChB,EAAK0jB,UAAU2D,cAAc,wBAAwB0N,UACpD,UAILiB,MAAM92B,EAASpB,KAAKqF,YA5BxB,OA8BS,SAAC0C,GACRmwB,MAAMnwB,MA/BR,SAgCW,WACT,EAAKitB,MAAMjZ,UAAUzN,OAAO,sB,mBAKhC,WAAQ,WAENhJ,KAAK0vB,MAAMjZ,UAAUC,IAAI,iBAEzB,IAAMmc,EAAW7yB,KAAKugB,QAAQtJ,UAExBvc,EAAO,IAAIgS,SACjBhS,EAAK03B,OAAO,IAAKS,EAAS3K,GAC1BxtB,EAAK03B,OAAO,IAAKS,EAAS1K,GAC1BztB,EAAK03B,OAAO,QAASS,EAASzX,OAC9B1gB,EAAK03B,OAAO,SAAUS,EAAS1X,QAC/BzgB,EAAK03B,OAAO,SAAUS,EAAS/Y,QAC/Bpf,EAAK03B,OAAO,SAAUS,EAAS9Y,QAC/Brf,EAAK03B,OAAO,SAAUS,EAAS7Y,QAC/Btf,EAAK03B,OAAO,OAAQ,WACpB13B,EAAK03B,OAAOC,kBAAmB,GAC/B33B,EAAK03B,OAAO,WAAYpyB,KAAKuwB,SAAS5vB,OACtCjG,EAAK03B,OAAO,cAAepyB,KAAKkwB,YAAYvvB,OAC5CjG,EAAK03B,OAAO,eAAgBpyB,KAAKswB,aAAa3vB,OAE9CxB,IAAM,CACJhD,OAAQ,OACRT,IAAK42B,aAAe,mFACpB53B,KAAMA,IACL4D,MAAK,SAACxC,IACuB,IAA1BA,EAASpB,KAAK63B,SAChB,EAAKnX,MAAQtf,EAASpB,KAAKA,KAAK,GAAG0gB,MACnC,EAAKD,OAASrf,EAASpB,KAAKA,KAAK,GAAGygB,OACpC,EAAKyU,aAAahmB,aAAa,MAAO9N,EAASpB,KAAKA,KAAK,GAAGsY,QAAU,MAAQtK,KAAKO,OACnF,EAAK4mB,aAAajmB,aAAa,MAAO9N,EAASpB,KAAKA,KAAK,GAAGsY,QAAU,MAAQtK,KAAKO,OACnF,EAAKinB,YAAYvvB,MAAQ7E,EAASpB,KAAKA,KAAK,GAAGyD,OAC/C,EAAKs0B,wBAELG,MAAM92B,EAASpB,KAAKqF,YAbxB,OAeS,SAAC0C,GACRmwB,MAAMnwB,MAhBR,SAiBW,WACT,EAAKqwB,aACL,EAAKvS,QAAQsJ,UACb,EAAK6F,MAAMjZ,UAAUzN,OAAO,sB,kBAMhC,WACEhJ,KAAK+yB,YACL/yB,KAAKgzB,gBAAgBhzB,KAAKob,MAAOpb,KAAKmb,QACtCnb,KAAKugB,QAAU,IAAIkM,IAAJ,CAAYzsB,KAAK4vB,aAAc,CAC5C7c,YAAa/S,KAAKiwB,iBAAiBtvB,MACnCsT,aAAa,EACbhB,YAAY,EACZN,SAAU,M,oBAKd,WACE3S,KAAK8yB,aACL9yB,KAAKugB,QAAQsJ,Y,oBAIf,WAAS,WAOP,GALA7pB,KAAKmwB,YAAYxvB,MAAQ,IACzBX,KAAKqwB,cAAc1vB,MAAQ,GAC3BX,KAAKswB,aAAa3vB,MAAQ,GAC1BX,KAAK6vB,aAAanM,IAAMuP,sBACxBjzB,KAAK8wB,wBACD9wB,KAAKkwB,YAAYvvB,MAAO,CAE1B,IAAMjG,EAAO,IAAIgS,SACjBhS,EAAK03B,OAAO,OAAQ,UACpB13B,EAAK03B,OAAOC,kBAAmB,GAC/B33B,EAAK03B,OAAO,cAAepyB,KAAKkwB,YAAYvvB,OAE5CxB,IAAM,CACJhD,OAAQ,OACRT,IAAK42B,aAAe,mFACpB53B,KAAMA,IACL4D,MAAK,SAACxC,IACuB,IAA1BA,EAASpB,KAAK63B,QAChB,EAAKrC,YAAYvvB,MAAQ,GAEzBiyB,MAAM92B,EAASpB,KAAKqF,YARxB,OAUS,SAAC0C,GACRmwB,MAAMnwB,S,yBAKZ,WACwB,MAAlB+uB,cACFxxB,KAAKqT,MAAQ,IAAI6f,UAAUC,MAAMnzB,KAAKsgB,UAAU2D,cAAc,gBAAiB,CAC7EmP,UAAU,EACVC,SAAU,YAGZrzB,KAAKqT,MAAQoe,OAAOzxB,KAAKsgB,WAAWgT,KAAK,gBAAgBjgB,MAAM,CAC7D+f,UAAU,EACVC,SAAU,WAEZrzB,KAAK8yB,gB,uBAKT,WACwB,MAAlBtB,cACFxxB,KAAKqT,MAAMkgB,OAEXvzB,KAAKqT,MAAMA,MAAM,U,wBAIrB,WACwB,MAAlBme,cACFxxB,KAAKqT,MAAMmgB,OAEXxzB,KAAKqT,MAAMA,MAAM,U,kCAIrB,WACErT,KAAK8vB,WAAWzM,UAAW,EAC3BrjB,KAAK+vB,aAAa1M,UAAW,I,mCAG/B,WACErjB,KAAK8vB,WAAWzM,UAAW,EAC3BrjB,KAAK+vB,aAAa1M,UAAW,I,6BAG/B,SAAgBjI,EAAOD,GACrB,IAAIxa,EAAQ,OACZ,GAAIya,GAASD,EAAQ,CACnB,IAAMsY,EAAkC,GAApBppB,OAAOqpB,WACrBC,EAAoC,GAArBtpB,OAAOupB,YAI1BjzB,EADEya,EAAQqY,GAAetY,EAASwY,EAC1BvY,EAHUqY,EAAcE,EACfvY,EAAQD,EAIjBC,EAAQuY,EAAexY,EAEvBsY,EAGV9yB,GAAS,KAGXX,KAAK2vB,iBAAiBtZ,MAAM+E,MAAQza,O,4LC7YxC,I,ICFMkzB,E,WAEJ,WAAY/wB,I,4FAAS,SAEnB9C,KAAK3D,OAASmJ,OAAOgQ,OAAO,GADX,GACyB1S,GAAW,IAErD9C,KAAKsgB,UAAYtgB,KAAK3D,OAAOikB,UAC7BtgB,KAAK0vB,MAAQ1vB,KAAKsgB,UAAU2D,cAAc,oBAC1CjkB,KAAK2vB,iBAAmB3vB,KAAKsgB,UAAU2D,cAAc,4BACrDjkB,KAAK4vB,aAAe5vB,KAAKsgB,UAAU2D,cAAc,wBACjDjkB,KAAK6vB,aAAe7vB,KAAKsgB,UAAU2D,cAAc,wBACjDjkB,KAAK8vB,WAAa9vB,KAAKsgB,UAAU2D,cAAc,uCAC/CjkB,KAAK+vB,aAAe/vB,KAAKsgB,UAAU2D,cAAc,yCACjDjkB,KAAKgwB,eAAiBhwB,KAAKsgB,UAAU2D,cAAc,0BAEnDjkB,KAAKiwB,iBAAmBjwB,KAAKsgB,UAAU2D,cAAc,6BACrDjkB,KAAKkwB,YAAclwB,KAAKsgB,UAAU2D,cAAc,uBAChDjkB,KAAKmwB,YAAcnwB,KAAKsgB,UAAU2D,cAAc,uBAChDjkB,KAAK8zB,aAAe9zB,KAAKsgB,UAAU2D,cAAc,wBACjDjkB,KAAKowB,UAAYpwB,KAAKsgB,UAAU2D,cAAc,qBAC9CjkB,KAAKqwB,cAAgBrwB,KAAKsgB,UAAU2D,cAAc,yBAClDjkB,KAAK+zB,WAAa/zB,KAAKsgB,UAAU2D,cAAc,gBAE/CjkB,KAAKtF,KAAOoM,KAAKC,MAAM/G,KAAK+zB,WAAWpzB,QAAU,GACjDX,KAAKpC,IAAMoC,KAAK+zB,WAAW7c,QAAQwY,MAEnC1vB,KAAKg0B,eAAiBh0B,KAAKsgB,UAAU2D,cAAc,iCAEnDjkB,KAAKwwB,UAAYxwB,KAAKsgB,UAAU2D,cAAc,qBAC9CjkB,KAAKi0B,aAAej0B,KAAKsgB,UAAU2D,cAAc,wBACjDjkB,KAAKk0B,aAAel0B,KAAKsgB,UAAU2D,cAAc,wBACjDjkB,KAAKm0B,SAAWn0B,KAAKsgB,UAAU2D,cAAc,oBAC7CjkB,KAAK8C,QAAUgE,KAAKC,MAAM/G,KAAKsgB,UAAU2D,cAAc,iBAAiB0M,aAExE3wB,KAAKugB,QAAU,KACfvgB,KAAKqT,MAAQ,KAEbrT,KAAKsf,Q,0CAIP,WACEtf,KAAK4wB,cACL5wB,KAAKo0B,cACLp0B,KAAK6wB,YACA7wB,KAAKtF,KAAK83B,UACbxyB,KAAK8wB,0B,yBAIT,WACE9wB,KAAKtF,KAAKkD,IAAMoC,KAAKpC,IACrBoC,KAAKtF,KAAK25B,QAAUr0B,KAAKi0B,aAAatzB,MACtCX,KAAKtF,KAAK45B,QAAUt0B,KAAKk0B,aAAavzB,MACtCX,KAAKtF,KAAK+oB,IAAMzjB,KAAKm0B,SAASxzB,MAC9BX,KAAK+zB,WAAWpzB,MAAQmG,KAAKI,UAAUlH,KAAKtF,Q,uBAG9C,WAIE,IAJU,WAGJ65B,EAAav0B,KAAKsgB,UAAU0D,iBAAiB,sBAC1Cvc,EAAI,EAAGA,EAAI8sB,EAAWnyB,OAAQqF,IACrC8sB,EAAW9sB,GAAGxJ,iBAAiB,UAAU,WACvC,EAAKm2B,iBAKTp0B,KAAKowB,UAAUnyB,iBAAiB,UAAU,WACxC,EAAKE,OAAO,CACV4yB,KAAM,EAAKX,UAAUY,MAAM,QAK/B,IAAIC,EAAejxB,KAAKwwB,UAAU7vB,MAC9B,qBAAsB0J,QACP,IAAI6mB,kBAAiB,SAACC,EAAWC,GAChD/mB,OAAOzN,YAAW,WAChB,GAAIq0B,IAAiB,EAAKT,UAAU7vB,OAAS,EAAK6vB,UAAU7vB,MAAO,CACjEswB,EAAe,EAAKT,UAAU7vB,MAC9B,IAAI0H,EAAO,EAAKmoB,UAAU7vB,MAC1B,IAA2B,IAAvB0H,EAAK1L,QAAQ,KAAa,CAC5B,IAAMiL,EAAQS,EAAKsC,MAAM,KACzBtC,EAAOT,EAAM,GAEf,EAAKzJ,OAAO,CACVkK,KAAMA,OAGT,QAEIgpB,QAAQrxB,KAAKsgB,UAAW,CAC/BgR,SAAS,EACTC,YAAY,IAMM,MAAlBC,cAEFC,OAAOzxB,KAAKiwB,kBAAkByB,GAAG,UAAU,WACrC,EAAKnR,SACP,EAAKA,QAAQ8L,eAAe,EAAK4D,iBAAiBtvB,UAKtDX,KAAKiwB,iBAAiBhyB,iBAAiB,UAAU,WAC3C,EAAKsiB,SACP,EAAKA,QAAQ8L,eAAe,EAAK4D,iBAAiBtvB,UAMxDX,KAAKsgB,UAAU2D,cAAc,0BAA0BhmB,iBAAiB,SAAS,SAAC8Z,GAChFA,EAAM4O,iBACN,EAAKyJ,UAAUuB,WAIjB,IAAMC,EAAc5xB,KAAKsgB,UAAU2D,cAAc,iCAC7C2N,GACFA,EAAY3zB,iBAAiB,SAAS,SAAC8Z,GACrCA,EAAM4O,iBACN,EAAK6J,UAAUqB,mBAAmBF,WAKtC3xB,KAAKsgB,UAAU2D,cAAc,wBAAwBhmB,iBAAiB,SAAS,SAAC8Z,GAC9EA,EAAM4O,iBACN,EAAKmL,UAIP9xB,KAAKsgB,UAAU2D,cAAc,0BAA0BhmB,iBAAiB,SAAS,SAAC8Z,GAChFA,EAAM4O,iBACN,EAAI,YAIN3mB,KAAKsgB,UAAU2D,cAAc,yBAAyBhmB,iBAAiB,SAAS,SAAC8Z,GAC/EA,EAAM4O,iBACN,EAAKzkB,WAIPlC,KAAKsgB,UAAU2D,cAAc,0BAA0BhmB,iBAAiB,SAAS,SAAC8Z,GAChFA,EAAM4O,iBACN,EAAKpoB,YAKP,IADA,IAAMwoB,EAAU/mB,KAAKgwB,eAAehM,iBAAiB,iBAC5Cvc,EAAI,EAAGA,EAAIsf,EAAQ3kB,OAAQqF,IAClCsf,EAAQtf,GAAGxJ,iBAAiB,SAAS,SAAC8Z,GAEpCA,EAAM4O,iBAEN,IAAMK,EAASjP,EAAMga,cACf51B,EAAS6qB,EAAO9P,QAAQ/a,OAC1B61B,EAAShL,EAAO9P,QAAQ8a,OACxBC,EAAejL,EAAO9P,QAAQ+a,aAC9BC,EAAYlL,EAAO9P,QAAQgb,UAC3BC,EAAU,EAAK7R,UAAU2D,cAAc,mCAAmCtjB,MAE9E,IAAIqmB,EAAO3D,WAAY2D,EAAOvQ,UAAU+P,SAAS,aAI7C,EAAKjG,SAAWpkB,EAAQ,CAE1B,IAAMzB,EAAO,EAAK6lB,QAAQtJ,UAEX,WAAX9a,KAEmB,IAAjBzB,EAAKqf,SAAkC,IAAjBrf,EAAKsf,SAC7BkY,EAA0B,SAAdA,EAAuB,QAAU,QAI7CF,EADgB,SAAdE,EACO,IAAMC,EAENA,GAKE,WAAXh2B,IAAwC,IAAjBzB,EAAKqf,SAC9BiY,EAAS,GAEI,WAAX71B,IAAwC,IAAjBzB,EAAKsf,SAC9BgY,EAAS,GAGX,EAAKzR,QAAQpkB,GAAQ61B,EAAQC,S,oBAQrC,YAGG,WAFDlB,EAEC,EAFDA,KACA1oB,EACC,EADDA,KAGArI,KAAK0vB,MAAMjZ,UAAUC,IAAI,iBAEzB,IAAMhc,EAAO,IAAIgS,SAEbqkB,GACFr2B,EAAK03B,OAAOpyB,KAAKowB,UAAUlsB,KAAM6sB,GAE/B1oB,GACF3N,EAAK03B,OAAO,OAAQ/pB,GAGtB3N,EAAK03B,OAAO,WAAYpyB,KAAKpC,KAC7BlD,EAAK03B,OAAO,cAAepyB,KAAKkwB,YAAYvvB,OAC5CjG,EAAK03B,OAAO,eAAgBpyB,KAAK8zB,aAAanzB,OAC9CjG,EAAK03B,OAAOC,kBAAmB,GAE/BlzB,IAAM,CACJhD,OAAQ,OACRT,IAAK42B,aAAe,mEACpB53B,KAAMA,IACL4D,MAAK,SAACxC,GACP,IAA8B,IAA1BA,EAASpB,KAAK63B,QAAkB,CAClC,IAAM9W,EAAQ3f,EAASpB,KAAKA,KAAK,GAEjC,EAAKk1B,aAAahmB,aAAa,MAAO6R,EAAMzI,QAAU,MAAQtK,KAAKO,OACnE,EAAK4mB,aAAajmB,aAAa,MAAO6R,EAAMzI,QAAU,MAAQtK,KAAKO,OAEnE,EAAKknB,YAAYxvB,MAAQ,GACzB,EAAK0vB,cAAc1vB,MAAQ8a,EAAM+W,SACjC,EAAKtC,YAAYvvB,MAAQ8a,EAAMtd,OAC/B,EAAK61B,eAAerzB,MAAQ,KAC5B,EAAKjG,KAAK0gB,MAAQK,EAAML,MACxB,EAAK1gB,KAAKygB,OAASM,EAAMN,OAEzB,EAAKiZ,cAEL,EAAK3B,uBAEYC,SAAS,EAAK5vB,QAAQ6vB,UAAW,KAEhDtoB,OAAOzN,YAAW,WAChB,EAAK0jB,UAAU2D,cAAc,wBAAwB0N,UACpD,UAILiB,MAAM92B,EAASpB,KAAKqF,YA9BxB,OAgCS,SAAC0C,GACRmwB,MAAMnwB,MAjCR,SAkCW,WACT,EAAKitB,MAAMjZ,UAAUzN,OAAO,sB,mBAKhC,WAAQ,WAENhJ,KAAK0vB,MAAMjZ,UAAUC,IAAI,iBAEzB,IAAMmc,EAAW7yB,KAAKugB,QAAQtJ,UAExBvc,EAAO,IAAIgS,SACjBhS,EAAK03B,OAAO,IAAKS,EAAS3K,GAC1BxtB,EAAK03B,OAAO,IAAKS,EAAS1K,GAC1BztB,EAAK03B,OAAO,QAASS,EAASzX,OAC9B1gB,EAAK03B,OAAO,SAAUS,EAAS1X,QAC/BzgB,EAAK03B,OAAO,SAAUS,EAAS/Y,QAC/Bpf,EAAK03B,OAAO,SAAUS,EAAS9Y,QAC/Brf,EAAK03B,OAAO,SAAUS,EAAS7Y,QAC/Btf,EAAK03B,OAAO,OAAQ,WACpB13B,EAAK03B,OAAOC,kBAAmB,GAC/B33B,EAAK03B,OAAO,WAAYpyB,KAAKpC,KAC7BlD,EAAK03B,OAAO,cAAepyB,KAAKkwB,YAAYvvB,OAC5CjG,EAAK03B,OAAO,eAAgBpyB,KAAK8zB,aAAanzB,OAC9CjG,EAAK03B,OAAO,UAAWpyB,KAAKtF,KAAK85B,SAAW,GAC5C95B,EAAK03B,OAAO,SAAUpyB,KAAKtF,KAAK+5B,QAChC/5B,EAAK03B,OAAO,UAAWpyB,KAAKtF,KAAKqE,SAEjCI,IAAM,CACJhD,OAAQ,OACRT,IAAK42B,aAAe,mEACpB53B,KAAMA,IACL4D,MAAK,SAACxC,IACuB,IAA1BA,EAASpB,KAAK63B,SAChB,EAAK73B,KAAK0gB,MAAQtf,EAASpB,KAAKA,KAAK,GAAG0gB,MACxC,EAAK1gB,KAAKygB,OAASrf,EAASpB,KAAKA,KAAK,GAAGygB,OACzC,EAAKyU,aAAahmB,aAAa,MAAO9N,EAASpB,KAAKA,KAAK,GAAGsY,QAAU,MAAQtK,KAAKO,OACnF,EAAK4mB,aAAajmB,aAAa,MAAO9N,EAASpB,KAAKA,KAAK,GAAGsY,QAAU,MAAQtK,KAAKO,OACnF,EAAKinB,YAAYvvB,MAAQ7E,EAASpB,KAAKA,KAAK,GAAGyD,OAC/C,EAAKi2B,cACL,EAAK3B,wBAELG,MAAM92B,EAASpB,KAAKqF,YAdxB,OAgBS,SAAC0C,GACRmwB,MAAMnwB,MAjBR,SAkBW,WACT,EAAKqwB,aACL,EAAKvS,QAAQsJ,UACb,EAAK6F,MAAMjZ,UAAUzN,OAAO,sB,kBAMhC,WACEhJ,KAAK+yB,YACL/yB,KAAKgzB,gBAAgBhzB,KAAKtF,KAAK0gB,MAAOpb,KAAKtF,KAAKygB,QAChDnb,KAAKugB,QAAU,IAAIkM,IAAJ,CAAYzsB,KAAK4vB,aAAc,CAC5C7c,YAAa/S,KAAKiwB,iBAAiBtvB,MACnCsT,aAAa,EACbhB,YAAY,EACZN,SAAU,M,oBAKd,WACE3S,KAAK8yB,aACL9yB,KAAKugB,QAAQsJ,Y,oBAIf,WAAS,WAOP,GALA7pB,KAAKmwB,YAAYxvB,MAAQ,IACzBX,KAAKqwB,cAAc1vB,MAAQ,GAC3BX,KAAKg0B,eAAerzB,MAAQ,GAC5BX,KAAK6vB,aAAanM,IAAMuP,sBACxBjzB,KAAK8wB,wBACD9wB,KAAKkwB,YAAYvvB,MAAO,CAE1B,IAAMjG,EAAO,IAAIgS,SACjBhS,EAAK03B,OAAO,OAAQ,UACpB13B,EAAK03B,OAAOC,kBAAmB,GAC/B33B,EAAK03B,OAAO,cAAepyB,KAAKkwB,YAAYvvB,OAC5CjG,EAAK03B,OAAO,eAAgBpyB,KAAK8zB,aAAanzB,OAE9CxB,IAAM,CACJhD,OAAQ,OACRT,IAAK42B,aAAe,mEACpB53B,KAAMA,IACL4D,MAAK,SAACxC,IACuB,IAA1BA,EAASpB,KAAK63B,SAChB,EAAKrC,YAAYvvB,MAAQ,GACzB,EAAKyzB,eAELxB,MAAM92B,EAASpB,KAAKqF,YATxB,OAWS,SAAC0C,GACRmwB,MAAMnwB,S,yBAKZ,WACwB,MAAlB+uB,cACFxxB,KAAKqT,MAAQ,IAAI6f,UAAUC,MAAMnzB,KAAKsgB,UAAU2D,cAAc,gBAAiB,CAC7EmP,UAAU,EACVC,SAAU,YAGZrzB,KAAKqT,MAAQoe,OAAOzxB,KAAKsgB,WAAWgT,KAAK,gBAAgBjgB,MAAM,CAC7D+f,UAAU,EACVC,SAAU,WAEZrzB,KAAK8yB,gB,uBAKT,WACwB,MAAlBtB,cACFxxB,KAAKqT,MAAMkgB,OAEXvzB,KAAKqT,MAAMA,MAAM,U,wBAIrB,WACwB,MAAlBme,cACFxxB,KAAKqT,MAAMmgB,OAEXxzB,KAAKqT,MAAMA,MAAM,U,kCAIrB,WACErT,KAAK8vB,WAAWzM,UAAW,EAC3BrjB,KAAK+vB,aAAa1M,UAAW,I,mCAG/B,WACErjB,KAAK8vB,WAAWzM,UAAW,EAC3BrjB,KAAK+vB,aAAa1M,UAAW,I,6BAG/B,SAAgBjI,EAAOD,GACrB,IAAIxa,EAAQ,OACZ,GAAIya,GAASD,EAAQ,CACnB,IAAMsY,EAAkC,GAApBppB,OAAOqpB,WACrBC,EAAoC,GAArBtpB,OAAOupB,YAI1BjzB,EADEya,EAAQqY,GAAetY,EAASwY,EAC1BvY,EAHUqY,EAAcE,EACfvY,EAAQD,EAIjBC,EAAQuY,EAAexY,EAEvBsY,EAGV9yB,GAAS,KAGXX,KAAK2vB,iBAAiBtZ,MAAM+E,MAAQza,O,sBD5alC+zB,EAAgB9rB,SAASob,iBAAiB,mCAEvCvc,EAAI,EAAGA,EAAIitB,EAActyB,OAAQqF,IACxC,IAAIgoB,EAAmB,CACrBnP,UAAWoU,EAAcjtB,KAM7B,IAFA,IAAMktB,EAAe/rB,SAASob,iBAAiB,0BAEtCvc,EAAI,EAAGA,EAAIktB,EAAavyB,OAAQqF,IACvC,IAAIosB,EAAiB,CACnBvT,UAAWqU,EAAaltB,M","file":"main.min.js","sourcesContent":["module.exports = require('./lib/axios');","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n    var responseType = config.responseType;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !responseType || responseType === 'text' ||  responseType === 'json' ?\n        request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(\n        timeoutErrorMessage,\n        config,\n        config.transitional && config.transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\nvar validator = require('../helpers/validator');\n\nvar validators = validator.validators;\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  var transitional = config.transitional;\n\n  if (transitional !== undefined) {\n    validator.assertOptions(transitional, {\n      silentJSONParsing: validators.transitional(validators.boolean, '1.0.0'),\n      forcedJSONParsing: validators.transitional(validators.boolean, '1.0.0'),\n      clarifyTimeoutError: validators.transitional(validators.boolean, '1.0.0')\n    }, false);\n  }\n\n  // filter out skipped interceptors\n  var requestInterceptorChain = [];\n  var synchronousRequestInterceptors = true;\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n      return;\n    }\n\n    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var responseInterceptorChain = [];\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var promise;\n\n  if (!synchronousRequestInterceptors) {\n    var chain = [dispatchRequest, undefined];\n\n    Array.prototype.unshift.apply(chain, requestInterceptorChain);\n    chain = chain.concat(responseInterceptorChain);\n\n    promise = Promise.resolve(config);\n    while (chain.length) {\n      promise = promise.then(chain.shift(), chain.shift());\n    }\n\n    return promise;\n  }\n\n\n  var newConfig = config;\n  while (requestInterceptorChain.length) {\n    var onFulfilled = requestInterceptorChain.shift();\n    var onRejected = requestInterceptorChain.shift();\n    try {\n      newConfig = onFulfilled(newConfig);\n    } catch (error) {\n      onRejected(error);\n      break;\n    }\n  }\n\n  try {\n    promise = dispatchRequest(newConfig);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n\n  while (responseInterceptorChain.length) {\n    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected, options) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected,\n    synchronous: options ? options.synchronous : false,\n    runWhen: options ? options.runWhen : null\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy', 'params'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'timeoutMessage', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'decompress',\n    'maxContentLength', 'maxBodyLength', 'maxRedirects', 'transport', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath', 'responseEncoding'\n  ];\n  var directMergeKeys = ['validateStatus'];\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, mergeDeepProperties);\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  utils.forEach(directMergeKeys, function merge(prop) {\n    if (prop in config2) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys)\n    .concat(directMergeKeys);\n\n  var otherKeys = Object\n    .keys(config1)\n    .concat(Object.keys(config2))\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, mergeDeepProperties);\n\n  return config;\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar defaults = require('./../defaults');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  var context = this || defaults;\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(context, data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\nvar enhanceError = require('./core/enhanceError');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nvar defaults = {\n\n  transitional: {\n    silentJSONParsing: true,\n    forcedJSONParsing: true,\n    clarifyTimeoutError: false\n  },\n\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data) || (headers && headers['Content-Type'] === 'application/json')) {\n      setContentTypeIfUnset(headers, 'application/json');\n      return stringifySafely(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    var transitional = this.transitional;\n    var silentJSONParsing = transitional && transitional.silentJSONParsing;\n    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';\n\n    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw enhanceError(e, this, 'E_JSON_PARSE');\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return (typeof payload === 'object') && (payload.isAxiosError === true);\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\nvar pkg = require('./../../package.json');\n\nvar validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function(type, i) {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nvar deprecatedWarnings = {};\nvar currentVerArr = pkg.version.split('.');\n\n/**\n * Compare package versions\n * @param {string} version\n * @param {string?} thanVersion\n * @returns {boolean}\n */\nfunction isOlderVersion(version, thanVersion) {\n  var pkgVersionArr = thanVersion ? thanVersion.split('.') : currentVerArr;\n  var destVer = version.split('.');\n  for (var i = 0; i < 3; i++) {\n    if (pkgVersionArr[i] > destVer[i]) {\n      return true;\n    } else if (pkgVersionArr[i] < destVer[i]) {\n      return false;\n    }\n  }\n  return false;\n}\n\n/**\n * Transitional option validator\n * @param {function|boolean?} validator\n * @param {string?} version\n * @param {string} message\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  var isDeprecated = version && isOlderVersion(version);\n\n  function formatMessage(opt, desc) {\n    return '[Axios v' + pkg.version + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return function(value, opt, opts) {\n    if (validator === false) {\n      throw new Error(formatMessage(opt, ' has been removed in ' + version));\n    }\n\n    if (isDeprecated && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new TypeError('options must be an object');\n  }\n  var keys = Object.keys(options);\n  var i = keys.length;\n  while (i-- > 0) {\n    var opt = keys[i];\n    var validator = schema[opt];\n    if (validator) {\n      var value = options[opt];\n      var result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new TypeError('option ' + opt + ' must be ' + result);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw Error('Unknown option ' + opt);\n    }\n  }\n}\n\nmodule.exports = {\n  isOlderVersion: isOlderVersion,\n  assertOptions: assertOptions,\n  validators: validators\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","/*!\n * Cropper.js v1.5.12\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2021-06-12T08:00:17.411Z\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Cropper = factory());\n}(this, (function () { 'use strict';\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n\n      if (enumerableOnly) {\n        symbols = symbols.filter(function (sym) {\n          return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n        });\n      }\n\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  var WINDOW = IS_BROWSER ? window : {};\n  var IS_TOUCH_DEVICE = IS_BROWSER && WINDOW.document.documentElement ? 'ontouchstart' in WINDOW.document.documentElement : false;\n  var HAS_POINTER_EVENT = IS_BROWSER ? 'PointerEvent' in WINDOW : false;\n  var NAMESPACE = 'cropper'; // Actions\n\n  var ACTION_ALL = 'all';\n  var ACTION_CROP = 'crop';\n  var ACTION_MOVE = 'move';\n  var ACTION_ZOOM = 'zoom';\n  var ACTION_EAST = 'e';\n  var ACTION_WEST = 'w';\n  var ACTION_SOUTH = 's';\n  var ACTION_NORTH = 'n';\n  var ACTION_NORTH_EAST = 'ne';\n  var ACTION_NORTH_WEST = 'nw';\n  var ACTION_SOUTH_EAST = 'se';\n  var ACTION_SOUTH_WEST = 'sw'; // Classes\n\n  var CLASS_CROP = \"\".concat(NAMESPACE, \"-crop\");\n  var CLASS_DISABLED = \"\".concat(NAMESPACE, \"-disabled\");\n  var CLASS_HIDDEN = \"\".concat(NAMESPACE, \"-hidden\");\n  var CLASS_HIDE = \"\".concat(NAMESPACE, \"-hide\");\n  var CLASS_INVISIBLE = \"\".concat(NAMESPACE, \"-invisible\");\n  var CLASS_MODAL = \"\".concat(NAMESPACE, \"-modal\");\n  var CLASS_MOVE = \"\".concat(NAMESPACE, \"-move\"); // Data keys\n\n  var DATA_ACTION = \"\".concat(NAMESPACE, \"Action\");\n  var DATA_PREVIEW = \"\".concat(NAMESPACE, \"Preview\"); // Drag modes\n\n  var DRAG_MODE_CROP = 'crop';\n  var DRAG_MODE_MOVE = 'move';\n  var DRAG_MODE_NONE = 'none'; // Events\n\n  var EVENT_CROP = 'crop';\n  var EVENT_CROP_END = 'cropend';\n  var EVENT_CROP_MOVE = 'cropmove';\n  var EVENT_CROP_START = 'cropstart';\n  var EVENT_DBLCLICK = 'dblclick';\n  var EVENT_TOUCH_START = IS_TOUCH_DEVICE ? 'touchstart' : 'mousedown';\n  var EVENT_TOUCH_MOVE = IS_TOUCH_DEVICE ? 'touchmove' : 'mousemove';\n  var EVENT_TOUCH_END = IS_TOUCH_DEVICE ? 'touchend touchcancel' : 'mouseup';\n  var EVENT_POINTER_DOWN = HAS_POINTER_EVENT ? 'pointerdown' : EVENT_TOUCH_START;\n  var EVENT_POINTER_MOVE = HAS_POINTER_EVENT ? 'pointermove' : EVENT_TOUCH_MOVE;\n  var EVENT_POINTER_UP = HAS_POINTER_EVENT ? 'pointerup pointercancel' : EVENT_TOUCH_END;\n  var EVENT_READY = 'ready';\n  var EVENT_RESIZE = 'resize';\n  var EVENT_WHEEL = 'wheel';\n  var EVENT_ZOOM = 'zoom'; // Mime types\n\n  var MIME_TYPE_JPEG = 'image/jpeg'; // RegExps\n\n  var REGEXP_ACTIONS = /^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/;\n  var REGEXP_DATA_URL = /^data:/;\n  var REGEXP_DATA_URL_JPEG = /^data:image\\/jpeg;base64,/;\n  var REGEXP_TAG_NAME = /^img|canvas$/i; // Misc\n  // Inspired by the default width and height of a canvas element.\n\n  var MIN_CONTAINER_WIDTH = 200;\n  var MIN_CONTAINER_HEIGHT = 100;\n\n  var DEFAULTS = {\n    // Define the view mode of the cropper\n    viewMode: 0,\n    // 0, 1, 2, 3\n    // Define the dragging mode of the cropper\n    dragMode: DRAG_MODE_CROP,\n    // 'crop', 'move' or 'none'\n    // Define the initial aspect ratio of the crop box\n    initialAspectRatio: NaN,\n    // Define the aspect ratio of the crop box\n    aspectRatio: NaN,\n    // An object with the previous cropping result data\n    data: null,\n    // A selector for adding extra containers to preview\n    preview: '',\n    // Re-render the cropper when resize the window\n    responsive: true,\n    // Restore the cropped area after resize the window\n    restore: true,\n    // Check if the current image is a cross-origin image\n    checkCrossOrigin: true,\n    // Check the current image's Exif Orientation information\n    checkOrientation: true,\n    // Show the black modal\n    modal: true,\n    // Show the dashed lines for guiding\n    guides: true,\n    // Show the center indicator for guiding\n    center: true,\n    // Show the white modal to highlight the crop box\n    highlight: true,\n    // Show the grid background\n    background: true,\n    // Enable to crop the image automatically when initialize\n    autoCrop: true,\n    // Define the percentage of automatic cropping area when initializes\n    autoCropArea: 0.8,\n    // Enable to move the image\n    movable: true,\n    // Enable to rotate the image\n    rotatable: true,\n    // Enable to scale the image\n    scalable: true,\n    // Enable to zoom the image\n    zoomable: true,\n    // Enable to zoom the image by dragging touch\n    zoomOnTouch: true,\n    // Enable to zoom the image by wheeling mouse\n    zoomOnWheel: true,\n    // Define zoom ratio when zoom the image by wheeling mouse\n    wheelZoomRatio: 0.1,\n    // Enable to move the crop box\n    cropBoxMovable: true,\n    // Enable to resize the crop box\n    cropBoxResizable: true,\n    // Toggle drag mode between \"crop\" and \"move\" when click twice on the cropper\n    toggleDragModeOnDblclick: true,\n    // Size limitation\n    minCanvasWidth: 0,\n    minCanvasHeight: 0,\n    minCropBoxWidth: 0,\n    minCropBoxHeight: 0,\n    minContainerWidth: MIN_CONTAINER_WIDTH,\n    minContainerHeight: MIN_CONTAINER_HEIGHT,\n    // Shortcuts of events\n    ready: null,\n    cropstart: null,\n    cropmove: null,\n    cropend: null,\n    crop: null,\n    zoom: null\n  };\n\n  var TEMPLATE = '<div class=\"cropper-container\" touch-action=\"none\">' + '<div class=\"cropper-wrap-box\">' + '<div class=\"cropper-canvas\"></div>' + '</div>' + '<div class=\"cropper-drag-box\"></div>' + '<div class=\"cropper-crop-box\">' + '<span class=\"cropper-view-box\"></span>' + '<span class=\"cropper-dashed dashed-h\"></span>' + '<span class=\"cropper-dashed dashed-v\"></span>' + '<span class=\"cropper-center\"></span>' + '<span class=\"cropper-face\"></span>' + '<span class=\"cropper-line line-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-line line-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-line line-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-line line-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-point point-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-point point-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-point point-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-ne\" data-cropper-action=\"ne\"></span>' + '<span class=\"cropper-point point-nw\" data-cropper-action=\"nw\"></span>' + '<span class=\"cropper-point point-sw\" data-cropper-action=\"sw\"></span>' + '<span class=\"cropper-point point-se\" data-cropper-action=\"se\"></span>' + '</div>' + '</div>';\n\n  /**\n   * Check if the given value is not a number.\n   */\n\n  var isNaN = Number.isNaN || WINDOW.isNaN;\n  /**\n   * Check if the given value is a number.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a number, else `false`.\n   */\n\n  function isNumber(value) {\n    return typeof value === 'number' && !isNaN(value);\n  }\n  /**\n   * Check if the given value is a positive number.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a positive number, else `false`.\n   */\n\n  var isPositiveNumber = function isPositiveNumber(value) {\n    return value > 0 && value < Infinity;\n  };\n  /**\n   * Check if the given value is undefined.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is undefined, else `false`.\n   */\n\n  function isUndefined(value) {\n    return typeof value === 'undefined';\n  }\n  /**\n   * Check if the given value is an object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is an object, else `false`.\n   */\n\n  function isObject(value) {\n    return _typeof(value) === 'object' && value !== null;\n  }\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n  /**\n   * Check if the given value is a plain object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.\n   */\n\n  function isPlainObject(value) {\n    if (!isObject(value)) {\n      return false;\n    }\n\n    try {\n      var _constructor = value.constructor;\n      var prototype = _constructor.prototype;\n      return _constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');\n    } catch (error) {\n      return false;\n    }\n  }\n  /**\n   * Check if the given value is a function.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a function, else `false`.\n   */\n\n  function isFunction(value) {\n    return typeof value === 'function';\n  }\n  var slice = Array.prototype.slice;\n  /**\n   * Convert array-like or iterable object to an array.\n   * @param {*} value - The value to convert.\n   * @returns {Array} Returns a new array.\n   */\n\n  function toArray(value) {\n    return Array.from ? Array.from(value) : slice.call(value);\n  }\n  /**\n   * Iterate the given data.\n   * @param {*} data - The data to iterate.\n   * @param {Function} callback - The process function for each element.\n   * @returns {*} The original data.\n   */\n\n  function forEach(data, callback) {\n    if (data && isFunction(callback)) {\n      if (Array.isArray(data) || isNumber(data.length)\n      /* array-like */\n      ) {\n          toArray(data).forEach(function (value, key) {\n            callback.call(data, value, key, data);\n          });\n        } else if (isObject(data)) {\n        Object.keys(data).forEach(function (key) {\n          callback.call(data, data[key], key, data);\n        });\n      }\n    }\n\n    return data;\n  }\n  /**\n   * Extend the given object.\n   * @param {*} target - The target object to extend.\n   * @param {*} args - The rest objects for merging to the target object.\n   * @returns {Object} The extended object.\n   */\n\n  var assign = Object.assign || function assign(target) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    if (isObject(target) && args.length > 0) {\n      args.forEach(function (arg) {\n        if (isObject(arg)) {\n          Object.keys(arg).forEach(function (key) {\n            target[key] = arg[key];\n          });\n        }\n      });\n    }\n\n    return target;\n  };\n  var REGEXP_DECIMALS = /\\.\\d*(?:0|9){12}\\d*$/;\n  /**\n   * Normalize decimal number.\n   * Check out {@link https://0.30000000000000004.com/}\n   * @param {number} value - The value to normalize.\n   * @param {number} [times=100000000000] - The times for normalizing.\n   * @returns {number} Returns the normalized number.\n   */\n\n  function normalizeDecimalNumber(value) {\n    var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000000000;\n    return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;\n  }\n  var REGEXP_SUFFIX = /^width|height|left|top|marginLeft|marginTop$/;\n  /**\n   * Apply styles to the given element.\n   * @param {Element} element - The target element.\n   * @param {Object} styles - The styles for applying.\n   */\n\n  function setStyle(element, styles) {\n    var style = element.style;\n    forEach(styles, function (value, property) {\n      if (REGEXP_SUFFIX.test(property) && isNumber(value)) {\n        value = \"\".concat(value, \"px\");\n      }\n\n      style[property] = value;\n    });\n  }\n  /**\n   * Check if the given element has a special class.\n   * @param {Element} element - The element to check.\n   * @param {string} value - The class to search.\n   * @returns {boolean} Returns `true` if the special class was found.\n   */\n\n  function hasClass(element, value) {\n    return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -1;\n  }\n  /**\n   * Add classes to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be added.\n   */\n\n  function addClass(element, value) {\n    if (!value) {\n      return;\n    }\n\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        addClass(elem, value);\n      });\n      return;\n    }\n\n    if (element.classList) {\n      element.classList.add(value);\n      return;\n    }\n\n    var className = element.className.trim();\n\n    if (!className) {\n      element.className = value;\n    } else if (className.indexOf(value) < 0) {\n      element.className = \"\".concat(className, \" \").concat(value);\n    }\n  }\n  /**\n   * Remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be removed.\n   */\n\n  function removeClass(element, value) {\n    if (!value) {\n      return;\n    }\n\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        removeClass(elem, value);\n      });\n      return;\n    }\n\n    if (element.classList) {\n      element.classList.remove(value);\n      return;\n    }\n\n    if (element.className.indexOf(value) >= 0) {\n      element.className = element.className.replace(value, '');\n    }\n  }\n  /**\n   * Add or remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be toggled.\n   * @param {boolean} added - Add only.\n   */\n\n  function toggleClass(element, value, added) {\n    if (!value) {\n      return;\n    }\n\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        toggleClass(elem, value, added);\n      });\n      return;\n    } // IE10-11 doesn't support the second parameter of `classList.toggle`\n\n\n    if (added) {\n      addClass(element, value);\n    } else {\n      removeClass(element, value);\n    }\n  }\n  var REGEXP_CAMEL_CASE = /([a-z\\d])([A-Z])/g;\n  /**\n   * Transform the given string from camelCase to kebab-case\n   * @param {string} value - The value to transform.\n   * @returns {string} The transformed value.\n   */\n\n  function toParamCase(value) {\n    return value.replace(REGEXP_CAMEL_CASE, '$1-$2').toLowerCase();\n  }\n  /**\n   * Get data from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to get.\n   * @returns {string} The data value.\n   */\n\n  function getData(element, name) {\n    if (isObject(element[name])) {\n      return element[name];\n    }\n\n    if (element.dataset) {\n      return element.dataset[name];\n    }\n\n    return element.getAttribute(\"data-\".concat(toParamCase(name)));\n  }\n  /**\n   * Set data to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to set.\n   * @param {string} data - The data value.\n   */\n\n  function setData(element, name, data) {\n    if (isObject(data)) {\n      element[name] = data;\n    } else if (element.dataset) {\n      element.dataset[name] = data;\n    } else {\n      element.setAttribute(\"data-\".concat(toParamCase(name)), data);\n    }\n  }\n  /**\n   * Remove data from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to remove.\n   */\n\n  function removeData(element, name) {\n    if (isObject(element[name])) {\n      try {\n        delete element[name];\n      } catch (error) {\n        element[name] = undefined;\n      }\n    } else if (element.dataset) {\n      // #128 Safari not allows to delete dataset property\n      try {\n        delete element.dataset[name];\n      } catch (error) {\n        element.dataset[name] = undefined;\n      }\n    } else {\n      element.removeAttribute(\"data-\".concat(toParamCase(name)));\n    }\n  }\n  var REGEXP_SPACES = /\\s\\s*/;\n\n  var onceSupported = function () {\n    var supported = false;\n\n    if (IS_BROWSER) {\n      var once = false;\n\n      var listener = function listener() {};\n\n      var options = Object.defineProperty({}, 'once', {\n        get: function get() {\n          supported = true;\n          return once;\n        },\n\n        /**\n         * This setter can fix a `TypeError` in strict mode\n         * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only}\n         * @param {boolean} value - The value to set\n         */\n        set: function set(value) {\n          once = value;\n        }\n      });\n      WINDOW.addEventListener('test', listener, options);\n      WINDOW.removeEventListener('test', listener, options);\n    }\n\n    return supported;\n  }();\n  /**\n   * Remove event listener from the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n\n\n  function removeListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (!onceSupported) {\n        var listeners = element.listeners;\n\n        if (listeners && listeners[event] && listeners[event][listener]) {\n          handler = listeners[event][listener];\n          delete listeners[event][listener];\n\n          if (Object.keys(listeners[event]).length === 0) {\n            delete listeners[event];\n          }\n\n          if (Object.keys(listeners).length === 0) {\n            delete element.listeners;\n          }\n        }\n      }\n\n      element.removeEventListener(event, handler, options);\n    });\n  }\n  /**\n   * Add event listener to the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n\n  function addListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var _handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (options.once && !onceSupported) {\n        var _element$listeners = element.listeners,\n            listeners = _element$listeners === void 0 ? {} : _element$listeners;\n\n        _handler = function handler() {\n          delete listeners[event][listener];\n          element.removeEventListener(event, _handler, options);\n\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          listener.apply(element, args);\n        };\n\n        if (!listeners[event]) {\n          listeners[event] = {};\n        }\n\n        if (listeners[event][listener]) {\n          element.removeEventListener(event, listeners[event][listener], options);\n        }\n\n        listeners[event][listener] = _handler;\n        element.listeners = listeners;\n      }\n\n      element.addEventListener(event, _handler, options);\n    });\n  }\n  /**\n   * Dispatch event on the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Object} data - The additional event data.\n   * @returns {boolean} Indicate if the event is default prevented or not.\n   */\n\n  function dispatchEvent(element, type, data) {\n    var event; // Event and CustomEvent on IE9-11 are global objects, not constructors\n\n    if (isFunction(Event) && isFunction(CustomEvent)) {\n      event = new CustomEvent(type, {\n        detail: data,\n        bubbles: true,\n        cancelable: true\n      });\n    } else {\n      event = document.createEvent('CustomEvent');\n      event.initCustomEvent(type, true, true, data);\n    }\n\n    return element.dispatchEvent(event);\n  }\n  /**\n   * Get the offset base on the document.\n   * @param {Element} element - The target element.\n   * @returns {Object} The offset data.\n   */\n\n  function getOffset(element) {\n    var box = element.getBoundingClientRect();\n    return {\n      left: box.left + (window.pageXOffset - document.documentElement.clientLeft),\n      top: box.top + (window.pageYOffset - document.documentElement.clientTop)\n    };\n  }\n  var location = WINDOW.location;\n  var REGEXP_ORIGINS = /^(\\w+:)\\/\\/([^:/?#]*):?(\\d*)/i;\n  /**\n   * Check if the given URL is a cross origin URL.\n   * @param {string} url - The target URL.\n   * @returns {boolean} Returns `true` if the given URL is a cross origin URL, else `false`.\n   */\n\n  function isCrossOriginURL(url) {\n    var parts = url.match(REGEXP_ORIGINS);\n    return parts !== null && (parts[1] !== location.protocol || parts[2] !== location.hostname || parts[3] !== location.port);\n  }\n  /**\n   * Add timestamp to the given URL.\n   * @param {string} url - The target URL.\n   * @returns {string} The result URL.\n   */\n\n  function addTimestamp(url) {\n    var timestamp = \"timestamp=\".concat(new Date().getTime());\n    return url + (url.indexOf('?') === -1 ? '?' : '&') + timestamp;\n  }\n  /**\n   * Get transforms base on the given object.\n   * @param {Object} obj - The target object.\n   * @returns {string} A string contains transform values.\n   */\n\n  function getTransforms(_ref) {\n    var rotate = _ref.rotate,\n        scaleX = _ref.scaleX,\n        scaleY = _ref.scaleY,\n        translateX = _ref.translateX,\n        translateY = _ref.translateY;\n    var values = [];\n\n    if (isNumber(translateX) && translateX !== 0) {\n      values.push(\"translateX(\".concat(translateX, \"px)\"));\n    }\n\n    if (isNumber(translateY) && translateY !== 0) {\n      values.push(\"translateY(\".concat(translateY, \"px)\"));\n    } // Rotate should come first before scale to match orientation transform\n\n\n    if (isNumber(rotate) && rotate !== 0) {\n      values.push(\"rotate(\".concat(rotate, \"deg)\"));\n    }\n\n    if (isNumber(scaleX) && scaleX !== 1) {\n      values.push(\"scaleX(\".concat(scaleX, \")\"));\n    }\n\n    if (isNumber(scaleY) && scaleY !== 1) {\n      values.push(\"scaleY(\".concat(scaleY, \")\"));\n    }\n\n    var transform = values.length ? values.join(' ') : 'none';\n    return {\n      WebkitTransform: transform,\n      msTransform: transform,\n      transform: transform\n    };\n  }\n  /**\n   * Get the max ratio of a group of pointers.\n   * @param {string} pointers - The target pointers.\n   * @returns {number} The result ratio.\n   */\n\n  function getMaxZoomRatio(pointers) {\n    var pointers2 = _objectSpread2({}, pointers);\n\n    var maxRatio = 0;\n    forEach(pointers, function (pointer, pointerId) {\n      delete pointers2[pointerId];\n      forEach(pointers2, function (pointer2) {\n        var x1 = Math.abs(pointer.startX - pointer2.startX);\n        var y1 = Math.abs(pointer.startY - pointer2.startY);\n        var x2 = Math.abs(pointer.endX - pointer2.endX);\n        var y2 = Math.abs(pointer.endY - pointer2.endY);\n        var z1 = Math.sqrt(x1 * x1 + y1 * y1);\n        var z2 = Math.sqrt(x2 * x2 + y2 * y2);\n        var ratio = (z2 - z1) / z1;\n\n        if (Math.abs(ratio) > Math.abs(maxRatio)) {\n          maxRatio = ratio;\n        }\n      });\n    });\n    return maxRatio;\n  }\n  /**\n   * Get a pointer from an event object.\n   * @param {Object} event - The target event object.\n   * @param {boolean} endOnly - Indicates if only returns the end point coordinate or not.\n   * @returns {Object} The result pointer contains start and/or end point coordinates.\n   */\n\n  function getPointer(_ref2, endOnly) {\n    var pageX = _ref2.pageX,\n        pageY = _ref2.pageY;\n    var end = {\n      endX: pageX,\n      endY: pageY\n    };\n    return endOnly ? end : _objectSpread2({\n      startX: pageX,\n      startY: pageY\n    }, end);\n  }\n  /**\n   * Get the center point coordinate of a group of pointers.\n   * @param {Object} pointers - The target pointers.\n   * @returns {Object} The center point coordinate.\n   */\n\n  function getPointersCenter(pointers) {\n    var pageX = 0;\n    var pageY = 0;\n    var count = 0;\n    forEach(pointers, function (_ref3) {\n      var startX = _ref3.startX,\n          startY = _ref3.startY;\n      pageX += startX;\n      pageY += startY;\n      count += 1;\n    });\n    pageX /= count;\n    pageY /= count;\n    return {\n      pageX: pageX,\n      pageY: pageY\n    };\n  }\n  /**\n   * Get the max sizes in a rectangle under the given aspect ratio.\n   * @param {Object} data - The original sizes.\n   * @param {string} [type='contain'] - The adjust type.\n   * @returns {Object} The result sizes.\n   */\n\n  function getAdjustedSizes(_ref4) // or 'cover'\n  {\n    var aspectRatio = _ref4.aspectRatio,\n        height = _ref4.height,\n        width = _ref4.width;\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'contain';\n    var isValidWidth = isPositiveNumber(width);\n    var isValidHeight = isPositiveNumber(height);\n\n    if (isValidWidth && isValidHeight) {\n      var adjustedWidth = height * aspectRatio;\n\n      if (type === 'contain' && adjustedWidth > width || type === 'cover' && adjustedWidth < width) {\n        height = width / aspectRatio;\n      } else {\n        width = height * aspectRatio;\n      }\n    } else if (isValidWidth) {\n      height = width / aspectRatio;\n    } else if (isValidHeight) {\n      width = height * aspectRatio;\n    }\n\n    return {\n      width: width,\n      height: height\n    };\n  }\n  /**\n   * Get the new sizes of a rectangle after rotated.\n   * @param {Object} data - The original sizes.\n   * @returns {Object} The result sizes.\n   */\n\n  function getRotatedSizes(_ref5) {\n    var width = _ref5.width,\n        height = _ref5.height,\n        degree = _ref5.degree;\n    degree = Math.abs(degree) % 180;\n\n    if (degree === 90) {\n      return {\n        width: height,\n        height: width\n      };\n    }\n\n    var arc = degree % 90 * Math.PI / 180;\n    var sinArc = Math.sin(arc);\n    var cosArc = Math.cos(arc);\n    var newWidth = width * cosArc + height * sinArc;\n    var newHeight = width * sinArc + height * cosArc;\n    return degree > 90 ? {\n      width: newHeight,\n      height: newWidth\n    } : {\n      width: newWidth,\n      height: newHeight\n    };\n  }\n  /**\n   * Get a canvas which drew the given image.\n   * @param {HTMLImageElement} image - The image for drawing.\n   * @param {Object} imageData - The image data.\n   * @param {Object} canvasData - The canvas data.\n   * @param {Object} options - The options.\n   * @returns {HTMLCanvasElement} The result canvas.\n   */\n\n  function getSourceCanvas(image, _ref6, _ref7, _ref8) {\n    var imageAspectRatio = _ref6.aspectRatio,\n        imageNaturalWidth = _ref6.naturalWidth,\n        imageNaturalHeight = _ref6.naturalHeight,\n        _ref6$rotate = _ref6.rotate,\n        rotate = _ref6$rotate === void 0 ? 0 : _ref6$rotate,\n        _ref6$scaleX = _ref6.scaleX,\n        scaleX = _ref6$scaleX === void 0 ? 1 : _ref6$scaleX,\n        _ref6$scaleY = _ref6.scaleY,\n        scaleY = _ref6$scaleY === void 0 ? 1 : _ref6$scaleY;\n    var aspectRatio = _ref7.aspectRatio,\n        naturalWidth = _ref7.naturalWidth,\n        naturalHeight = _ref7.naturalHeight;\n    var _ref8$fillColor = _ref8.fillColor,\n        fillColor = _ref8$fillColor === void 0 ? 'transparent' : _ref8$fillColor,\n        _ref8$imageSmoothingE = _ref8.imageSmoothingEnabled,\n        imageSmoothingEnabled = _ref8$imageSmoothingE === void 0 ? true : _ref8$imageSmoothingE,\n        _ref8$imageSmoothingQ = _ref8.imageSmoothingQuality,\n        imageSmoothingQuality = _ref8$imageSmoothingQ === void 0 ? 'low' : _ref8$imageSmoothingQ,\n        _ref8$maxWidth = _ref8.maxWidth,\n        maxWidth = _ref8$maxWidth === void 0 ? Infinity : _ref8$maxWidth,\n        _ref8$maxHeight = _ref8.maxHeight,\n        maxHeight = _ref8$maxHeight === void 0 ? Infinity : _ref8$maxHeight,\n        _ref8$minWidth = _ref8.minWidth,\n        minWidth = _ref8$minWidth === void 0 ? 0 : _ref8$minWidth,\n        _ref8$minHeight = _ref8.minHeight,\n        minHeight = _ref8$minHeight === void 0 ? 0 : _ref8$minHeight;\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n    var maxSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: maxWidth,\n      height: maxHeight\n    });\n    var minSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: minWidth,\n      height: minHeight\n    }, 'cover');\n    var width = Math.min(maxSizes.width, Math.max(minSizes.width, naturalWidth));\n    var height = Math.min(maxSizes.height, Math.max(minSizes.height, naturalHeight)); // Note: should always use image's natural sizes for drawing as\n    // imageData.naturalWidth === canvasData.naturalHeight when rotate % 180 === 90\n\n    var destMaxSizes = getAdjustedSizes({\n      aspectRatio: imageAspectRatio,\n      width: maxWidth,\n      height: maxHeight\n    });\n    var destMinSizes = getAdjustedSizes({\n      aspectRatio: imageAspectRatio,\n      width: minWidth,\n      height: minHeight\n    }, 'cover');\n    var destWidth = Math.min(destMaxSizes.width, Math.max(destMinSizes.width, imageNaturalWidth));\n    var destHeight = Math.min(destMaxSizes.height, Math.max(destMinSizes.height, imageNaturalHeight));\n    var params = [-destWidth / 2, -destHeight / 2, destWidth, destHeight];\n    canvas.width = normalizeDecimalNumber(width);\n    canvas.height = normalizeDecimalNumber(height);\n    context.fillStyle = fillColor;\n    context.fillRect(0, 0, width, height);\n    context.save();\n    context.translate(width / 2, height / 2);\n    context.rotate(rotate * Math.PI / 180);\n    context.scale(scaleX, scaleY);\n    context.imageSmoothingEnabled = imageSmoothingEnabled;\n    context.imageSmoothingQuality = imageSmoothingQuality;\n    context.drawImage.apply(context, [image].concat(_toConsumableArray(params.map(function (param) {\n      return Math.floor(normalizeDecimalNumber(param));\n    }))));\n    context.restore();\n    return canvas;\n  }\n  var fromCharCode = String.fromCharCode;\n  /**\n   * Get string from char code in data view.\n   * @param {DataView} dataView - The data view for read.\n   * @param {number} start - The start index.\n   * @param {number} length - The read length.\n   * @returns {string} The read result.\n   */\n\n  function getStringFromCharCode(dataView, start, length) {\n    var str = '';\n    length += start;\n\n    for (var i = start; i < length; i += 1) {\n      str += fromCharCode(dataView.getUint8(i));\n    }\n\n    return str;\n  }\n  var REGEXP_DATA_URL_HEAD = /^data:.*,/;\n  /**\n   * Transform Data URL to array buffer.\n   * @param {string} dataURL - The Data URL to transform.\n   * @returns {ArrayBuffer} The result array buffer.\n   */\n\n  function dataURLToArrayBuffer(dataURL) {\n    var base64 = dataURL.replace(REGEXP_DATA_URL_HEAD, '');\n    var binary = atob(base64);\n    var arrayBuffer = new ArrayBuffer(binary.length);\n    var uint8 = new Uint8Array(arrayBuffer);\n    forEach(uint8, function (value, i) {\n      uint8[i] = binary.charCodeAt(i);\n    });\n    return arrayBuffer;\n  }\n  /**\n   * Transform array buffer to Data URL.\n   * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n   * @param {string} mimeType - The mime type of the Data URL.\n   * @returns {string} The result Data URL.\n   */\n\n  function arrayBufferToDataURL(arrayBuffer, mimeType) {\n    var chunks = []; // Chunk Typed Array for better performance (#435)\n\n    var chunkSize = 8192;\n    var uint8 = new Uint8Array(arrayBuffer);\n\n    while (uint8.length > 0) {\n      // XXX: Babel's `toConsumableArray` helper will throw error in IE or Safari 9\n      // eslint-disable-next-line prefer-spread\n      chunks.push(fromCharCode.apply(null, toArray(uint8.subarray(0, chunkSize))));\n      uint8 = uint8.subarray(chunkSize);\n    }\n\n    return \"data:\".concat(mimeType, \";base64,\").concat(btoa(chunks.join('')));\n  }\n  /**\n   * Get orientation value from given array buffer.\n   * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n   * @returns {number} The read orientation value.\n   */\n\n  function resetAndGetOrientation(arrayBuffer) {\n    var dataView = new DataView(arrayBuffer);\n    var orientation; // Ignores range error when the image does not have correct Exif information\n\n    try {\n      var littleEndian;\n      var app1Start;\n      var ifdStart; // Only handle JPEG image (start by 0xFFD8)\n\n      if (dataView.getUint8(0) === 0xFF && dataView.getUint8(1) === 0xD8) {\n        var length = dataView.byteLength;\n        var offset = 2;\n\n        while (offset + 1 < length) {\n          if (dataView.getUint8(offset) === 0xFF && dataView.getUint8(offset + 1) === 0xE1) {\n            app1Start = offset;\n            break;\n          }\n\n          offset += 1;\n        }\n      }\n\n      if (app1Start) {\n        var exifIDCode = app1Start + 4;\n        var tiffOffset = app1Start + 10;\n\n        if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {\n          var endianness = dataView.getUint16(tiffOffset);\n          littleEndian = endianness === 0x4949;\n\n          if (littleEndian || endianness === 0x4D4D\n          /* bigEndian */\n          ) {\n              if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) {\n                var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n\n                if (firstIFDOffset >= 0x00000008) {\n                  ifdStart = tiffOffset + firstIFDOffset;\n                }\n              }\n            }\n        }\n      }\n\n      if (ifdStart) {\n        var _length = dataView.getUint16(ifdStart, littleEndian);\n\n        var _offset;\n\n        var i;\n\n        for (i = 0; i < _length; i += 1) {\n          _offset = ifdStart + i * 12 + 2;\n\n          if (dataView.getUint16(_offset, littleEndian) === 0x0112\n          /* Orientation */\n          ) {\n              // 8 is the offset of the current tag's value\n              _offset += 8; // Get the original orientation value\n\n              orientation = dataView.getUint16(_offset, littleEndian); // Override the orientation with its default value\n\n              dataView.setUint16(_offset, 1, littleEndian);\n              break;\n            }\n        }\n      }\n    } catch (error) {\n      orientation = 1;\n    }\n\n    return orientation;\n  }\n  /**\n   * Parse Exif Orientation value.\n   * @param {number} orientation - The orientation to parse.\n   * @returns {Object} The parsed result.\n   */\n\n  function parseOrientation(orientation) {\n    var rotate = 0;\n    var scaleX = 1;\n    var scaleY = 1;\n\n    switch (orientation) {\n      // Flip horizontal\n      case 2:\n        scaleX = -1;\n        break;\n      // Rotate left 180\n\n      case 3:\n        rotate = -180;\n        break;\n      // Flip vertical\n\n      case 4:\n        scaleY = -1;\n        break;\n      // Flip vertical and rotate right 90\n\n      case 5:\n        rotate = 90;\n        scaleY = -1;\n        break;\n      // Rotate right 90\n\n      case 6:\n        rotate = 90;\n        break;\n      // Flip horizontal and rotate right 90\n\n      case 7:\n        rotate = 90;\n        scaleX = -1;\n        break;\n      // Rotate left 90\n\n      case 8:\n        rotate = -90;\n        break;\n    }\n\n    return {\n      rotate: rotate,\n      scaleX: scaleX,\n      scaleY: scaleY\n    };\n  }\n\n  var render = {\n    render: function render() {\n      this.initContainer();\n      this.initCanvas();\n      this.initCropBox();\n      this.renderCanvas();\n\n      if (this.cropped) {\n        this.renderCropBox();\n      }\n    },\n    initContainer: function initContainer() {\n      var element = this.element,\n          options = this.options,\n          container = this.container,\n          cropper = this.cropper;\n      var minWidth = Number(options.minContainerWidth);\n      var minHeight = Number(options.minContainerHeight);\n      addClass(cropper, CLASS_HIDDEN);\n      removeClass(element, CLASS_HIDDEN);\n      var containerData = {\n        width: Math.max(container.offsetWidth, minWidth >= 0 ? minWidth : MIN_CONTAINER_WIDTH),\n        height: Math.max(container.offsetHeight, minHeight >= 0 ? minHeight : MIN_CONTAINER_HEIGHT)\n      };\n      this.containerData = containerData;\n      setStyle(cropper, {\n        width: containerData.width,\n        height: containerData.height\n      });\n      addClass(element, CLASS_HIDDEN);\n      removeClass(cropper, CLASS_HIDDEN);\n    },\n    // Canvas (image wrapper)\n    initCanvas: function initCanvas() {\n      var containerData = this.containerData,\n          imageData = this.imageData;\n      var viewMode = this.options.viewMode;\n      var rotated = Math.abs(imageData.rotate) % 180 === 90;\n      var naturalWidth = rotated ? imageData.naturalHeight : imageData.naturalWidth;\n      var naturalHeight = rotated ? imageData.naturalWidth : imageData.naturalHeight;\n      var aspectRatio = naturalWidth / naturalHeight;\n      var canvasWidth = containerData.width;\n      var canvasHeight = containerData.height;\n\n      if (containerData.height * aspectRatio > containerData.width) {\n        if (viewMode === 3) {\n          canvasWidth = containerData.height * aspectRatio;\n        } else {\n          canvasHeight = containerData.width / aspectRatio;\n        }\n      } else if (viewMode === 3) {\n        canvasHeight = containerData.width / aspectRatio;\n      } else {\n        canvasWidth = containerData.height * aspectRatio;\n      }\n\n      var canvasData = {\n        aspectRatio: aspectRatio,\n        naturalWidth: naturalWidth,\n        naturalHeight: naturalHeight,\n        width: canvasWidth,\n        height: canvasHeight\n      };\n      this.canvasData = canvasData;\n      this.limited = viewMode === 1 || viewMode === 2;\n      this.limitCanvas(true, true);\n      canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);\n      canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);\n      canvasData.left = (containerData.width - canvasData.width) / 2;\n      canvasData.top = (containerData.height - canvasData.height) / 2;\n      canvasData.oldLeft = canvasData.left;\n      canvasData.oldTop = canvasData.top;\n      this.initialCanvasData = assign({}, canvasData);\n    },\n    limitCanvas: function limitCanvas(sizeLimited, positionLimited) {\n      var options = this.options,\n          containerData = this.containerData,\n          canvasData = this.canvasData,\n          cropBoxData = this.cropBoxData;\n      var viewMode = options.viewMode;\n      var aspectRatio = canvasData.aspectRatio;\n      var cropped = this.cropped && cropBoxData;\n\n      if (sizeLimited) {\n        var minCanvasWidth = Number(options.minCanvasWidth) || 0;\n        var minCanvasHeight = Number(options.minCanvasHeight) || 0;\n\n        if (viewMode > 1) {\n          minCanvasWidth = Math.max(minCanvasWidth, containerData.width);\n          minCanvasHeight = Math.max(minCanvasHeight, containerData.height);\n\n          if (viewMode === 3) {\n            if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n              minCanvasWidth = minCanvasHeight * aspectRatio;\n            } else {\n              minCanvasHeight = minCanvasWidth / aspectRatio;\n            }\n          }\n        } else if (viewMode > 0) {\n          if (minCanvasWidth) {\n            minCanvasWidth = Math.max(minCanvasWidth, cropped ? cropBoxData.width : 0);\n          } else if (minCanvasHeight) {\n            minCanvasHeight = Math.max(minCanvasHeight, cropped ? cropBoxData.height : 0);\n          } else if (cropped) {\n            minCanvasWidth = cropBoxData.width;\n            minCanvasHeight = cropBoxData.height;\n\n            if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n              minCanvasWidth = minCanvasHeight * aspectRatio;\n            } else {\n              minCanvasHeight = minCanvasWidth / aspectRatio;\n            }\n          }\n        }\n\n        var _getAdjustedSizes = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: minCanvasWidth,\n          height: minCanvasHeight\n        });\n\n        minCanvasWidth = _getAdjustedSizes.width;\n        minCanvasHeight = _getAdjustedSizes.height;\n        canvasData.minWidth = minCanvasWidth;\n        canvasData.minHeight = minCanvasHeight;\n        canvasData.maxWidth = Infinity;\n        canvasData.maxHeight = Infinity;\n      }\n\n      if (positionLimited) {\n        if (viewMode > (cropped ? 0 : 1)) {\n          var newCanvasLeft = containerData.width - canvasData.width;\n          var newCanvasTop = containerData.height - canvasData.height;\n          canvasData.minLeft = Math.min(0, newCanvasLeft);\n          canvasData.minTop = Math.min(0, newCanvasTop);\n          canvasData.maxLeft = Math.max(0, newCanvasLeft);\n          canvasData.maxTop = Math.max(0, newCanvasTop);\n\n          if (cropped && this.limited) {\n            canvasData.minLeft = Math.min(cropBoxData.left, cropBoxData.left + (cropBoxData.width - canvasData.width));\n            canvasData.minTop = Math.min(cropBoxData.top, cropBoxData.top + (cropBoxData.height - canvasData.height));\n            canvasData.maxLeft = cropBoxData.left;\n            canvasData.maxTop = cropBoxData.top;\n\n            if (viewMode === 2) {\n              if (canvasData.width >= containerData.width) {\n                canvasData.minLeft = Math.min(0, newCanvasLeft);\n                canvasData.maxLeft = Math.max(0, newCanvasLeft);\n              }\n\n              if (canvasData.height >= containerData.height) {\n                canvasData.minTop = Math.min(0, newCanvasTop);\n                canvasData.maxTop = Math.max(0, newCanvasTop);\n              }\n            }\n          }\n        } else {\n          canvasData.minLeft = -canvasData.width;\n          canvasData.minTop = -canvasData.height;\n          canvasData.maxLeft = containerData.width;\n          canvasData.maxTop = containerData.height;\n        }\n      }\n    },\n    renderCanvas: function renderCanvas(changed, transformed) {\n      var canvasData = this.canvasData,\n          imageData = this.imageData;\n\n      if (transformed) {\n        var _getRotatedSizes = getRotatedSizes({\n          width: imageData.naturalWidth * Math.abs(imageData.scaleX || 1),\n          height: imageData.naturalHeight * Math.abs(imageData.scaleY || 1),\n          degree: imageData.rotate || 0\n        }),\n            naturalWidth = _getRotatedSizes.width,\n            naturalHeight = _getRotatedSizes.height;\n\n        var width = canvasData.width * (naturalWidth / canvasData.naturalWidth);\n        var height = canvasData.height * (naturalHeight / canvasData.naturalHeight);\n        canvasData.left -= (width - canvasData.width) / 2;\n        canvasData.top -= (height - canvasData.height) / 2;\n        canvasData.width = width;\n        canvasData.height = height;\n        canvasData.aspectRatio = naturalWidth / naturalHeight;\n        canvasData.naturalWidth = naturalWidth;\n        canvasData.naturalHeight = naturalHeight;\n        this.limitCanvas(true, false);\n      }\n\n      if (canvasData.width > canvasData.maxWidth || canvasData.width < canvasData.minWidth) {\n        canvasData.left = canvasData.oldLeft;\n      }\n\n      if (canvasData.height > canvasData.maxHeight || canvasData.height < canvasData.minHeight) {\n        canvasData.top = canvasData.oldTop;\n      }\n\n      canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);\n      canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);\n      this.limitCanvas(false, true);\n      canvasData.left = Math.min(Math.max(canvasData.left, canvasData.minLeft), canvasData.maxLeft);\n      canvasData.top = Math.min(Math.max(canvasData.top, canvasData.minTop), canvasData.maxTop);\n      canvasData.oldLeft = canvasData.left;\n      canvasData.oldTop = canvasData.top;\n      setStyle(this.canvas, assign({\n        width: canvasData.width,\n        height: canvasData.height\n      }, getTransforms({\n        translateX: canvasData.left,\n        translateY: canvasData.top\n      })));\n      this.renderImage(changed);\n\n      if (this.cropped && this.limited) {\n        this.limitCropBox(true, true);\n      }\n    },\n    renderImage: function renderImage(changed) {\n      var canvasData = this.canvasData,\n          imageData = this.imageData;\n      var width = imageData.naturalWidth * (canvasData.width / canvasData.naturalWidth);\n      var height = imageData.naturalHeight * (canvasData.height / canvasData.naturalHeight);\n      assign(imageData, {\n        width: width,\n        height: height,\n        left: (canvasData.width - width) / 2,\n        top: (canvasData.height - height) / 2\n      });\n      setStyle(this.image, assign({\n        width: imageData.width,\n        height: imageData.height\n      }, getTransforms(assign({\n        translateX: imageData.left,\n        translateY: imageData.top\n      }, imageData))));\n\n      if (changed) {\n        this.output();\n      }\n    },\n    initCropBox: function initCropBox() {\n      var options = this.options,\n          canvasData = this.canvasData;\n      var aspectRatio = options.aspectRatio || options.initialAspectRatio;\n      var autoCropArea = Number(options.autoCropArea) || 0.8;\n      var cropBoxData = {\n        width: canvasData.width,\n        height: canvasData.height\n      };\n\n      if (aspectRatio) {\n        if (canvasData.height * aspectRatio > canvasData.width) {\n          cropBoxData.height = cropBoxData.width / aspectRatio;\n        } else {\n          cropBoxData.width = cropBoxData.height * aspectRatio;\n        }\n      }\n\n      this.cropBoxData = cropBoxData;\n      this.limitCropBox(true, true); // Initialize auto crop area\n\n      cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n      cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight); // The width/height of auto crop area must large than \"minWidth/Height\"\n\n      cropBoxData.width = Math.max(cropBoxData.minWidth, cropBoxData.width * autoCropArea);\n      cropBoxData.height = Math.max(cropBoxData.minHeight, cropBoxData.height * autoCropArea);\n      cropBoxData.left = canvasData.left + (canvasData.width - cropBoxData.width) / 2;\n      cropBoxData.top = canvasData.top + (canvasData.height - cropBoxData.height) / 2;\n      cropBoxData.oldLeft = cropBoxData.left;\n      cropBoxData.oldTop = cropBoxData.top;\n      this.initialCropBoxData = assign({}, cropBoxData);\n    },\n    limitCropBox: function limitCropBox(sizeLimited, positionLimited) {\n      var options = this.options,\n          containerData = this.containerData,\n          canvasData = this.canvasData,\n          cropBoxData = this.cropBoxData,\n          limited = this.limited;\n      var aspectRatio = options.aspectRatio;\n\n      if (sizeLimited) {\n        var minCropBoxWidth = Number(options.minCropBoxWidth) || 0;\n        var minCropBoxHeight = Number(options.minCropBoxHeight) || 0;\n        var maxCropBoxWidth = limited ? Math.min(containerData.width, canvasData.width, canvasData.width + canvasData.left, containerData.width - canvasData.left) : containerData.width;\n        var maxCropBoxHeight = limited ? Math.min(containerData.height, canvasData.height, canvasData.height + canvasData.top, containerData.height - canvasData.top) : containerData.height; // The min/maxCropBoxWidth/Height must be less than container's width/height\n\n        minCropBoxWidth = Math.min(minCropBoxWidth, containerData.width);\n        minCropBoxHeight = Math.min(minCropBoxHeight, containerData.height);\n\n        if (aspectRatio) {\n          if (minCropBoxWidth && minCropBoxHeight) {\n            if (minCropBoxHeight * aspectRatio > minCropBoxWidth) {\n              minCropBoxHeight = minCropBoxWidth / aspectRatio;\n            } else {\n              minCropBoxWidth = minCropBoxHeight * aspectRatio;\n            }\n          } else if (minCropBoxWidth) {\n            minCropBoxHeight = minCropBoxWidth / aspectRatio;\n          } else if (minCropBoxHeight) {\n            minCropBoxWidth = minCropBoxHeight * aspectRatio;\n          }\n\n          if (maxCropBoxHeight * aspectRatio > maxCropBoxWidth) {\n            maxCropBoxHeight = maxCropBoxWidth / aspectRatio;\n          } else {\n            maxCropBoxWidth = maxCropBoxHeight * aspectRatio;\n          }\n        } // The minWidth/Height must be less than maxWidth/Height\n\n\n        cropBoxData.minWidth = Math.min(minCropBoxWidth, maxCropBoxWidth);\n        cropBoxData.minHeight = Math.min(minCropBoxHeight, maxCropBoxHeight);\n        cropBoxData.maxWidth = maxCropBoxWidth;\n        cropBoxData.maxHeight = maxCropBoxHeight;\n      }\n\n      if (positionLimited) {\n        if (limited) {\n          cropBoxData.minLeft = Math.max(0, canvasData.left);\n          cropBoxData.minTop = Math.max(0, canvasData.top);\n          cropBoxData.maxLeft = Math.min(containerData.width, canvasData.left + canvasData.width) - cropBoxData.width;\n          cropBoxData.maxTop = Math.min(containerData.height, canvasData.top + canvasData.height) - cropBoxData.height;\n        } else {\n          cropBoxData.minLeft = 0;\n          cropBoxData.minTop = 0;\n          cropBoxData.maxLeft = containerData.width - cropBoxData.width;\n          cropBoxData.maxTop = containerData.height - cropBoxData.height;\n        }\n      }\n    },\n    renderCropBox: function renderCropBox() {\n      var options = this.options,\n          containerData = this.containerData,\n          cropBoxData = this.cropBoxData;\n\n      if (cropBoxData.width > cropBoxData.maxWidth || cropBoxData.width < cropBoxData.minWidth) {\n        cropBoxData.left = cropBoxData.oldLeft;\n      }\n\n      if (cropBoxData.height > cropBoxData.maxHeight || cropBoxData.height < cropBoxData.minHeight) {\n        cropBoxData.top = cropBoxData.oldTop;\n      }\n\n      cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n      cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight);\n      this.limitCropBox(false, true);\n      cropBoxData.left = Math.min(Math.max(cropBoxData.left, cropBoxData.minLeft), cropBoxData.maxLeft);\n      cropBoxData.top = Math.min(Math.max(cropBoxData.top, cropBoxData.minTop), cropBoxData.maxTop);\n      cropBoxData.oldLeft = cropBoxData.left;\n      cropBoxData.oldTop = cropBoxData.top;\n\n      if (options.movable && options.cropBoxMovable) {\n        // Turn to move the canvas when the crop box is equal to the container\n        setData(this.face, DATA_ACTION, cropBoxData.width >= containerData.width && cropBoxData.height >= containerData.height ? ACTION_MOVE : ACTION_ALL);\n      }\n\n      setStyle(this.cropBox, assign({\n        width: cropBoxData.width,\n        height: cropBoxData.height\n      }, getTransforms({\n        translateX: cropBoxData.left,\n        translateY: cropBoxData.top\n      })));\n\n      if (this.cropped && this.limited) {\n        this.limitCanvas(true, true);\n      }\n\n      if (!this.disabled) {\n        this.output();\n      }\n    },\n    output: function output() {\n      this.preview();\n      dispatchEvent(this.element, EVENT_CROP, this.getData());\n    }\n  };\n\n  var preview = {\n    initPreview: function initPreview() {\n      var element = this.element,\n          crossOrigin = this.crossOrigin;\n      var preview = this.options.preview;\n      var url = crossOrigin ? this.crossOriginUrl : this.url;\n      var alt = element.alt || 'The image to preview';\n      var image = document.createElement('img');\n\n      if (crossOrigin) {\n        image.crossOrigin = crossOrigin;\n      }\n\n      image.src = url;\n      image.alt = alt;\n      this.viewBox.appendChild(image);\n      this.viewBoxImage = image;\n\n      if (!preview) {\n        return;\n      }\n\n      var previews = preview;\n\n      if (typeof preview === 'string') {\n        previews = element.ownerDocument.querySelectorAll(preview);\n      } else if (preview.querySelector) {\n        previews = [preview];\n      }\n\n      this.previews = previews;\n      forEach(previews, function (el) {\n        var img = document.createElement('img'); // Save the original size for recover\n\n        setData(el, DATA_PREVIEW, {\n          width: el.offsetWidth,\n          height: el.offsetHeight,\n          html: el.innerHTML\n        });\n\n        if (crossOrigin) {\n          img.crossOrigin = crossOrigin;\n        }\n\n        img.src = url;\n        img.alt = alt;\n        /**\n         * Override img element styles\n         * Add `display:block` to avoid margin top issue\n         * Add `height:auto` to override `height` attribute on IE8\n         * (Occur only when margin-top <= -height)\n         */\n\n        img.style.cssText = 'display:block;' + 'width:100%;' + 'height:auto;' + 'min-width:0!important;' + 'min-height:0!important;' + 'max-width:none!important;' + 'max-height:none!important;' + 'image-orientation:0deg!important;\"';\n        el.innerHTML = '';\n        el.appendChild(img);\n      });\n    },\n    resetPreview: function resetPreview() {\n      forEach(this.previews, function (element) {\n        var data = getData(element, DATA_PREVIEW);\n        setStyle(element, {\n          width: data.width,\n          height: data.height\n        });\n        element.innerHTML = data.html;\n        removeData(element, DATA_PREVIEW);\n      });\n    },\n    preview: function preview() {\n      var imageData = this.imageData,\n          canvasData = this.canvasData,\n          cropBoxData = this.cropBoxData;\n      var cropBoxWidth = cropBoxData.width,\n          cropBoxHeight = cropBoxData.height;\n      var width = imageData.width,\n          height = imageData.height;\n      var left = cropBoxData.left - canvasData.left - imageData.left;\n      var top = cropBoxData.top - canvasData.top - imageData.top;\n\n      if (!this.cropped || this.disabled) {\n        return;\n      }\n\n      setStyle(this.viewBoxImage, assign({\n        width: width,\n        height: height\n      }, getTransforms(assign({\n        translateX: -left,\n        translateY: -top\n      }, imageData))));\n      forEach(this.previews, function (element) {\n        var data = getData(element, DATA_PREVIEW);\n        var originalWidth = data.width;\n        var originalHeight = data.height;\n        var newWidth = originalWidth;\n        var newHeight = originalHeight;\n        var ratio = 1;\n\n        if (cropBoxWidth) {\n          ratio = originalWidth / cropBoxWidth;\n          newHeight = cropBoxHeight * ratio;\n        }\n\n        if (cropBoxHeight && newHeight > originalHeight) {\n          ratio = originalHeight / cropBoxHeight;\n          newWidth = cropBoxWidth * ratio;\n          newHeight = originalHeight;\n        }\n\n        setStyle(element, {\n          width: newWidth,\n          height: newHeight\n        });\n        setStyle(element.getElementsByTagName('img')[0], assign({\n          width: width * ratio,\n          height: height * ratio\n        }, getTransforms(assign({\n          translateX: -left * ratio,\n          translateY: -top * ratio\n        }, imageData))));\n      });\n    }\n  };\n\n  var events = {\n    bind: function bind() {\n      var element = this.element,\n          options = this.options,\n          cropper = this.cropper;\n\n      if (isFunction(options.cropstart)) {\n        addListener(element, EVENT_CROP_START, options.cropstart);\n      }\n\n      if (isFunction(options.cropmove)) {\n        addListener(element, EVENT_CROP_MOVE, options.cropmove);\n      }\n\n      if (isFunction(options.cropend)) {\n        addListener(element, EVENT_CROP_END, options.cropend);\n      }\n\n      if (isFunction(options.crop)) {\n        addListener(element, EVENT_CROP, options.crop);\n      }\n\n      if (isFunction(options.zoom)) {\n        addListener(element, EVENT_ZOOM, options.zoom);\n      }\n\n      addListener(cropper, EVENT_POINTER_DOWN, this.onCropStart = this.cropStart.bind(this));\n\n      if (options.zoomable && options.zoomOnWheel) {\n        addListener(cropper, EVENT_WHEEL, this.onWheel = this.wheel.bind(this), {\n          passive: false,\n          capture: true\n        });\n      }\n\n      if (options.toggleDragModeOnDblclick) {\n        addListener(cropper, EVENT_DBLCLICK, this.onDblclick = this.dblclick.bind(this));\n      }\n\n      addListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove = this.cropMove.bind(this));\n      addListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd = this.cropEnd.bind(this));\n\n      if (options.responsive) {\n        addListener(window, EVENT_RESIZE, this.onResize = this.resize.bind(this));\n      }\n    },\n    unbind: function unbind() {\n      var element = this.element,\n          options = this.options,\n          cropper = this.cropper;\n\n      if (isFunction(options.cropstart)) {\n        removeListener(element, EVENT_CROP_START, options.cropstart);\n      }\n\n      if (isFunction(options.cropmove)) {\n        removeListener(element, EVENT_CROP_MOVE, options.cropmove);\n      }\n\n      if (isFunction(options.cropend)) {\n        removeListener(element, EVENT_CROP_END, options.cropend);\n      }\n\n      if (isFunction(options.crop)) {\n        removeListener(element, EVENT_CROP, options.crop);\n      }\n\n      if (isFunction(options.zoom)) {\n        removeListener(element, EVENT_ZOOM, options.zoom);\n      }\n\n      removeListener(cropper, EVENT_POINTER_DOWN, this.onCropStart);\n\n      if (options.zoomable && options.zoomOnWheel) {\n        removeListener(cropper, EVENT_WHEEL, this.onWheel, {\n          passive: false,\n          capture: true\n        });\n      }\n\n      if (options.toggleDragModeOnDblclick) {\n        removeListener(cropper, EVENT_DBLCLICK, this.onDblclick);\n      }\n\n      removeListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove);\n      removeListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd);\n\n      if (options.responsive) {\n        removeListener(window, EVENT_RESIZE, this.onResize);\n      }\n    }\n  };\n\n  var handlers = {\n    resize: function resize() {\n      if (this.disabled) {\n        return;\n      }\n\n      var options = this.options,\n          container = this.container,\n          containerData = this.containerData;\n      var ratioX = container.offsetWidth / containerData.width;\n      var ratioY = container.offsetHeight / containerData.height;\n      var ratio = Math.abs(ratioX - 1) > Math.abs(ratioY - 1) ? ratioX : ratioY; // Resize when width changed or height changed\n\n      if (ratio !== 1) {\n        var canvasData;\n        var cropBoxData;\n\n        if (options.restore) {\n          canvasData = this.getCanvasData();\n          cropBoxData = this.getCropBoxData();\n        }\n\n        this.render();\n\n        if (options.restore) {\n          this.setCanvasData(forEach(canvasData, function (n, i) {\n            canvasData[i] = n * ratio;\n          }));\n          this.setCropBoxData(forEach(cropBoxData, function (n, i) {\n            cropBoxData[i] = n * ratio;\n          }));\n        }\n      }\n    },\n    dblclick: function dblclick() {\n      if (this.disabled || this.options.dragMode === DRAG_MODE_NONE) {\n        return;\n      }\n\n      this.setDragMode(hasClass(this.dragBox, CLASS_CROP) ? DRAG_MODE_MOVE : DRAG_MODE_CROP);\n    },\n    wheel: function wheel(event) {\n      var _this = this;\n\n      var ratio = Number(this.options.wheelZoomRatio) || 0.1;\n      var delta = 1;\n\n      if (this.disabled) {\n        return;\n      }\n\n      event.preventDefault(); // Limit wheel speed to prevent zoom too fast (#21)\n\n      if (this.wheeling) {\n        return;\n      }\n\n      this.wheeling = true;\n      setTimeout(function () {\n        _this.wheeling = false;\n      }, 50);\n\n      if (event.deltaY) {\n        delta = event.deltaY > 0 ? 1 : -1;\n      } else if (event.wheelDelta) {\n        delta = -event.wheelDelta / 120;\n      } else if (event.detail) {\n        delta = event.detail > 0 ? 1 : -1;\n      }\n\n      this.zoom(-delta * ratio, event);\n    },\n    cropStart: function cropStart(event) {\n      var buttons = event.buttons,\n          button = event.button;\n\n      if (this.disabled // Handle mouse event and pointer event and ignore touch event\n      || (event.type === 'mousedown' || event.type === 'pointerdown' && event.pointerType === 'mouse') && ( // No primary button (Usually the left button)\n      isNumber(buttons) && buttons !== 1 || isNumber(button) && button !== 0 // Open context menu\n      || event.ctrlKey)) {\n        return;\n      }\n\n      var options = this.options,\n          pointers = this.pointers;\n      var action;\n\n      if (event.changedTouches) {\n        // Handle touch event\n        forEach(event.changedTouches, function (touch) {\n          pointers[touch.identifier] = getPointer(touch);\n        });\n      } else {\n        // Handle mouse event and pointer event\n        pointers[event.pointerId || 0] = getPointer(event);\n      }\n\n      if (Object.keys(pointers).length > 1 && options.zoomable && options.zoomOnTouch) {\n        action = ACTION_ZOOM;\n      } else {\n        action = getData(event.target, DATA_ACTION);\n      }\n\n      if (!REGEXP_ACTIONS.test(action)) {\n        return;\n      }\n\n      if (dispatchEvent(this.element, EVENT_CROP_START, {\n        originalEvent: event,\n        action: action\n      }) === false) {\n        return;\n      } // This line is required for preventing page zooming in iOS browsers\n\n\n      event.preventDefault();\n      this.action = action;\n      this.cropping = false;\n\n      if (action === ACTION_CROP) {\n        this.cropping = true;\n        addClass(this.dragBox, CLASS_MODAL);\n      }\n    },\n    cropMove: function cropMove(event) {\n      var action = this.action;\n\n      if (this.disabled || !action) {\n        return;\n      }\n\n      var pointers = this.pointers;\n      event.preventDefault();\n\n      if (dispatchEvent(this.element, EVENT_CROP_MOVE, {\n        originalEvent: event,\n        action: action\n      }) === false) {\n        return;\n      }\n\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          // The first parameter should not be undefined (#432)\n          assign(pointers[touch.identifier] || {}, getPointer(touch, true));\n        });\n      } else {\n        assign(pointers[event.pointerId || 0] || {}, getPointer(event, true));\n      }\n\n      this.change(event);\n    },\n    cropEnd: function cropEnd(event) {\n      if (this.disabled) {\n        return;\n      }\n\n      var action = this.action,\n          pointers = this.pointers;\n\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          delete pointers[touch.identifier];\n        });\n      } else {\n        delete pointers[event.pointerId || 0];\n      }\n\n      if (!action) {\n        return;\n      }\n\n      event.preventDefault();\n\n      if (!Object.keys(pointers).length) {\n        this.action = '';\n      }\n\n      if (this.cropping) {\n        this.cropping = false;\n        toggleClass(this.dragBox, CLASS_MODAL, this.cropped && this.options.modal);\n      }\n\n      dispatchEvent(this.element, EVENT_CROP_END, {\n        originalEvent: event,\n        action: action\n      });\n    }\n  };\n\n  var change = {\n    change: function change(event) {\n      var options = this.options,\n          canvasData = this.canvasData,\n          containerData = this.containerData,\n          cropBoxData = this.cropBoxData,\n          pointers = this.pointers;\n      var action = this.action;\n      var aspectRatio = options.aspectRatio;\n      var left = cropBoxData.left,\n          top = cropBoxData.top,\n          width = cropBoxData.width,\n          height = cropBoxData.height;\n      var right = left + width;\n      var bottom = top + height;\n      var minLeft = 0;\n      var minTop = 0;\n      var maxWidth = containerData.width;\n      var maxHeight = containerData.height;\n      var renderable = true;\n      var offset; // Locking aspect ratio in \"free mode\" by holding shift key\n\n      if (!aspectRatio && event.shiftKey) {\n        aspectRatio = width && height ? width / height : 1;\n      }\n\n      if (this.limited) {\n        minLeft = cropBoxData.minLeft;\n        minTop = cropBoxData.minTop;\n        maxWidth = minLeft + Math.min(containerData.width, canvasData.width, canvasData.left + canvasData.width);\n        maxHeight = minTop + Math.min(containerData.height, canvasData.height, canvasData.top + canvasData.height);\n      }\n\n      var pointer = pointers[Object.keys(pointers)[0]];\n      var range = {\n        x: pointer.endX - pointer.startX,\n        y: pointer.endY - pointer.startY\n      };\n\n      var check = function check(side) {\n        switch (side) {\n          case ACTION_EAST:\n            if (right + range.x > maxWidth) {\n              range.x = maxWidth - right;\n            }\n\n            break;\n\n          case ACTION_WEST:\n            if (left + range.x < minLeft) {\n              range.x = minLeft - left;\n            }\n\n            break;\n\n          case ACTION_NORTH:\n            if (top + range.y < minTop) {\n              range.y = minTop - top;\n            }\n\n            break;\n\n          case ACTION_SOUTH:\n            if (bottom + range.y > maxHeight) {\n              range.y = maxHeight - bottom;\n            }\n\n            break;\n        }\n      };\n\n      switch (action) {\n        // Move crop box\n        case ACTION_ALL:\n          left += range.x;\n          top += range.y;\n          break;\n        // Resize crop box\n\n        case ACTION_EAST:\n          if (range.x >= 0 && (right >= maxWidth || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_EAST);\n          width += range.x;\n\n          if (width < 0) {\n            action = ACTION_WEST;\n            width = -width;\n            left -= width;\n          }\n\n          if (aspectRatio) {\n            height = width / aspectRatio;\n            top += (cropBoxData.height - height) / 2;\n          }\n\n          break;\n\n        case ACTION_NORTH:\n          if (range.y <= 0 && (top <= minTop || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_NORTH);\n          height -= range.y;\n          top += range.y;\n\n          if (height < 0) {\n            action = ACTION_SOUTH;\n            height = -height;\n            top -= height;\n          }\n\n          if (aspectRatio) {\n            width = height * aspectRatio;\n            left += (cropBoxData.width - width) / 2;\n          }\n\n          break;\n\n        case ACTION_WEST:\n          if (range.x <= 0 && (left <= minLeft || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_WEST);\n          width -= range.x;\n          left += range.x;\n\n          if (width < 0) {\n            action = ACTION_EAST;\n            width = -width;\n            left -= width;\n          }\n\n          if (aspectRatio) {\n            height = width / aspectRatio;\n            top += (cropBoxData.height - height) / 2;\n          }\n\n          break;\n\n        case ACTION_SOUTH:\n          if (range.y >= 0 && (bottom >= maxHeight || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_SOUTH);\n          height += range.y;\n\n          if (height < 0) {\n            action = ACTION_NORTH;\n            height = -height;\n            top -= height;\n          }\n\n          if (aspectRatio) {\n            width = height * aspectRatio;\n            left += (cropBoxData.width - width) / 2;\n          }\n\n          break;\n\n        case ACTION_NORTH_EAST:\n          if (aspectRatio) {\n            if (range.y <= 0 && (top <= minTop || right >= maxWidth)) {\n              renderable = false;\n              break;\n            }\n\n            check(ACTION_NORTH);\n            height -= range.y;\n            top += range.y;\n            width = height * aspectRatio;\n          } else {\n            check(ACTION_NORTH);\n            check(ACTION_EAST);\n\n            if (range.x >= 0) {\n              if (right < maxWidth) {\n                width += range.x;\n              } else if (range.y <= 0 && top <= minTop) {\n                renderable = false;\n              }\n            } else {\n              width += range.x;\n            }\n\n            if (range.y <= 0) {\n              if (top > minTop) {\n                height -= range.y;\n                top += range.y;\n              }\n            } else {\n              height -= range.y;\n              top += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_SOUTH_WEST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_NORTH_WEST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_SOUTH_EAST;\n            height = -height;\n            top -= height;\n          }\n\n          break;\n\n        case ACTION_NORTH_WEST:\n          if (aspectRatio) {\n            if (range.y <= 0 && (top <= minTop || left <= minLeft)) {\n              renderable = false;\n              break;\n            }\n\n            check(ACTION_NORTH);\n            height -= range.y;\n            top += range.y;\n            width = height * aspectRatio;\n            left += cropBoxData.width - width;\n          } else {\n            check(ACTION_NORTH);\n            check(ACTION_WEST);\n\n            if (range.x <= 0) {\n              if (left > minLeft) {\n                width -= range.x;\n                left += range.x;\n              } else if (range.y <= 0 && top <= minTop) {\n                renderable = false;\n              }\n            } else {\n              width -= range.x;\n              left += range.x;\n            }\n\n            if (range.y <= 0) {\n              if (top > minTop) {\n                height -= range.y;\n                top += range.y;\n              }\n            } else {\n              height -= range.y;\n              top += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_SOUTH_EAST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_NORTH_EAST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_SOUTH_WEST;\n            height = -height;\n            top -= height;\n          }\n\n          break;\n\n        case ACTION_SOUTH_WEST:\n          if (aspectRatio) {\n            if (range.x <= 0 && (left <= minLeft || bottom >= maxHeight)) {\n              renderable = false;\n              break;\n            }\n\n            check(ACTION_WEST);\n            width -= range.x;\n            left += range.x;\n            height = width / aspectRatio;\n          } else {\n            check(ACTION_SOUTH);\n            check(ACTION_WEST);\n\n            if (range.x <= 0) {\n              if (left > minLeft) {\n                width -= range.x;\n                left += range.x;\n              } else if (range.y >= 0 && bottom >= maxHeight) {\n                renderable = false;\n              }\n            } else {\n              width -= range.x;\n              left += range.x;\n            }\n\n            if (range.y >= 0) {\n              if (bottom < maxHeight) {\n                height += range.y;\n              }\n            } else {\n              height += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_NORTH_EAST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_SOUTH_EAST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_NORTH_WEST;\n            height = -height;\n            top -= height;\n          }\n\n          break;\n\n        case ACTION_SOUTH_EAST:\n          if (aspectRatio) {\n            if (range.x >= 0 && (right >= maxWidth || bottom >= maxHeight)) {\n              renderable = false;\n              break;\n            }\n\n            check(ACTION_EAST);\n            width += range.x;\n            height = width / aspectRatio;\n          } else {\n            check(ACTION_SOUTH);\n            check(ACTION_EAST);\n\n            if (range.x >= 0) {\n              if (right < maxWidth) {\n                width += range.x;\n              } else if (range.y >= 0 && bottom >= maxHeight) {\n                renderable = false;\n              }\n            } else {\n              width += range.x;\n            }\n\n            if (range.y >= 0) {\n              if (bottom < maxHeight) {\n                height += range.y;\n              }\n            } else {\n              height += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_NORTH_WEST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_SOUTH_WEST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_NORTH_EAST;\n            height = -height;\n            top -= height;\n          }\n\n          break;\n        // Move canvas\n\n        case ACTION_MOVE:\n          this.move(range.x, range.y);\n          renderable = false;\n          break;\n        // Zoom canvas\n\n        case ACTION_ZOOM:\n          this.zoom(getMaxZoomRatio(pointers), event);\n          renderable = false;\n          break;\n        // Create crop box\n\n        case ACTION_CROP:\n          if (!range.x || !range.y) {\n            renderable = false;\n            break;\n          }\n\n          offset = getOffset(this.cropper);\n          left = pointer.startX - offset.left;\n          top = pointer.startY - offset.top;\n          width = cropBoxData.minWidth;\n          height = cropBoxData.minHeight;\n\n          if (range.x > 0) {\n            action = range.y > 0 ? ACTION_SOUTH_EAST : ACTION_NORTH_EAST;\n          } else if (range.x < 0) {\n            left -= width;\n            action = range.y > 0 ? ACTION_SOUTH_WEST : ACTION_NORTH_WEST;\n          }\n\n          if (range.y < 0) {\n            top -= height;\n          } // Show the crop box if is hidden\n\n\n          if (!this.cropped) {\n            removeClass(this.cropBox, CLASS_HIDDEN);\n            this.cropped = true;\n\n            if (this.limited) {\n              this.limitCropBox(true, true);\n            }\n          }\n\n          break;\n      }\n\n      if (renderable) {\n        cropBoxData.width = width;\n        cropBoxData.height = height;\n        cropBoxData.left = left;\n        cropBoxData.top = top;\n        this.action = action;\n        this.renderCropBox();\n      } // Override\n\n\n      forEach(pointers, function (p) {\n        p.startX = p.endX;\n        p.startY = p.endY;\n      });\n    }\n  };\n\n  var methods = {\n    // Show the crop box manually\n    crop: function crop() {\n      if (this.ready && !this.cropped && !this.disabled) {\n        this.cropped = true;\n        this.limitCropBox(true, true);\n\n        if (this.options.modal) {\n          addClass(this.dragBox, CLASS_MODAL);\n        }\n\n        removeClass(this.cropBox, CLASS_HIDDEN);\n        this.setCropBoxData(this.initialCropBoxData);\n      }\n\n      return this;\n    },\n    // Reset the image and crop box to their initial states\n    reset: function reset() {\n      if (this.ready && !this.disabled) {\n        this.imageData = assign({}, this.initialImageData);\n        this.canvasData = assign({}, this.initialCanvasData);\n        this.cropBoxData = assign({}, this.initialCropBoxData);\n        this.renderCanvas();\n\n        if (this.cropped) {\n          this.renderCropBox();\n        }\n      }\n\n      return this;\n    },\n    // Clear the crop box\n    clear: function clear() {\n      if (this.cropped && !this.disabled) {\n        assign(this.cropBoxData, {\n          left: 0,\n          top: 0,\n          width: 0,\n          height: 0\n        });\n        this.cropped = false;\n        this.renderCropBox();\n        this.limitCanvas(true, true); // Render canvas after crop box rendered\n\n        this.renderCanvas();\n        removeClass(this.dragBox, CLASS_MODAL);\n        addClass(this.cropBox, CLASS_HIDDEN);\n      }\n\n      return this;\n    },\n\n    /**\n     * Replace the image's src and rebuild the cropper\n     * @param {string} url - The new URL.\n     * @param {boolean} [hasSameSize] - Indicate if the new image has the same size as the old one.\n     * @returns {Cropper} this\n     */\n    replace: function replace(url) {\n      var hasSameSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!this.disabled && url) {\n        if (this.isImg) {\n          this.element.src = url;\n        }\n\n        if (hasSameSize) {\n          this.url = url;\n          this.image.src = url;\n\n          if (this.ready) {\n            this.viewBoxImage.src = url;\n            forEach(this.previews, function (element) {\n              element.getElementsByTagName('img')[0].src = url;\n            });\n          }\n        } else {\n          if (this.isImg) {\n            this.replaced = true;\n          }\n\n          this.options.data = null;\n          this.uncreate();\n          this.load(url);\n        }\n      }\n\n      return this;\n    },\n    // Enable (unfreeze) the cropper\n    enable: function enable() {\n      if (this.ready && this.disabled) {\n        this.disabled = false;\n        removeClass(this.cropper, CLASS_DISABLED);\n      }\n\n      return this;\n    },\n    // Disable (freeze) the cropper\n    disable: function disable() {\n      if (this.ready && !this.disabled) {\n        this.disabled = true;\n        addClass(this.cropper, CLASS_DISABLED);\n      }\n\n      return this;\n    },\n\n    /**\n     * Destroy the cropper and remove the instance from the image\n     * @returns {Cropper} this\n     */\n    destroy: function destroy() {\n      var element = this.element;\n\n      if (!element[NAMESPACE]) {\n        return this;\n      }\n\n      element[NAMESPACE] = undefined;\n\n      if (this.isImg && this.replaced) {\n        element.src = this.originalUrl;\n      }\n\n      this.uncreate();\n      return this;\n    },\n\n    /**\n     * Move the canvas with relative offsets\n     * @param {number} offsetX - The relative offset distance on the x-axis.\n     * @param {number} [offsetY=offsetX] - The relative offset distance on the y-axis.\n     * @returns {Cropper} this\n     */\n    move: function move(offsetX) {\n      var offsetY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : offsetX;\n      var _this$canvasData = this.canvasData,\n          left = _this$canvasData.left,\n          top = _this$canvasData.top;\n      return this.moveTo(isUndefined(offsetX) ? offsetX : left + Number(offsetX), isUndefined(offsetY) ? offsetY : top + Number(offsetY));\n    },\n\n    /**\n     * Move the canvas to an absolute point\n     * @param {number} x - The x-axis coordinate.\n     * @param {number} [y=x] - The y-axis coordinate.\n     * @returns {Cropper} this\n     */\n    moveTo: function moveTo(x) {\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n      var canvasData = this.canvasData;\n      var changed = false;\n      x = Number(x);\n      y = Number(y);\n\n      if (this.ready && !this.disabled && this.options.movable) {\n        if (isNumber(x)) {\n          canvasData.left = x;\n          changed = true;\n        }\n\n        if (isNumber(y)) {\n          canvasData.top = y;\n          changed = true;\n        }\n\n        if (changed) {\n          this.renderCanvas(true);\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Zoom the canvas with a relative ratio\n     * @param {number} ratio - The target ratio.\n     * @param {Event} _originalEvent - The original event if any.\n     * @returns {Cropper} this\n     */\n    zoom: function zoom(ratio, _originalEvent) {\n      var canvasData = this.canvasData;\n      ratio = Number(ratio);\n\n      if (ratio < 0) {\n        ratio = 1 / (1 - ratio);\n      } else {\n        ratio = 1 + ratio;\n      }\n\n      return this.zoomTo(canvasData.width * ratio / canvasData.naturalWidth, null, _originalEvent);\n    },\n\n    /**\n     * Zoom the canvas to an absolute ratio\n     * @param {number} ratio - The target ratio.\n     * @param {Object} pivot - The zoom pivot point coordinate.\n     * @param {Event} _originalEvent - The original event if any.\n     * @returns {Cropper} this\n     */\n    zoomTo: function zoomTo(ratio, pivot, _originalEvent) {\n      var options = this.options,\n          canvasData = this.canvasData;\n      var width = canvasData.width,\n          height = canvasData.height,\n          naturalWidth = canvasData.naturalWidth,\n          naturalHeight = canvasData.naturalHeight;\n      ratio = Number(ratio);\n\n      if (ratio >= 0 && this.ready && !this.disabled && options.zoomable) {\n        var newWidth = naturalWidth * ratio;\n        var newHeight = naturalHeight * ratio;\n\n        if (dispatchEvent(this.element, EVENT_ZOOM, {\n          ratio: ratio,\n          oldRatio: width / naturalWidth,\n          originalEvent: _originalEvent\n        }) === false) {\n          return this;\n        }\n\n        if (_originalEvent) {\n          var pointers = this.pointers;\n          var offset = getOffset(this.cropper);\n          var center = pointers && Object.keys(pointers).length ? getPointersCenter(pointers) : {\n            pageX: _originalEvent.pageX,\n            pageY: _originalEvent.pageY\n          }; // Zoom from the triggering point of the event\n\n          canvasData.left -= (newWidth - width) * ((center.pageX - offset.left - canvasData.left) / width);\n          canvasData.top -= (newHeight - height) * ((center.pageY - offset.top - canvasData.top) / height);\n        } else if (isPlainObject(pivot) && isNumber(pivot.x) && isNumber(pivot.y)) {\n          canvasData.left -= (newWidth - width) * ((pivot.x - canvasData.left) / width);\n          canvasData.top -= (newHeight - height) * ((pivot.y - canvasData.top) / height);\n        } else {\n          // Zoom from the center of the canvas\n          canvasData.left -= (newWidth - width) / 2;\n          canvasData.top -= (newHeight - height) / 2;\n        }\n\n        canvasData.width = newWidth;\n        canvasData.height = newHeight;\n        this.renderCanvas(true);\n      }\n\n      return this;\n    },\n\n    /**\n     * Rotate the canvas with a relative degree\n     * @param {number} degree - The rotate degree.\n     * @returns {Cropper} this\n     */\n    rotate: function rotate(degree) {\n      return this.rotateTo((this.imageData.rotate || 0) + Number(degree));\n    },\n\n    /**\n     * Rotate the canvas to an absolute degree\n     * @param {number} degree - The rotate degree.\n     * @returns {Cropper} this\n     */\n    rotateTo: function rotateTo(degree) {\n      degree = Number(degree);\n\n      if (isNumber(degree) && this.ready && !this.disabled && this.options.rotatable) {\n        this.imageData.rotate = degree % 360;\n        this.renderCanvas(true, true);\n      }\n\n      return this;\n    },\n\n    /**\n     * Scale the image on the x-axis.\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @returns {Cropper} this\n     */\n    scaleX: function scaleX(_scaleX) {\n      var scaleY = this.imageData.scaleY;\n      return this.scale(_scaleX, isNumber(scaleY) ? scaleY : 1);\n    },\n\n    /**\n     * Scale the image on the y-axis.\n     * @param {number} scaleY - The scale ratio on the y-axis.\n     * @returns {Cropper} this\n     */\n    scaleY: function scaleY(_scaleY) {\n      var scaleX = this.imageData.scaleX;\n      return this.scale(isNumber(scaleX) ? scaleX : 1, _scaleY);\n    },\n\n    /**\n     * Scale the image\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.\n     * @returns {Cropper} this\n     */\n    scale: function scale(scaleX) {\n      var scaleY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scaleX;\n      var imageData = this.imageData;\n      var transformed = false;\n      scaleX = Number(scaleX);\n      scaleY = Number(scaleY);\n\n      if (this.ready && !this.disabled && this.options.scalable) {\n        if (isNumber(scaleX)) {\n          imageData.scaleX = scaleX;\n          transformed = true;\n        }\n\n        if (isNumber(scaleY)) {\n          imageData.scaleY = scaleY;\n          transformed = true;\n        }\n\n        if (transformed) {\n          this.renderCanvas(true, true);\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Get the cropped area position and size data (base on the original image)\n     * @param {boolean} [rounded=false] - Indicate if round the data values or not.\n     * @returns {Object} The result cropped data.\n     */\n    getData: function getData() {\n      var rounded = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var options = this.options,\n          imageData = this.imageData,\n          canvasData = this.canvasData,\n          cropBoxData = this.cropBoxData;\n      var data;\n\n      if (this.ready && this.cropped) {\n        data = {\n          x: cropBoxData.left - canvasData.left,\n          y: cropBoxData.top - canvasData.top,\n          width: cropBoxData.width,\n          height: cropBoxData.height\n        };\n        var ratio = imageData.width / imageData.naturalWidth;\n        forEach(data, function (n, i) {\n          data[i] = n / ratio;\n        });\n\n        if (rounded) {\n          // In case rounding off leads to extra 1px in right or bottom border\n          // we should round the top-left corner and the dimension (#343).\n          var bottom = Math.round(data.y + data.height);\n          var right = Math.round(data.x + data.width);\n          data.x = Math.round(data.x);\n          data.y = Math.round(data.y);\n          data.width = right - data.x;\n          data.height = bottom - data.y;\n        }\n      } else {\n        data = {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0\n        };\n      }\n\n      if (options.rotatable) {\n        data.rotate = imageData.rotate || 0;\n      }\n\n      if (options.scalable) {\n        data.scaleX = imageData.scaleX || 1;\n        data.scaleY = imageData.scaleY || 1;\n      }\n\n      return data;\n    },\n\n    /**\n     * Set the cropped area position and size with new data\n     * @param {Object} data - The new data.\n     * @returns {Cropper} this\n     */\n    setData: function setData(data) {\n      var options = this.options,\n          imageData = this.imageData,\n          canvasData = this.canvasData;\n      var cropBoxData = {};\n\n      if (this.ready && !this.disabled && isPlainObject(data)) {\n        var transformed = false;\n\n        if (options.rotatable) {\n          if (isNumber(data.rotate) && data.rotate !== imageData.rotate) {\n            imageData.rotate = data.rotate;\n            transformed = true;\n          }\n        }\n\n        if (options.scalable) {\n          if (isNumber(data.scaleX) && data.scaleX !== imageData.scaleX) {\n            imageData.scaleX = data.scaleX;\n            transformed = true;\n          }\n\n          if (isNumber(data.scaleY) && data.scaleY !== imageData.scaleY) {\n            imageData.scaleY = data.scaleY;\n            transformed = true;\n          }\n        }\n\n        if (transformed) {\n          this.renderCanvas(true, true);\n        }\n\n        var ratio = imageData.width / imageData.naturalWidth;\n\n        if (isNumber(data.x)) {\n          cropBoxData.left = data.x * ratio + canvasData.left;\n        }\n\n        if (isNumber(data.y)) {\n          cropBoxData.top = data.y * ratio + canvasData.top;\n        }\n\n        if (isNumber(data.width)) {\n          cropBoxData.width = data.width * ratio;\n        }\n\n        if (isNumber(data.height)) {\n          cropBoxData.height = data.height * ratio;\n        }\n\n        this.setCropBoxData(cropBoxData);\n      }\n\n      return this;\n    },\n\n    /**\n     * Get the container size data.\n     * @returns {Object} The result container data.\n     */\n    getContainerData: function getContainerData() {\n      return this.ready ? assign({}, this.containerData) : {};\n    },\n\n    /**\n     * Get the image position and size data.\n     * @returns {Object} The result image data.\n     */\n    getImageData: function getImageData() {\n      return this.sized ? assign({}, this.imageData) : {};\n    },\n\n    /**\n     * Get the canvas position and size data.\n     * @returns {Object} The result canvas data.\n     */\n    getCanvasData: function getCanvasData() {\n      var canvasData = this.canvasData;\n      var data = {};\n\n      if (this.ready) {\n        forEach(['left', 'top', 'width', 'height', 'naturalWidth', 'naturalHeight'], function (n) {\n          data[n] = canvasData[n];\n        });\n      }\n\n      return data;\n    },\n\n    /**\n     * Set the canvas position and size with new data.\n     * @param {Object} data - The new canvas data.\n     * @returns {Cropper} this\n     */\n    setCanvasData: function setCanvasData(data) {\n      var canvasData = this.canvasData;\n      var aspectRatio = canvasData.aspectRatio;\n\n      if (this.ready && !this.disabled && isPlainObject(data)) {\n        if (isNumber(data.left)) {\n          canvasData.left = data.left;\n        }\n\n        if (isNumber(data.top)) {\n          canvasData.top = data.top;\n        }\n\n        if (isNumber(data.width)) {\n          canvasData.width = data.width;\n          canvasData.height = data.width / aspectRatio;\n        } else if (isNumber(data.height)) {\n          canvasData.height = data.height;\n          canvasData.width = data.height * aspectRatio;\n        }\n\n        this.renderCanvas(true);\n      }\n\n      return this;\n    },\n\n    /**\n     * Get the crop box position and size data.\n     * @returns {Object} The result crop box data.\n     */\n    getCropBoxData: function getCropBoxData() {\n      var cropBoxData = this.cropBoxData;\n      var data;\n\n      if (this.ready && this.cropped) {\n        data = {\n          left: cropBoxData.left,\n          top: cropBoxData.top,\n          width: cropBoxData.width,\n          height: cropBoxData.height\n        };\n      }\n\n      return data || {};\n    },\n\n    /**\n     * Set the crop box position and size with new data.\n     * @param {Object} data - The new crop box data.\n     * @returns {Cropper} this\n     */\n    setCropBoxData: function setCropBoxData(data) {\n      var cropBoxData = this.cropBoxData;\n      var aspectRatio = this.options.aspectRatio;\n      var widthChanged;\n      var heightChanged;\n\n      if (this.ready && this.cropped && !this.disabled && isPlainObject(data)) {\n        if (isNumber(data.left)) {\n          cropBoxData.left = data.left;\n        }\n\n        if (isNumber(data.top)) {\n          cropBoxData.top = data.top;\n        }\n\n        if (isNumber(data.width) && data.width !== cropBoxData.width) {\n          widthChanged = true;\n          cropBoxData.width = data.width;\n        }\n\n        if (isNumber(data.height) && data.height !== cropBoxData.height) {\n          heightChanged = true;\n          cropBoxData.height = data.height;\n        }\n\n        if (aspectRatio) {\n          if (widthChanged) {\n            cropBoxData.height = cropBoxData.width / aspectRatio;\n          } else if (heightChanged) {\n            cropBoxData.width = cropBoxData.height * aspectRatio;\n          }\n        }\n\n        this.renderCropBox();\n      }\n\n      return this;\n    },\n\n    /**\n     * Get a canvas drawn the cropped image.\n     * @param {Object} [options={}] - The config options.\n     * @returns {HTMLCanvasElement} - The result canvas.\n     */\n    getCroppedCanvas: function getCroppedCanvas() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (!this.ready || !window.HTMLCanvasElement) {\n        return null;\n      }\n\n      var canvasData = this.canvasData;\n      var source = getSourceCanvas(this.image, this.imageData, canvasData, options); // Returns the source canvas if it is not cropped.\n\n      if (!this.cropped) {\n        return source;\n      }\n\n      var _this$getData = this.getData(),\n          initialX = _this$getData.x,\n          initialY = _this$getData.y,\n          initialWidth = _this$getData.width,\n          initialHeight = _this$getData.height;\n\n      var ratio = source.width / Math.floor(canvasData.naturalWidth);\n\n      if (ratio !== 1) {\n        initialX *= ratio;\n        initialY *= ratio;\n        initialWidth *= ratio;\n        initialHeight *= ratio;\n      }\n\n      var aspectRatio = initialWidth / initialHeight;\n      var maxSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: options.maxWidth || Infinity,\n        height: options.maxHeight || Infinity\n      });\n      var minSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: options.minWidth || 0,\n        height: options.minHeight || 0\n      }, 'cover');\n\n      var _getAdjustedSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: options.width || (ratio !== 1 ? source.width : initialWidth),\n        height: options.height || (ratio !== 1 ? source.height : initialHeight)\n      }),\n          width = _getAdjustedSizes.width,\n          height = _getAdjustedSizes.height;\n\n      width = Math.min(maxSizes.width, Math.max(minSizes.width, width));\n      height = Math.min(maxSizes.height, Math.max(minSizes.height, height));\n      var canvas = document.createElement('canvas');\n      var context = canvas.getContext('2d');\n      canvas.width = normalizeDecimalNumber(width);\n      canvas.height = normalizeDecimalNumber(height);\n      context.fillStyle = options.fillColor || 'transparent';\n      context.fillRect(0, 0, width, height);\n      var _options$imageSmoothi = options.imageSmoothingEnabled,\n          imageSmoothingEnabled = _options$imageSmoothi === void 0 ? true : _options$imageSmoothi,\n          imageSmoothingQuality = options.imageSmoothingQuality;\n      context.imageSmoothingEnabled = imageSmoothingEnabled;\n\n      if (imageSmoothingQuality) {\n        context.imageSmoothingQuality = imageSmoothingQuality;\n      } // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D.drawImage\n\n\n      var sourceWidth = source.width;\n      var sourceHeight = source.height; // Source canvas parameters\n\n      var srcX = initialX;\n      var srcY = initialY;\n      var srcWidth;\n      var srcHeight; // Destination canvas parameters\n\n      var dstX;\n      var dstY;\n      var dstWidth;\n      var dstHeight;\n\n      if (srcX <= -initialWidth || srcX > sourceWidth) {\n        srcX = 0;\n        srcWidth = 0;\n        dstX = 0;\n        dstWidth = 0;\n      } else if (srcX <= 0) {\n        dstX = -srcX;\n        srcX = 0;\n        srcWidth = Math.min(sourceWidth, initialWidth + srcX);\n        dstWidth = srcWidth;\n      } else if (srcX <= sourceWidth) {\n        dstX = 0;\n        srcWidth = Math.min(initialWidth, sourceWidth - srcX);\n        dstWidth = srcWidth;\n      }\n\n      if (srcWidth <= 0 || srcY <= -initialHeight || srcY > sourceHeight) {\n        srcY = 0;\n        srcHeight = 0;\n        dstY = 0;\n        dstHeight = 0;\n      } else if (srcY <= 0) {\n        dstY = -srcY;\n        srcY = 0;\n        srcHeight = Math.min(sourceHeight, initialHeight + srcY);\n        dstHeight = srcHeight;\n      } else if (srcY <= sourceHeight) {\n        dstY = 0;\n        srcHeight = Math.min(initialHeight, sourceHeight - srcY);\n        dstHeight = srcHeight;\n      }\n\n      var params = [srcX, srcY, srcWidth, srcHeight]; // Avoid \"IndexSizeError\"\n\n      if (dstWidth > 0 && dstHeight > 0) {\n        var scale = width / initialWidth;\n        params.push(dstX * scale, dstY * scale, dstWidth * scale, dstHeight * scale);\n      } // All the numerical parameters should be integer for `drawImage`\n      // https://github.com/fengyuanchen/cropper/issues/476\n\n\n      context.drawImage.apply(context, [source].concat(_toConsumableArray(params.map(function (param) {\n        return Math.floor(normalizeDecimalNumber(param));\n      }))));\n      return canvas;\n    },\n\n    /**\n     * Change the aspect ratio of the crop box.\n     * @param {number} aspectRatio - The new aspect ratio.\n     * @returns {Cropper} this\n     */\n    setAspectRatio: function setAspectRatio(aspectRatio) {\n      var options = this.options;\n\n      if (!this.disabled && !isUndefined(aspectRatio)) {\n        // 0 -> NaN\n        options.aspectRatio = Math.max(0, aspectRatio) || NaN;\n\n        if (this.ready) {\n          this.initCropBox();\n\n          if (this.cropped) {\n            this.renderCropBox();\n          }\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Change the drag mode.\n     * @param {string} mode - The new drag mode.\n     * @returns {Cropper} this\n     */\n    setDragMode: function setDragMode(mode) {\n      var options = this.options,\n          dragBox = this.dragBox,\n          face = this.face;\n\n      if (this.ready && !this.disabled) {\n        var croppable = mode === DRAG_MODE_CROP;\n        var movable = options.movable && mode === DRAG_MODE_MOVE;\n        mode = croppable || movable ? mode : DRAG_MODE_NONE;\n        options.dragMode = mode;\n        setData(dragBox, DATA_ACTION, mode);\n        toggleClass(dragBox, CLASS_CROP, croppable);\n        toggleClass(dragBox, CLASS_MOVE, movable);\n\n        if (!options.cropBoxMovable) {\n          // Sync drag mode to crop box when it is not movable\n          setData(face, DATA_ACTION, mode);\n          toggleClass(face, CLASS_CROP, croppable);\n          toggleClass(face, CLASS_MOVE, movable);\n        }\n      }\n\n      return this;\n    }\n  };\n\n  var AnotherCropper = WINDOW.Cropper;\n\n  var Cropper = /*#__PURE__*/function () {\n    /**\n     * Create a new Cropper.\n     * @param {Element} element - The target element for cropping.\n     * @param {Object} [options={}] - The configuration options.\n     */\n    function Cropper(element) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      _classCallCheck(this, Cropper);\n\n      if (!element || !REGEXP_TAG_NAME.test(element.tagName)) {\n        throw new Error('The first argument is required and must be an <img> or <canvas> element.');\n      }\n\n      this.element = element;\n      this.options = assign({}, DEFAULTS, isPlainObject(options) && options);\n      this.cropped = false;\n      this.disabled = false;\n      this.pointers = {};\n      this.ready = false;\n      this.reloading = false;\n      this.replaced = false;\n      this.sized = false;\n      this.sizing = false;\n      this.init();\n    }\n\n    _createClass(Cropper, [{\n      key: \"init\",\n      value: function init() {\n        var element = this.element;\n        var tagName = element.tagName.toLowerCase();\n        var url;\n\n        if (element[NAMESPACE]) {\n          return;\n        }\n\n        element[NAMESPACE] = this;\n\n        if (tagName === 'img') {\n          this.isImg = true; // e.g.: \"img/picture.jpg\"\n\n          url = element.getAttribute('src') || '';\n          this.originalUrl = url; // Stop when it's a blank image\n\n          if (!url) {\n            return;\n          } // e.g.: \"https://example.com/img/picture.jpg\"\n\n\n          url = element.src;\n        } else if (tagName === 'canvas' && window.HTMLCanvasElement) {\n          url = element.toDataURL();\n        }\n\n        this.load(url);\n      }\n    }, {\n      key: \"load\",\n      value: function load(url) {\n        var _this = this;\n\n        if (!url) {\n          return;\n        }\n\n        this.url = url;\n        this.imageData = {};\n        var element = this.element,\n            options = this.options;\n\n        if (!options.rotatable && !options.scalable) {\n          options.checkOrientation = false;\n        } // Only IE10+ supports Typed Arrays\n\n\n        if (!options.checkOrientation || !window.ArrayBuffer) {\n          this.clone();\n          return;\n        } // Detect the mime type of the image directly if it is a Data URL\n\n\n        if (REGEXP_DATA_URL.test(url)) {\n          // Read ArrayBuffer from Data URL of JPEG images directly for better performance\n          if (REGEXP_DATA_URL_JPEG.test(url)) {\n            this.read(dataURLToArrayBuffer(url));\n          } else {\n            // Only a JPEG image may contains Exif Orientation information,\n            // the rest types of Data URLs are not necessary to check orientation at all.\n            this.clone();\n          }\n\n          return;\n        } // 1. Detect the mime type of the image by a XMLHttpRequest.\n        // 2. Load the image as ArrayBuffer for reading orientation if its a JPEG image.\n\n\n        var xhr = new XMLHttpRequest();\n        var clone = this.clone.bind(this);\n        this.reloading = true;\n        this.xhr = xhr; // 1. Cross origin requests are only supported for protocol schemes:\n        // http, https, data, chrome, chrome-extension.\n        // 2. Access to XMLHttpRequest from a Data URL will be blocked by CORS policy\n        // in some browsers as IE11 and Safari.\n\n        xhr.onabort = clone;\n        xhr.onerror = clone;\n        xhr.ontimeout = clone;\n\n        xhr.onprogress = function () {\n          // Abort the request directly if it not a JPEG image for better performance\n          if (xhr.getResponseHeader('content-type') !== MIME_TYPE_JPEG) {\n            xhr.abort();\n          }\n        };\n\n        xhr.onload = function () {\n          _this.read(xhr.response);\n        };\n\n        xhr.onloadend = function () {\n          _this.reloading = false;\n          _this.xhr = null;\n        }; // Bust cache when there is a \"crossOrigin\" property to avoid browser cache error\n\n\n        if (options.checkCrossOrigin && isCrossOriginURL(url) && element.crossOrigin) {\n          url = addTimestamp(url);\n        } // The third parameter is required for avoiding side-effect (#682)\n\n\n        xhr.open('GET', url, true);\n        xhr.responseType = 'arraybuffer';\n        xhr.withCredentials = element.crossOrigin === 'use-credentials';\n        xhr.send();\n      }\n    }, {\n      key: \"read\",\n      value: function read(arrayBuffer) {\n        var options = this.options,\n            imageData = this.imageData; // Reset the orientation value to its default value 1\n        // as some iOS browsers will render image with its orientation\n\n        var orientation = resetAndGetOrientation(arrayBuffer);\n        var rotate = 0;\n        var scaleX = 1;\n        var scaleY = 1;\n\n        if (orientation > 1) {\n          // Generate a new URL which has the default orientation value\n          this.url = arrayBufferToDataURL(arrayBuffer, MIME_TYPE_JPEG);\n\n          var _parseOrientation = parseOrientation(orientation);\n\n          rotate = _parseOrientation.rotate;\n          scaleX = _parseOrientation.scaleX;\n          scaleY = _parseOrientation.scaleY;\n        }\n\n        if (options.rotatable) {\n          imageData.rotate = rotate;\n        }\n\n        if (options.scalable) {\n          imageData.scaleX = scaleX;\n          imageData.scaleY = scaleY;\n        }\n\n        this.clone();\n      }\n    }, {\n      key: \"clone\",\n      value: function clone() {\n        var element = this.element,\n            url = this.url;\n        var crossOrigin = element.crossOrigin;\n        var crossOriginUrl = url;\n\n        if (this.options.checkCrossOrigin && isCrossOriginURL(url)) {\n          if (!crossOrigin) {\n            crossOrigin = 'anonymous';\n          } // Bust cache when there is not a \"crossOrigin\" property (#519)\n\n\n          crossOriginUrl = addTimestamp(url);\n        }\n\n        this.crossOrigin = crossOrigin;\n        this.crossOriginUrl = crossOriginUrl;\n        var image = document.createElement('img');\n\n        if (crossOrigin) {\n          image.crossOrigin = crossOrigin;\n        }\n\n        image.src = crossOriginUrl || url;\n        image.alt = element.alt || 'The image to crop';\n        this.image = image;\n        image.onload = this.start.bind(this);\n        image.onerror = this.stop.bind(this);\n        addClass(image, CLASS_HIDE);\n        element.parentNode.insertBefore(image, element.nextSibling);\n      }\n    }, {\n      key: \"start\",\n      value: function start() {\n        var _this2 = this;\n\n        var image = this.image;\n        image.onload = null;\n        image.onerror = null;\n        this.sizing = true; // Match all browsers that use WebKit as the layout engine in iOS devices,\n        // such as Safari for iOS, Chrome for iOS, and in-app browsers.\n\n        var isIOSWebKit = WINDOW.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent);\n\n        var done = function done(naturalWidth, naturalHeight) {\n          assign(_this2.imageData, {\n            naturalWidth: naturalWidth,\n            naturalHeight: naturalHeight,\n            aspectRatio: naturalWidth / naturalHeight\n          });\n          _this2.initialImageData = assign({}, _this2.imageData);\n          _this2.sizing = false;\n          _this2.sized = true;\n\n          _this2.build();\n        }; // Most modern browsers (excepts iOS WebKit)\n\n\n        if (image.naturalWidth && !isIOSWebKit) {\n          done(image.naturalWidth, image.naturalHeight);\n          return;\n        }\n\n        var sizingImage = document.createElement('img');\n        var body = document.body || document.documentElement;\n        this.sizingImage = sizingImage;\n\n        sizingImage.onload = function () {\n          done(sizingImage.width, sizingImage.height);\n\n          if (!isIOSWebKit) {\n            body.removeChild(sizingImage);\n          }\n        };\n\n        sizingImage.src = image.src; // iOS WebKit will convert the image automatically\n        // with its orientation once append it into DOM (#279)\n\n        if (!isIOSWebKit) {\n          sizingImage.style.cssText = 'left:0;' + 'max-height:none!important;' + 'max-width:none!important;' + 'min-height:0!important;' + 'min-width:0!important;' + 'opacity:0;' + 'position:absolute;' + 'top:0;' + 'z-index:-1;';\n          body.appendChild(sizingImage);\n        }\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        var image = this.image;\n        image.onload = null;\n        image.onerror = null;\n        image.parentNode.removeChild(image);\n        this.image = null;\n      }\n    }, {\n      key: \"build\",\n      value: function build() {\n        if (!this.sized || this.ready) {\n          return;\n        }\n\n        var element = this.element,\n            options = this.options,\n            image = this.image; // Create cropper elements\n\n        var container = element.parentNode;\n        var template = document.createElement('div');\n        template.innerHTML = TEMPLATE;\n        var cropper = template.querySelector(\".\".concat(NAMESPACE, \"-container\"));\n        var canvas = cropper.querySelector(\".\".concat(NAMESPACE, \"-canvas\"));\n        var dragBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-drag-box\"));\n        var cropBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-crop-box\"));\n        var face = cropBox.querySelector(\".\".concat(NAMESPACE, \"-face\"));\n        this.container = container;\n        this.cropper = cropper;\n        this.canvas = canvas;\n        this.dragBox = dragBox;\n        this.cropBox = cropBox;\n        this.viewBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-view-box\"));\n        this.face = face;\n        canvas.appendChild(image); // Hide the original image\n\n        addClass(element, CLASS_HIDDEN); // Inserts the cropper after to the current image\n\n        container.insertBefore(cropper, element.nextSibling); // Show the image if is hidden\n\n        if (!this.isImg) {\n          removeClass(image, CLASS_HIDE);\n        }\n\n        this.initPreview();\n        this.bind();\n        options.initialAspectRatio = Math.max(0, options.initialAspectRatio) || NaN;\n        options.aspectRatio = Math.max(0, options.aspectRatio) || NaN;\n        options.viewMode = Math.max(0, Math.min(3, Math.round(options.viewMode))) || 0;\n        addClass(cropBox, CLASS_HIDDEN);\n\n        if (!options.guides) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-dashed\")), CLASS_HIDDEN);\n        }\n\n        if (!options.center) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-center\")), CLASS_HIDDEN);\n        }\n\n        if (options.background) {\n          addClass(cropper, \"\".concat(NAMESPACE, \"-bg\"));\n        }\n\n        if (!options.highlight) {\n          addClass(face, CLASS_INVISIBLE);\n        }\n\n        if (options.cropBoxMovable) {\n          addClass(face, CLASS_MOVE);\n          setData(face, DATA_ACTION, ACTION_ALL);\n        }\n\n        if (!options.cropBoxResizable) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-line\")), CLASS_HIDDEN);\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-point\")), CLASS_HIDDEN);\n        }\n\n        this.render();\n        this.ready = true;\n        this.setDragMode(options.dragMode);\n\n        if (options.autoCrop) {\n          this.crop();\n        }\n\n        this.setData(options.data);\n\n        if (isFunction(options.ready)) {\n          addListener(element, EVENT_READY, options.ready, {\n            once: true\n          });\n        }\n\n        dispatchEvent(element, EVENT_READY);\n      }\n    }, {\n      key: \"unbuild\",\n      value: function unbuild() {\n        if (!this.ready) {\n          return;\n        }\n\n        this.ready = false;\n        this.unbind();\n        this.resetPreview();\n        this.cropper.parentNode.removeChild(this.cropper);\n        removeClass(this.element, CLASS_HIDDEN);\n      }\n    }, {\n      key: \"uncreate\",\n      value: function uncreate() {\n        if (this.ready) {\n          this.unbuild();\n          this.ready = false;\n          this.cropped = false;\n        } else if (this.sizing) {\n          this.sizingImage.onload = null;\n          this.sizing = false;\n          this.sized = false;\n        } else if (this.reloading) {\n          this.xhr.onabort = null;\n          this.xhr.abort();\n        } else if (this.image) {\n          this.stop();\n        }\n      }\n      /**\n       * Get the no conflict cropper class.\n       * @returns {Cropper} The cropper class.\n       */\n\n    }], [{\n      key: \"noConflict\",\n      value: function noConflict() {\n        window.Cropper = AnotherCropper;\n        return Cropper;\n      }\n      /**\n       * Change the default options.\n       * @param {Object} options - The new default options.\n       */\n\n    }, {\n      key: \"setDefaults\",\n      value: function setDefaults(options) {\n        assign(DEFAULTS, isPlainObject(options) && options);\n      }\n    }]);\n\n    return Cropper;\n  }();\n\n  assign(Cropper.prototype, render, preview, events, handlers, change, methods);\n\n  return Cropper;\n\n})));\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import axios from 'axios';\nimport Cropper from 'cropperjs';\n\nclass EconaArticleImages {\n\n  constructor(options) {\n    const defaults = {};\n    this.params = Object.assign({}, defaults, options || {});\n\n    this.container = this.params.container;\n    this.econa = this.container.querySelector('.econa-container');\n    this.cropperContainer = this.container.querySelector('.econa-cropper-container');\n    this.cropperImage = this.container.querySelector('.econa-cropper-image');\n    this.previewImage = this.container.querySelector('.econa-preview-image');\n    this.editButton = this.container.querySelector('.econa-toolbar [data-action=\"edit\"]');\n    this.deleteButton = this.container.querySelector('.econa-toolbar [data-action=\"delete\"]');\n    this.cropperButtons = this.container.querySelector('.econa-cropper-buttons');\n\n    this.aspectRatioField = this.container.querySelector('.econa-aspect-ratio-field');\n    this.uploadField = this.container.querySelector('.econa-upload-field');\n    this.deleteField = this.container.querySelector('.econa-delete-field');\n    this.fileField = this.container.querySelector('.econa-file-field');\n    this.filenameField = this.container.querySelector('.econa-filename-field');\n    this.currentField = this.container.querySelector('.econa-current-field');\n    this.keyField = this.container.querySelector('.econa-key-field');\n    this.pathField = this.container.querySelector('.econa-path-field');\n    this.widthField = this.container.querySelector('.econa-width-field');\n    this.heightField = this.container.querySelector('.econa-height-field');\n\n    this.options = JSON.parse(this.container.querySelector('.econa-params').textContent);\n\n    this.cropper = null;\n    this.modal = null;\n    this.width = this.widthField.value;\n    this.height = this.heightField.value;\n\n    this.start();\n\n  }\n\n  start() {\n    this.createModal();\n    this.addEvents();\n    if (!this.currentField.value) {\n      this.disableToolbarButtons();\n    }\n  }\n\n\n  addEvents() {\n\n    // Upload when file is selected\n    this.fileField.addEventListener('change', () => {\n      this.upload({\n        file: this.fileField.files[0]\n      });\n    });\n\n    // Upload when image is selected from media manager\n    let currentValue = this.pathField.value;\n    if ('MutationObserver' in window) {\n      const observer = new MutationObserver((mutations, observer) => {\n        window.setTimeout(() => {\n          if (currentValue !== this.pathField.value && this.pathField.value) {\n            currentValue = this.pathField.value;\n            let path = this.pathField.value;\n            if (path.indexOf('#') !== -1) {\n              const parts = path.split('#');\n              path = parts[0];\n            }\n            this.upload({\n              path: path\n            });\n          }\n        }, 1000);\n      });\n      observer.observe(this.container, {\n        subtree: true,\n        attributes: true\n      });\n    }\n\n\n    // Aspect ratio - Use jQuery if we are under Joomla 3 so chosen events work\n    if (econaJVersion === '3') {\n      // Joomla 3 chosen event listener\n      jQuery(this.aspectRatioField).on('change', () => {\n        if (this.cropper) {\n          this.cropper.setAspectRatio(this.aspectRatioField.value);\n        }\n      });\n    } else {\n      // Vanilla js\n      this.aspectRatioField.addEventListener('change', () => {\n        if (this.cropper) {\n          this.cropper.setAspectRatio(this.aspectRatioField.value);\n        }\n      });\n    }\n\n    // Upload\n    this.container.querySelector('[data-action=\"upload\"]').addEventListener('click', (event) => {\n      event.preventDefault();\n      this.fileField.click();\n    });\n\n    // Media manager\n    const mediaButton = this.container.querySelector('[data-action=\"media-manager\"]');\n    if (mediaButton) {\n      mediaButton.addEventListener('click', (event) => {\n        event.preventDefault();\n        this.pathField.nextElementSibling.click();\n      });\n    }\n\n    // Edit\n    this.container.querySelector('[data-action=\"edit\"]').addEventListener('click', (event) => {\n      event.preventDefault();\n      this.edit();\n    });\n\n    // Delete\n    this.container.querySelector('[data-action=\"delete\"]').addEventListener('click', (event) => {\n      event.preventDefault();\n      this.delete();\n    });\n\n    // Apply\n    this.container.querySelector('[data-action=\"apply\"]').addEventListener('click', (event) => {\n      event.preventDefault();\n      this.apply();\n    });\n\n    // Cancel\n    this.container.querySelector('[data-action=\"cancel\"]').addEventListener('click', (event) => {\n      event.preventDefault();\n      this.cancel();\n    });\n\n    // Cropper buttons\n    const buttons = this.cropperButtons.querySelectorAll('[data-method]');\n    for (let i = 0; i < buttons.length; i++) {\n      buttons[i].addEventListener('click', (event) => {\n\n        event.preventDefault();\n\n        const button = event.currentTarget;\n        const method = button.dataset.method;\n        let option = button.dataset.option;\n        let secondOption = button.dataset.secondOption;\n        let direction = button.dataset.direction;\n        let degrees = this.container.querySelector('input[name=\"econaRotateDegree\"]').value;\n\n        if (button.disabled || button.classList.contains('disabled')) {\n          return;\n        }\n\n        if (this.cropper && method) {\n\n          const data = this.cropper.getData();\n\n          if (method === 'rotate') {\n\n            if (data.scaleX === -1 || data.scaleY === -1) {\n              direction = direction === 'left' ? 'right' : 'left';\n            }\n\n            if (direction === 'left') {\n              option = '-' + degrees;\n            } else {\n              option = degrees;\n            }\n\n          }\n\n          if (method === 'scaleX' && data.scaleX === -1) {\n            option = 1;\n          }\n          if (method === 'scaleY' && data.scaleY === -1) {\n            option = 1;\n          }\n\n          this.cropper[method](option, secondOption);\n        }\n\n      });\n    }\n\n  }\n\n  upload({\n    file,\n    path\n  }) {\n\n    this.econa.classList.add('econa-loading');\n\n    const data = new FormData();\n\n    if (file) {\n      data.append(this.fileField.name, file);\n    }\n    if (path) {\n      data.append('path', path);\n    }\n\n    data.append('econaKey', this.keyField.value);\n    data.append('econaUpload', this.uploadField.value);\n    data.append(econaSessionToken, 1);\n\n    axios({\n      method: 'post',\n      url: econaBaseUrl + '/index.php?option=com_ajax&plugin=econa_article_images&group=content&format=json',\n      data: data\n    }).then((response) => {\n      if (response.data.success === true) {\n        const image = response.data.data[0];\n\n        this.cropperImage.setAttribute('src', image.preview + '?t=' + Date.now());\n        this.previewImage.setAttribute('src', image.preview + '?t=' + Date.now());\n\n        this.deleteField.value = '';\n        this.filenameField.value = image.filename;\n        this.uploadField.value = image.upload;\n        this.width = image.width;\n        this.height = image.height;\n\n\n        this.enableToolbarButtons();\n\n        const autoEdit = parseInt(this.options.auto_edit, 10);\n        if (autoEdit) {\n          window.setTimeout(() => {\n            this.container.querySelector('[data-action=\"edit\"]').click();\n          }, 1000);\n        }\n\n      } else {\n        alert(response.data.message);\n      }\n    }).catch((error) => {\n      alert(error);\n    }).finally(() => {\n      this.econa.classList.remove('econa-loading');\n    });\n\n  }\n\n  apply() {\n\n    this.econa.classList.add('econa-loading');\n\n    const cropData = this.cropper.getData();\n\n    const data = new FormData();\n    data.append('x', cropData.x);\n    data.append('y', cropData.y);\n    data.append('width', cropData.width);\n    data.append('height', cropData.height);\n    data.append('rotate', cropData.rotate);\n    data.append('scaleX', cropData.scaleX);\n    data.append('scaleY', cropData.scaleY);\n    data.append('task', 'process');\n    data.append(econaSessionToken, 1);\n    data.append('econaKey', this.keyField.value);\n    data.append('econaUpload', this.uploadField.value);\n    data.append('econaCurrent', this.currentField.value);\n\n    axios({\n      method: 'post',\n      url: econaBaseUrl + '/index.php?option=com_ajax&plugin=econa_article_images&group=content&format=json',\n      data: data\n    }).then((response) => {\n      if (response.data.success === true) {\n        this.width = response.data.data[0].width;\n        this.height = response.data.data[0].height;\n        this.cropperImage.setAttribute('src', response.data.data[0].preview + '?t=' + Date.now());\n        this.previewImage.setAttribute('src', response.data.data[0].preview + '?t=' + Date.now());\n        this.uploadField.value = response.data.data[0].upload;\n        this.enableToolbarButtons();\n      } else {\n        alert(response.data.message);\n      }\n    }).catch((error) => {\n      alert(error);\n    }).finally(() => {\n      this.closeModal();\n      this.cropper.destroy();\n      this.econa.classList.remove('econa-loading');\n    });\n\n  }\n\n\n  edit() {\n    this.openModal();\n    this.setCropperWidth(this.width, this.height);\n    this.cropper = new Cropper(this.cropperImage, {\n      aspectRatio: this.aspectRatioField.value,\n      zoomOnWheel: false,\n      responsive: true,\n      viewMode: 3\n    });\n  }\n\n\n  cancel() {\n    this.closeModal();\n    this.cropper.destroy();\n  }\n\n\n  delete() {\n\n    this.deleteField.value = '1';\n    this.filenameField.value = '';\n    this.currentField.value = '';\n    this.previewImage.src = econaPlaceholderImage;\n    this.disableToolbarButtons();\n    if (this.uploadField.value) {\n\n      const data = new FormData();\n      data.append('task', 'delete');\n      data.append(econaSessionToken, 1);\n      data.append('econaUpload', this.uploadField.value);\n\n      axios({\n        method: 'post',\n        url: econaBaseUrl + '/index.php?option=com_ajax&plugin=econa_article_images&group=content&format=json',\n        data: data\n      }).then((response) => {\n        if (response.data.success === true) {\n          this.uploadField.value = '';\n        } else {\n          alert(response.data.message);\n        }\n      }).catch((error) => {\n        alert(error);\n      });\n    }\n  }\n\n  createModal() {\n    if (econaJVersion === '4') {\n      this.modal = new bootstrap.Modal(this.container.querySelector('.econa-modal'), {\n        keyboard: false,\n        backdrop: 'static'\n      });\n    } else {\n      this.modal = jQuery(this.container).find('.econa-modal').modal({\n        keyboard: false,\n        backdrop: 'static'\n      });\n      this.closeModal();\n    }\n\n  }\n\n  openModal() {\n    if (econaJVersion === '4') {\n      this.modal.show();\n    } else {\n      this.modal.modal('show');\n    }\n  }\n\n  closeModal() {\n    if (econaJVersion === '4') {\n      this.modal.hide();\n    } else {\n      this.modal.modal('hide');\n    }\n  }\n\n  enableToolbarButtons() {\n    this.editButton.disabled = false;\n    this.deleteButton.disabled = false;\n  }\n\n  disableToolbarButtons() {\n    this.editButton.disabled = true;\n    this.deleteButton.disabled = true;\n  }\n\n  setCropperWidth(width, height) {\n    let value = '100%';\n    if (width && height) {\n      const screenWidth = window.innerWidth * 0.8;\n      const screenHeight = window.innerHeight * 0.8;\n      const screenRatio = screenWidth / screenHeight;\n      const imageRatio = width / height;\n      if (width < screenWidth && height < screenHeight) {\n        value = width;\n      } else if (screenRatio > imageRatio) {\n        value = width * screenHeight / height;\n      } else {\n        value = screenWidth;\n      }\n\n      value += 'px';\n    }\n\n    this.cropperContainer.style.width = value;\n  }\n\n\n}\n\nexport {\n  EconaArticleImages as\n  default\n};\n","import EconaArticleImages from './EconaArticleImages';\nimport EconaCustomField from './EconaCustomField';\n\nconst articleImages = document.querySelectorAll('.econa-article-images-container');\n\nfor (let i = 0; i < articleImages.length; i++) {\n  new EconaArticleImages({\n    container: articleImages[i]\n  });\n}\n\nconst customFields = document.querySelectorAll('.econa-field-container');\n\nfor (let i = 0; i < customFields.length; i++) {\n  new EconaCustomField({\n    container: customFields[i]\n  });\n}\n","import axios from 'axios';\nimport Cropper from 'cropperjs';\n\nclass EconaCustomField {\n\n  constructor(options) {\n    const defaults = {};\n    this.params = Object.assign({}, defaults, options || {});\n\n    this.container = this.params.container;\n    this.econa = this.container.querySelector('.econa-container');\n    this.cropperContainer = this.container.querySelector('.econa-cropper-container');\n    this.cropperImage = this.container.querySelector('.econa-cropper-image');\n    this.previewImage = this.container.querySelector('.econa-preview-image');\n    this.editButton = this.container.querySelector('.econa-toolbar [data-action=\"edit\"]');\n    this.deleteButton = this.container.querySelector('.econa-toolbar [data-action=\"delete\"]');\n    this.cropperButtons = this.container.querySelector('.econa-cropper-buttons');\n\n    this.aspectRatioField = this.container.querySelector('.econa-aspect-ratio-field');\n    this.uploadField = this.container.querySelector('.econa-upload-field');\n    this.deleteField = this.container.querySelector('.econa-delete-field');\n    this.contextField = this.container.querySelector('.econa-context-field');\n    this.fileField = this.container.querySelector('.econa-file-field');\n    this.filenameField = this.container.querySelector('.econa-filename-field');\n    this.valueField = this.container.querySelector('[data-econa]');\n\n    this.data = JSON.parse(this.valueField.value) || {};\n    this.key = this.valueField.dataset.econa;\n\n    this.validatorField = this.container.querySelector('[data-role=\"econa-validator\"]');\n\n    this.pathField = this.container.querySelector('.econa-path-field');\n    this.captionField = this.container.querySelector('.econa-caption-field');\n    this.creditsField = this.container.querySelector('.econa-credits-field');\n    this.altField = this.container.querySelector('.econa-alt-field');\n    this.options = JSON.parse(this.container.querySelector('.econa-params').textContent);\n\n    this.cropper = null;\n    this.modal = null;\n\n    this.start();\n\n  }\n\n  start() {\n    this.createModal();\n    this.updateValue();\n    this.addEvents();\n    if (!this.data.filename) {\n      this.disableToolbarButtons();\n    }\n  }\n\n  updateValue() {\n    this.data.key = this.key;\n    this.data.caption = this.captionField.value;\n    this.data.credits = this.creditsField.value;\n    this.data.alt = this.altField.value;\n    this.valueField.value = JSON.stringify(this.data);\n  }\n\n  addEvents() {\n\n    // Update the hidden field value when a field is changed\n    const textFields = this.container.querySelectorAll('input[type=\"text\"]');\n    for (let i = 0; i < textFields.length; i++) {\n      textFields[i].addEventListener('change', () => {\n        this.updateValue();\n      });\n    }\n\n    // Upload when file is selected\n    this.fileField.addEventListener('change', () => {\n      this.upload({\n        file: this.fileField.files[0]\n      });\n    });\n\n    // Upload when image is selected from media manager\n    let currentValue = this.pathField.value;\n    if ('MutationObserver' in window) {\n      const observer = new MutationObserver((mutations, observer) => {\n        window.setTimeout(() => {\n          if (currentValue !== this.pathField.value && this.pathField.value) {\n            currentValue = this.pathField.value;\n            let path = this.pathField.value;\n            if (path.indexOf('#') !== -1) {\n              const parts = path.split('#');\n              path = parts[0];\n            }\n            this.upload({\n              path: path\n            });\n          }\n        }, 1000);\n      });\n      observer.observe(this.container, {\n        subtree: true,\n        attributes: true\n      });\n    }\n\n\n    // Aspect ratio - Use jQuery if we are under Joomla 3 so chosen events work\n    if (econaJVersion === '3') {\n      // Joomla 3 chosen event listener\n      jQuery(this.aspectRatioField).on('change', () => {\n        if (this.cropper) {\n          this.cropper.setAspectRatio(this.aspectRatioField.value);\n        }\n      });\n    } else {\n      // Vanilla js\n      this.aspectRatioField.addEventListener('change', () => {\n        if (this.cropper) {\n          this.cropper.setAspectRatio(this.aspectRatioField.value);\n        }\n      });\n    }\n\n    // Upload\n    this.container.querySelector('[data-action=\"upload\"]').addEventListener('click', (event) => {\n      event.preventDefault();\n      this.fileField.click();\n    });\n\n    // Media manager\n    const mediaButton = this.container.querySelector('[data-action=\"media-manager\"]');\n    if (mediaButton) {\n      mediaButton.addEventListener('click', (event) => {\n        event.preventDefault();\n        this.pathField.nextElementSibling.click();\n      });\n    }\n\n    // Edit\n    this.container.querySelector('[data-action=\"edit\"]').addEventListener('click', (event) => {\n      event.preventDefault();\n      this.edit();\n    });\n\n    // Delete\n    this.container.querySelector('[data-action=\"delete\"]').addEventListener('click', (event) => {\n      event.preventDefault();\n      this.delete();\n    });\n\n    // Apply\n    this.container.querySelector('[data-action=\"apply\"]').addEventListener('click', (event) => {\n      event.preventDefault();\n      this.apply();\n    });\n\n    // Cancel\n    this.container.querySelector('[data-action=\"cancel\"]').addEventListener('click', (event) => {\n      event.preventDefault();\n      this.cancel();\n    });\n\n    // Cropper buttons\n    const buttons = this.cropperButtons.querySelectorAll('[data-method]');\n    for (let i = 0; i < buttons.length; i++) {\n      buttons[i].addEventListener('click', (event) => {\n\n        event.preventDefault();\n\n        const button = event.currentTarget;\n        const method = button.dataset.method;\n        let option = button.dataset.option;\n        let secondOption = button.dataset.secondOption;\n        let direction = button.dataset.direction;\n        let degrees = this.container.querySelector('input[name=\"econaRotateDegree\"]').value;\n\n        if (button.disabled || button.classList.contains('disabled')) {\n          return;\n        }\n\n        if (this.cropper && method) {\n\n          const data = this.cropper.getData();\n\n          if (method === 'rotate') {\n\n            if (data.scaleX === -1 || data.scaleY === -1) {\n              direction = direction === 'left' ? 'right' : 'left';\n            }\n\n            if (direction === 'left') {\n              option = '-' + degrees;\n            } else {\n              option = degrees;\n            }\n\n          }\n\n          if (method === 'scaleX' && data.scaleX === -1) {\n            option = 1;\n          }\n          if (method === 'scaleY' && data.scaleY === -1) {\n            option = 1;\n          }\n\n          this.cropper[method](option, secondOption);\n        }\n\n      });\n    }\n\n  }\n\n  upload({\n    file,\n    path\n  }) {\n\n    this.econa.classList.add('econa-loading');\n\n    const data = new FormData();\n\n    if (file) {\n      data.append(this.fileField.name, file);\n    }\n    if (path) {\n      data.append('path', path);\n    }\n\n    data.append('econaKey', this.key);\n    data.append('econaUpload', this.uploadField.value);\n    data.append('econaContext', this.contextField.value);\n    data.append(econaSessionToken, 1);\n\n    axios({\n      method: 'post',\n      url: econaBaseUrl + '/index.php?option=com_ajax&plugin=econa&group=fields&format=json',\n      data: data\n    }).then((response) => {\n      if (response.data.success === true) {\n        const image = response.data.data[0];\n\n        this.cropperImage.setAttribute('src', image.preview + '?t=' + Date.now());\n        this.previewImage.setAttribute('src', image.preview + '?t=' + Date.now());\n\n        this.deleteField.value = '';\n        this.filenameField.value = image.filename;\n        this.uploadField.value = image.upload;\n        this.validatorField.value = 'ok';\n        this.data.width = image.width;\n        this.data.height = image.height;\n\n        this.updateValue();\n\n        this.enableToolbarButtons();\n\n        const autoEdit = parseInt(this.options.auto_edit, 10);\n        if (autoEdit) {\n          window.setTimeout(() => {\n            this.container.querySelector('[data-action=\"edit\"]').click();\n          }, 1000);\n        }\n\n      } else {\n        alert(response.data.message);\n      }\n    }).catch((error) => {\n      alert(error);\n    }).finally(() => {\n      this.econa.classList.remove('econa-loading');\n    });\n\n  }\n\n  apply() {\n\n    this.econa.classList.add('econa-loading');\n\n    const cropData = this.cropper.getData();\n\n    const data = new FormData();\n    data.append('x', cropData.x);\n    data.append('y', cropData.y);\n    data.append('width', cropData.width);\n    data.append('height', cropData.height);\n    data.append('rotate', cropData.rotate);\n    data.append('scaleX', cropData.scaleX);\n    data.append('scaleY', cropData.scaleY);\n    data.append('task', 'process');\n    data.append(econaSessionToken, 1);\n    data.append('econaKey', this.key);\n    data.append('econaUpload', this.uploadField.value);\n    data.append('econaContext', this.contextField.value);\n    data.append('fieldId', this.data.fieldId || 0);\n    data.append('itemId', this.data.itemId);\n    data.append('context', this.data.context);\n\n    axios({\n      method: 'post',\n      url: econaBaseUrl + '/index.php?option=com_ajax&plugin=econa&group=fields&format=json',\n      data: data\n    }).then((response) => {\n      if (response.data.success === true) {\n        this.data.width = response.data.data[0].width;\n        this.data.height = response.data.data[0].height;\n        this.cropperImage.setAttribute('src', response.data.data[0].preview + '?t=' + Date.now());\n        this.previewImage.setAttribute('src', response.data.data[0].preview + '?t=' + Date.now());\n        this.uploadField.value = response.data.data[0].upload;\n        this.updateValue();\n        this.enableToolbarButtons();\n      } else {\n        alert(response.data.message);\n      }\n    }).catch((error) => {\n      alert(error);\n    }).finally(() => {\n      this.closeModal();\n      this.cropper.destroy();\n      this.econa.classList.remove('econa-loading');\n    });\n\n  }\n\n\n  edit() {\n    this.openModal();\n    this.setCropperWidth(this.data.width, this.data.height);\n    this.cropper = new Cropper(this.cropperImage, {\n      aspectRatio: this.aspectRatioField.value,\n      zoomOnWheel: false,\n      responsive: true,\n      viewMode: 3\n    });\n  }\n\n\n  cancel() {\n    this.closeModal();\n    this.cropper.destroy();\n  }\n\n\n  delete() {\n\n    this.deleteField.value = '1';\n    this.filenameField.value = '';\n    this.validatorField.value = '';\n    this.previewImage.src = econaPlaceholderImage;\n    this.disableToolbarButtons();\n    if (this.uploadField.value) {\n\n      const data = new FormData();\n      data.append('task', 'delete');\n      data.append(econaSessionToken, 1);\n      data.append('econaUpload', this.uploadField.value);\n      data.append('econaContext', this.contextField.value);\n\n      axios({\n        method: 'post',\n        url: econaBaseUrl + '/index.php?option=com_ajax&plugin=econa&group=fields&format=json',\n        data: data\n      }).then((response) => {\n        if (response.data.success === true) {\n          this.uploadField.value = '';\n          this.updateValue();\n        } else {\n          alert(response.data.message);\n        }\n      }).catch((error) => {\n        alert(error);\n      });\n    }\n  }\n\n  createModal() {\n    if (econaJVersion === '4') {\n      this.modal = new bootstrap.Modal(this.container.querySelector('.econa-modal'), {\n        keyboard: false,\n        backdrop: 'static'\n      });\n    } else {\n      this.modal = jQuery(this.container).find('.econa-modal').modal({\n        keyboard: false,\n        backdrop: 'static'\n      });\n      this.closeModal();\n    }\n\n  }\n\n  openModal() {\n    if (econaJVersion === '4') {\n      this.modal.show();\n    } else {\n      this.modal.modal('show');\n    }\n  }\n\n  closeModal() {\n    if (econaJVersion === '4') {\n      this.modal.hide();\n    } else {\n      this.modal.modal('hide');\n    }\n  }\n\n  enableToolbarButtons() {\n    this.editButton.disabled = false;\n    this.deleteButton.disabled = false;\n  }\n\n  disableToolbarButtons() {\n    this.editButton.disabled = true;\n    this.deleteButton.disabled = true;\n  }\n\n  setCropperWidth(width, height) {\n    let value = '100%';\n    if (width && height) {\n      const screenWidth = window.innerWidth * 0.8;\n      const screenHeight = window.innerHeight * 0.8;\n      const screenRatio = screenWidth / screenHeight;\n      const imageRatio = width / height;\n      if (width < screenWidth && height < screenHeight) {\n        value = width;\n      } else if (screenRatio > imageRatio) {\n        value = width * screenHeight / height;\n      } else {\n        value = screenWidth;\n      }\n\n      value += 'px';\n    }\n\n    this.cropperContainer.style.width = value;\n  }\n\n\n}\n\nexport {\n  EconaCustomField as\n  default\n};\n"],"sourceRoot":""}